<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">	<h:panelGroup id="meditionReportOnDisputeLodgedGroup">		<h:form id="meditionReportOnDisputeLodgedForm">			<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="#{initiatewspUI.wsp.wspStatusEnum eq WspStatusEnum.PendingSignOff and (initiatewspUI.wsp.activeSignOff ne null and initiatewspUI.wsp.activeSignOff.user eq sessionUI.activeUser and not initiatewspUI.wsp.activeSignOff.accept and not initiatewspUI.wsp.activeSignOff.dispute)}">				<h:panelGroup>					<div>						<p:outputLabel value="#{lang['reason.for.dispute']}" />					</div>					<div>						<p:inputTextarea style="width: 95%" value="#{initiatewspUI.disputeReason}"></p:inputTextarea>					</div>				</h:panelGroup>			</p:panelGrid>			<p:panelGrid columns="1" style="width:100%; text-align: center" layout="grid" styleClass="ui-panelgrid-blank form-group"				rendered="#{initiatewspUI.wsp.wspStatusEnum eq WspStatusEnum.PendingSignOff and (initiatewspUI.wsp.activeSignOff ne null and initiatewspUI.wsp.activeSignOff.user eq sessionUI.activeUser and not initiatewspUI.wsp.activeSignOff.accept and not initiatewspUI.wsp.activeSignOff.dispute)}">				<p:commandButton value="#{lang['add.dispute']}" icon="fa fa-plus" styleClass="red-btn flat Fs18" style="height: 50px;" process="meditionReportOnDisputeLodgedForm" action="#{initiatewspUI.disputeWSP}" update=":tabView :errorsForm :wspInfo" />			</p:panelGrid>			<p:dataTable var="rowVar" value="#{initiatewspUI.disputes}" rendered="#{initiatewspUI.disputes.size() gt 0}" rowKey="#{rowVar.id}" paginator="true" rows="5" paginatorPosition="bottom" paginatorTemplate="#{lang['page']} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true"				lazy="true">				<p:column headerText="#{lang['createUser']}">					<p:outputLabel value="#{rowVar.createUser.firstName} #{rowVar.createUser.lastName}"></p:outputLabel>				</p:column>				<p:column headerText="#{lang['reason.for.dispute']}">					<p:outputLabel value="#{rowVar.resonForDispute}"></p:outputLabel>				</p:column>				<p:column headerText="#{lang['mediation.date']}">					<p:outputLabel value="#{rowVar.mediationDate}">						<f:convertDateTime pattern="dd MMMM yyyy" />					</p:outputLabel>				</p:column>				<p:column headerText="#{lang['venue']}">					<p:outputLabel value="#{rowVar.venue}"></p:outputLabel>				</p:column>				<p:column headerText="#{lang['status']}">					<p:outputLabel value="#{lang['agreement']}" rendered="#{rowVar.agreementOfGrants}"></p:outputLabel>					<p:outputLabel value="#{lang['no.agreement']}" rendered="#{rowVar.noAgreement}"></p:outputLabel>				</p:column>				<p:column width="40">					<p:commandButton icon="fa fa-check" title="Sign Off Dispute" update=":tabView:meditionReportOnDisputeLodgedForm" process="@this" rendered="#{rowVar.mediationDate ne null and not rowVar.resolved}">						<f:setPropertyActionListener value="#{rowVar}" target="#{initiatewspUI.dispute}" />					</p:commandButton>					<p:spacer width="5"></p:spacer>					<p:commandButton icon="fa fa-calendar" title="#{lang['mediation.date']}" update=":tabView:mediationDateForm" oncomplete="PF('dlgMediation').show()" process="@this" rendered="#{rowVar.mediationDate eq null}">						<f:setPropertyActionListener value="#{rowVar}" target="#{initiatewspUI.dispute}" />					</p:commandButton>					<div align="center">						<p:commandButton icon="ui-icon-error-outline" title="Click to view notes" type="button" rendered="#{rowVar.resolved and rowVar.summaryNoAgreement ne null}" id="errorRag" styleClass="flat" />					</div>					<p:overlayPanel for="errorRag" hideEffect="fade" style="min-width: 200px; max-width: 400px">						<p:fieldset styleClass="error Fs14">							<h:outputText value="#{rowVar.summaryNoAgreement}" />						</p:fieldset>					</p:overlayPanel>				</p:column>			</p:dataTable>			<p:panelGrid rendered="#{initiatewspUI.dispute ne null}">				<div class="EmptyBox20"></div>				<p:panelGrid columns="2" style="width:100%" id="meditionReportOnDisputeLodgedGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">					<h:panelGroup styleClass="md-inputfield">						<p:inputText value="#{initiatewspUI.rt.clo.users.firstName} #{initiatewspUI.rt.clo.users.lastName}" disabled="true" style="width: 95%; opacity: 1 !important" />						<p:outputLabel value="#{lang['chairperson.name']}" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText value="#{initiatewspUI.dispute.mediationDate}" disabled="true" style="width: 95%; opacity: 1 !important">							<f:convertDateTime pattern="dd MMMM yyyy" />						</p:inputText>						<p:outputLabel value="#{lang['date.of.mediation']}" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText value="#{initiatewspUI.dispute.venue}" disabled="true" style="width: 95%; opacity: 1 !important" />						<p:outputLabel value="#{lang['venue']}" />					</h:panelGroup>				</p:panelGrid>				<div class="EmptyBox20"></div>				<p:fieldset>					<p:panelGrid columns="1" style="width:100%" id="discretionaryGrantGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">						<h:panelGroup rendered="#{not initiatewspUI.dispute.noAgreement}">							<p:outputLabel value="#{lang['the.parties.named.above.have.come.agreement.sign.the.grants']}" for="imm" />							<p:spacer width="10" />							<p:selectBooleanCheckbox id="imm" value="#{initiatewspUI.dispute.agreementOfGrants}">								<p:ajax update="discretionaryGrantGrid reason"></p:ajax>							</p:selectBooleanCheckbox>						</h:panelGroup>						<h:panelGroup rendered="#{not initiatewspUI.dispute.agreementOfGrants}">							<p:outputLabel value="#{lang['the.parties.named.above.this.case.were.unable.reach.agreement.through.mediation.sign.off.the.grants']}" />							<p:spacer width="10" />							<p:selectBooleanCheckbox id="immm" value="#{initiatewspUI.dispute.noAgreement}">								<p:ajax update="discretionaryGrantGrid reason"></p:ajax>							</p:selectBooleanCheckbox>						</h:panelGroup>					</p:panelGrid>					<p:outputPanel id="reason">						<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="#{initiatewspUI.dispute.noAgreement}">							<h:panelGroup>								<div>									<p:outputLabel value="#{lang['summary.on.reason.for.non.agreement']}" />								</div>								<div>									<p:inputTextarea style="width:100%" value="#{initiatewspUI.dispute.summaryNoAgreement}" required="true" requiredMessage="Please enter the summary of reason(s) for non-agreement">										<p:ajax></p:ajax>									</p:inputTextarea>								</div>							</h:panelGroup>						</p:panelGrid>						<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="#{initiatewspUI.dispute.agreementOfGrants}">							<h:panelGroup>								<div>									<p:outputLabel value="Summary of agreement" />								</div>								<div>									<p:inputTextarea style="width:100%" value="#{initiatewspUI.dispute.summaryNoAgreement}" required="true" requiredMessage="Please enter the summary of agreement">										<p:ajax></p:ajax>									</p:inputTextarea>								</div>							</h:panelGroup>						</p:panelGrid>					</p:outputPanel>				</p:fieldset>				<p:fieldset legend="#{lang['reason']}" rendered="false">					<span class="Fs13 gray">						<i class="fa fa-info-circle" aria-hidden="true"></i>#{lang['where.there.is.no.agreement.following.supporting.documents.should.uploaded.onto.the.system.against.this.document.office.work']}:					</span>					<p:panelGrid columns="2" layout="grid" style="width:100%" styleClass="ui-panelgrid-blank form-group">						<h:panelGroup>							<li class="Fs13 gray">#{lang['minimum.of.two.signed.minutes.the.training.committee']}.</li>							<li class="Fs13 gray">#{lang['any.other.relevant.supporting.document']}.</li>						</h:panelGroup>						<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{initiatewspUI.storeFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}" update="tabView:docForm" multiple="false" fileLimit="1" immediate="false" auto="true" />					</p:panelGrid>				</p:fieldset>				<div class="EmptyBox20"></div>				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">					<p:commandButton icon="fa fa-plus" value="#{lang['add.representative']}" update=":tabView:searchUserForm" oncomplete="PF('dlgSearchUser').show()" process="@this" action="#{initiatewspUI.prepNewSignOff}" rendered="#{rowVar.mediationDate eq null}">					</p:commandButton>				</p:panelGrid>				<div class="EmptyBox20"></div>				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">					<p:repeat var="rv" value="#{initiatewspUI.dispute.signOffs}">						<div class="ui-g-12 ui-lg-6">							<p:panel rendered="#{rv.user ne null}">								<h:panelGroup>									<p:selectBooleanCheckbox value="#{rv.accept}" itemLabel="I acknowledge and accept the above" style="width:100%" styleClass="gray" disabled="#{(rv.completed and rv.user eq sessionUI.activeUser) or rv.user ne sessionUI.activeUser}">										<p:ajax></p:ajax>									</p:selectBooleanCheckbox>									<br />									<br />									<p:outputLabel value="#{rv.user.firstName} #{rv.user.lastName}" />									<br />									<p:outputLabel value="#{rv.signOffTitle}" />									<br />									<p:outputLabel value="#{sessionUI.now}">										<f:convertDateTime pattern="dd MMMM yyyy" />									</p:outputLabel>								</h:panelGroup>							</p:panel>							<p:panel rendered="#{rv.tempSignoff ne null}">								<h:panelGroup>									<p:selectBooleanCheckbox value="#{rv.accept}" itemLabel="I acknowledge and accept the above" style="width:100%" styleClass="gray" disabled="#{(rv.completed and rv.user eq sessionUI.activeUser) or rv.user ne sessionUI.activeUser}">										<p:ajax></p:ajax>									</p:selectBooleanCheckbox>									<br />									<br />									<p:outputLabel value="#{rv.tempSignoff.firstName} #{rv.tempSignoff.lastName}" />									<br />									<p:outputLabel value="#{rv.signOffTitle}" />									<br />									<p:outputLabel value="#{sessionUI.now}">										<f:convertDateTime pattern="dd MMMM yyyy" />									</p:outputLabel>								</h:panelGroup>							</p:panel>						</div>					</p:repeat>				</p:panelGrid>				<p:panelGrid columns="1" style="width:100%; text-align: center" layout="grid" styleClass="ui-panelgrid-blank form-group">					<p:commandButton value="#{lang['complete.dispute']}" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" process="meditionReportOnDisputeLodgedForm" action="#{initiatewspUI.completeDispute}" update=":tabView:meditionReportOnDisputeLodgedForm" />				</p:panelGrid>			</p:panelGrid>		</h:form>		<p:dialog header="#{lang['mediation.date']}" width="50%" widgetVar="dlgMediation" resizable="false" hideEffect="clip" showEffect="clip" id="dialogSDF" appendTo="@(body)" modal="true">			<h:form id="mediationDateForm">				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">					<h:panelGroup styleClass="md-inputfield">						<p:calendar id="startDate" value="#{initiatewspUI.dispute.mediationDate}" showOn="button" pattern="#{autoCompleteUI.CALENDER_PATTERN}" style="width: 95%" required="true" mask="true">						</p:calendar>						<p:outputLabel value="#{lang['mediation.date']}" for="startDate" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText value="#{initiatewspUI.dispute.venue}" style="width:95%" required="true" />						<p:outputLabel value="#{lang['venue']}" />					</h:panelGroup>				</p:panelGrid>				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">					<p:commandButton styleClass="Fs14 FontLight" value="#{lang['submit']}" oncomplete="PF('dlgMediation').hide()" icon="ui-icon-save" update="@form :tabView:meditionReportOnDisputeLodgedForm :tabView:docForm" action="#{initiatewspUI.saveDispute}" process="@form" />				</p:panelGrid>			</h:form>		</p:dialog>		<p:dialog header="Add Participant" width="50%" widgetVar="dlgSearchUser" resizable="false" hideEffect="clip" showEffect="clip" id="dialogSearchUser" appendTo="@(body)" modal="true" closeOnEscape="true">			<h:form id="searchUserForm">				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">					<h:panelGroup styleClass="md-inputfield">						<p:inputText id="firstName" value="#{initiatewspUI.tempSignoff.firstName}" style="width:95%" required="true" />						<p:outputLabel value="#{lang['first.name']}" for="firstName" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText id="lastName" value="#{initiatewspUI.tempSignoff.lastName}" style="width:95%" required="true" />						<p:outputLabel value="#{lang['last.name']}" for="lastName" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText id="email" value="#{initiatewspUI.tempSignoff.email}" style="width:95%" required="true" />						<p:outputLabel value="#{lang['email']}" for="email" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText id="idNumber" value="#{initiatewspUI.tempSignoff.idNumber}" style="width:95%" required="true" />						<p:outputLabel value="Identification Number" for="idNumber" />					</h:panelGroup>					<h:panelGroup styleClass="md-inputfield">						<p:inputText id="sot" value="#{initiatewspUI.signOffTitle}" style="width:95%" required="true" />						<p:outputLabel value="Sign Off Title" for="sot" />					</h:panelGroup>				</p:panelGrid>				<p:panelGrid columns="1" style="width:100%; text-align: center" layout="grid" styleClass="ui-panelgrid-blank form-group">					<p:commandButton value="#{lang['submit']}" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" process="@form" action="#{initiatewspUI.createDisputeSignOff}" update=":tabView:meditionReportOnDisputeLodgedForm @form" />				</p:panelGrid>			</h:form>		</p:dialog>	</h:panelGroup></ui:composition>