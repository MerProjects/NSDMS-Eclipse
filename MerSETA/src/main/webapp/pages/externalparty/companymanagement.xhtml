<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core" template="/WEB-INF/template.xhtml"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:o="http://omnifaces.org/ui">
	<style type="text/css">
.ui-dialog {
	top: 0px !important;
}
</style>
	<ui:define name="content">
		<p:importEnum type="haj.com.entity.enums.CompanyStatusEnum"></p:importEnum>
		<p:importEnum type="haj.com.entity.enums.WspStatusEnum" />
		<p:importEnum type="haj.com.entity.enums.ApprovalEnum" />
		<p:importEnum type="haj.com.entity.enums.UserPermissionEnum" />
		<p:importEnum type="haj.com.entity.enums.IdPassportEnum" var="idPassportEnum"></p:importEnum>
		<ui:param name="enableAddContactAndSDF" value="true" />

		<div class="ui-g">
			<div class="ui-g-12">
				<div class="card card-w-title">
					<p:confirmDialog appendTo="mainForm" responsive="true" global="true" showEffect="fade" hideEffect="fade" width="250">
						<h:form>
							<p:commandButton id="confYes" value="#{lang['yes']}" styleClass="ui-confirmdialog-yes GreenButton" icon="ui-icon-check" />
							<p:commandButton id="confNo" value="#{lang['no']}" type="button" styleClass="ui-confirmdialog-no RedButton" icon="ui-icon-close" />
						</h:form>
					</p:confirmDialog>
					<h1>#{lang['available.companies']}</h1>
					<h:form id="mainForm">
						<p:commandButton value="#{lang['new.company']}" update="@form mainForm" icon="fa fa-check" styleClass="flat" process="@form" action="#{companyinfoUI.gotoNewCompany}" immediate="true" rendered="#{sessionUI.activeUser.approved or companyinfoUI.canCreateNewCompany}"></p:commandButton>
						<br />
						<br />
						<ui:include src="/pages/includes/filterGuide.xhtml" />
						<p:tooltip position="left"></p:tooltip>
						<p:dataTable var="rowVar" value="#{companyinfoUI.dataModel}" id="companyList" rowKey="#{rowVar.id}" paginator="true" rows="6" selectionMode="single" selection="#{companyinfoUI.sdfCompany}" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
							paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
							<p:ajax event="rowSelect" listener="#{companyinfoUI.onRowSelect}" update="companyForm" />
							<p:column headerText="#{lang['companyName']}" filterBy="#{rowVar.company.companyName}">
								<h:outputText value="#{rowVar.company.companyName}" />
							</p:column>
							<p:column headerText="#{lang['sdl.number']}" filterBy="#{rowVar.company.levyNumber}">
								<h:outputText value="#{rowVar.company.levyNumber}" />
							</p:column>
							<p:column headerText="#{lang['email']}">
								<h:outputText value="#{rowVar.company.email}" />
							</p:column>
							<p:column headerText="#{lang['status']}">
								<h:outputText value="#{lang[rowVar.company.companyStatus.registrationName]}" />
							</p:column>

							<p:column headerText="Size of Company" width="10%">
								<h:outputText value="#{rowVar.company.sizeOfCompany.detailDescription}" escape="false" />
							</p:column>

							<p:column headerText="#{lang['levy.paying']}" width="110" style="text-align:center">
								<p:outputPanel rendered="#{rowVar.company.nonLevyPaying}">
									<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
								</p:outputPanel>
								<p:outputPanel rendered="#{not rowVar.company.nonLevyPaying}">
									<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
								</p:outputPanel>
							</p:column>

							<p:column headerText="#{lang['locked.unlocked']}" width="55">
								<center>
									<p:outputPanel rendered="#{rowVar.company.locked}">
										<i class="fa fa-lock Fs30" aria-hidden="true"></i>
									</p:outputPanel>
									<p:outputPanel rendered="#{not rowVar.company.locked}">
										<i class="fa fa-unlock Fs30" aria-hidden="true"></i>
									</p:outputPanel>
								</center>
							</p:column>
							<p:column headerText="Barcode" width="400" rendered="false">
								<p:barcode value="#{rowVar.company.companyGuid}" type="code39" />
							</p:column>
						</p:dataTable>
					</h:form>
				</div>
			</div>
			<div class="ui-g-12">
				<h:form id="companyForm">
					<p:remoteCommand name="updateInfo" action="#{companyinfoUI.onTabChange}"></p:remoteCommand>
					<c:if test="#{companyinfoUI.sdfCompany ne null}">
						<div class="card card-w-title">
							<h1>#{companyinfoUI.sdfCompany.company.companyName} #{lang['details']}</h1>
							<c:if test="#{companyinfoUI.sdfCompany.company.previousCompany ne null}">
								<h4 class="red">Previously #{companyinfoUI.sdfCompany.company.previousCompany.companyNameDisplay}</h4>
							</c:if>
							<p:commandLink styleClass="Fright" action="#{companyinfoUI.unlock}" process="@this" update="@form mainForm" rendered="#{companyinfoUI.sdfCompany.company.locked and companyinfoUI.sdfCompany.company.companyStatus eq CompanyStatusEnum.Active}">
								<i class="fa fa-unlock Fs30 black" aria-hidden="true"></i>
								<i class="Fs30 black" style="font-style: normal;">#{lang['unlock.company.details']}</i>
							</p:commandLink>

							<p:commandLink styleClass="Fright" action="#{companyinfoUI.lock}" update="@form mainForm" rendered="#{not companyinfoUI.sdfCompany.company.locked and companyinfoUI.sdfCompany.company.companyStatus eq CompanyStatusEnum.Active}" process="@this">
								<i class="fa fa-lock Fs30 black" aria-hidden="true"></i>
								<i class="Fs30 black" style="font-style: normal;">#{lang['lock.company.details']}</i>
							</p:commandLink>

							<br />
							<p:outputLabel escape="false" value="#{lang['company.maintenance']}" class="Fs13 gray"></p:outputLabel>
							<c:if test="#{not companyinfoUI.sdfCompany.company.locked}">
								<p:commandButton value="Register New Levy Number" update="@form mainForm" icon="fa fa-check" styleClass="flat" process="@form" action="#{companyinfoUI.gotoRegisterNewLevyNumber}" immediate="true"></p:commandButton>
								<br />
								<br />
								
								<br />
							</c:if>
							<p:tabView id="tabView" activeIndex="#{companyinfoUI.index}">

								<p:ajax event="tabChange" listener="#{companyinfoUI.onTabChange}" update="@form">
								</p:ajax>

								<p:tab title="#{lang['company.information']}" id="companyInfo">
									<p:panelGrid columns="2" style="opacity: 1 !important; color: black; width:100%" id="companyInsGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">

										<h:panelGroup>
											<div>
												<p:outputLabel value="#{lang['relationship.to.company']}" for="relationship" styleClass="gray" />
											</div>
											<div>
												<p:selectOneMenu disabled="#{companyinfoUI.sdfCompany.company.locked}" id="relationship" value="#{companyinfoUI.sdfCompany.relationshipToCompany}" style="opacity: 1 !important; color: black; width:75%" converter="RelationshipToCompanyConvertor" required="true">
													<p:ajax />
													<c:if test="#{companyinfoUI.sdfCompany.relationshipToCompany eq null}">
														<f:selectItem itemLabel="---#{lang['select.one']}---" itemValue="" noSelectionOption="true" />
													</c:if>

													<c:if test="#{companyinfoUI.sdfCompany.relationshipToCompany ne null}">
														<f:selectItem itemLabel="#{companyinfoUI.sdfCompany.relationshipToCompany.description}" itemValue="#{companyinfoUI.sdfCompany.relationshipToCompany}" />
													</c:if>

													<f:selectItems value="#{selectItemsUI.relationshipToCompany}" var="rv" itemLabel="#{rv.description}" />
												</p:selectOneMenu>
											</div>
										</h:panelGroup>

										<h:panelGroup>
											<div>
												<p:outputLabel value="#{lang['scope.of.responsibility']}" for="scope" styleClass="gray" />
											</div>
											<div>
												<p:selectOneMenu disabled="#{companyinfoUI.sdfCompany.company.locked}" id="scope" value="#{companyinfoUI.sdfCompany.scopeOfResponsibility}" style="opacity: 1 !important; color: black; width:75%" converter="ScopeOfResponsibilityConvertor" required="true">
													<p:ajax />
													<c:if test="#{companyinfoUI.sdfCompany.scopeOfResponsibility eq null}">
														<f:selectItem itemLabel="---#{lang['select.one']}---" itemValue="" noSelectionOption="true" />
													</c:if>
													<c:if test="#{companyinfoUI.sdfCompany.scopeOfResponsibility ne null}">
														<f:selectItem itemLabel="#{companyinfoUI.sdfCompany.scopeOfResponsibility.description}" itemValue="#{companyinfoUI.sdfCompany.scopeOfResponsibility}" />
													</c:if>

													<f:selectItems value="#{selectItemsUI.scopeOfResponsibility}" var="rv" itemLabel="#{rv.description}" />
												</p:selectOneMenu>
											</div>
										</h:panelGroup>


										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="companyName" value="#{companyinfoUI.sdfCompany.company.companyName}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.the.company.name']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="70" message="#{lang['company.name.length.error']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['companyName']}" for="companyName" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="tradingName" value="#{companyinfoUI.sdfCompany.company.tradingName}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.the.trading.name']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="70" message="#{lang['company.tradename.length.error']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['tradingName']}" for="tradingName" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="telNumber" value="#{companyinfoUI.sdfCompany.company.telNumber}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.the.tel.number']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['user.tellnumber.length']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['telNumber']}" for="telNumber" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="faxNumber" value="#{companyinfoUI.sdfCompany.company.faxNumber}" style="opacity: 1 !important; color: black; width:95%">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['user.faxnumber.length']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['faxNumber']}" for="faxNumber" />
										</h:panelGroup>

										<p:fieldset legend="#{lang['residentialAddress']}" style="margin-top: 20px">
											<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank" id="addrPcode">
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="addr1" value="#{companyinfoUI.sdfCompany.company.residentialAddress.addressLine1}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.residential.address']}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['residentialAddress.lineone.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.1']}" for="addr1" />
												</h:panelGroup>
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText required="true" requiredMessage="#{lang['address.line.2.required']}" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="addr2" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.residentialAddress.addressLine2}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['residentialAddress.linetwo.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.2']}" for="addr2" />
												</h:panelGroup>
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="addr3" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.residentialAddress.addressLine3}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['residentialAddress.linethree.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.3']}" for="addr3" />
												</h:panelGroup>


												<h:panelGroup>
													<div>
														<h:outputLabel value="#{lang['town']}" for="town" />
													</div>
													<div>
														<p:autoComplete id="town" value="#{companyinfoUI.sdfCompany.company.residentialAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3"
															maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}" disabled="#{companyinfoUI.sdfCompany.company.locked}">
															<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
														</p:autoComplete>
													</div>
												</h:panelGroup>

												<h:panelGroup styleClass="md-inputfield">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="pcode" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.residentialAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="4" message="#{lang['residentialAddress.code.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['post.code']}" for="pcode" />
												</h:panelGroup>

												<h:panelGroup>
													<div>
														<h:outputLabel value="#{lang['municipality']}" for="MunicipalityID" />
													</div>
													<div>
														<p:autoComplete disabled="#{companyinfoUI.sdfCompany.company.locked}" id="MunicipalityID" value="#{companyinfoUI.sdfCompany.company.residentialAddress.municipality}" completeMethod="#{sdfDetailUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityDesc}" itemValue="#{rv}"
															forceSelection="true" converter="MunicipalityConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputstyle="opacity: 1 !important; color: black; width: 95%" style="opacity: 1 !important; color: black; width: 95%" required="true"
															requiredMessage="#{lang['select.municipality']}">
															<p:column headerText="#{lang['province']}" style="white-space: nowrap">#{rv.province.provinceDesc}</p:column>
															<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">#{rv.municipalityDesc}</p:column>
														</p:autoComplete>
													</div>
												</h:panelGroup>

												<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank" rendered="true">
													<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" rendered="true" required="true" requiredMessage="Enter #{lang['longitude']}: Degrees" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="longitudeDegrees" style="opacity: 1 !important; color: black; width:100%"
																value="#{companyinfoUI.sdfCompany.company.residentialAddress.longitudeDegrees}">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['longitude']}: Degrees" for="longitudeDegrees" />
														</h:panelGroup>
														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="longitudeMinutes" value="#{companyinfoUI.sdfCompany.company.residentialAddress.longitudeMinutes}" style="opacity: 1 !important; color: black; width:100%" required="true"
																requiredMessage="Enter #{lang['longitude']}: Minutes">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['longitude']}: Minutes" for="longitudeMinutes" />
														</h:panelGroup>
														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="longitudeSeconds" value="#{companyinfoUI.sdfCompany.company.residentialAddress.longitudeSeconds}" style="opacity: 1 !important; color: black; width:100%" required="true"
																requiredMessage="Enter #{lang['longitude']}: Seconds">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['longitude']}: Seconds" for="longitudeSeconds" />
														</h:panelGroup>
													</p:panelGrid>

													<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" rendered="true">
														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" rendered="true" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="latitudeDegrees" style="opacity: 1 !important; color: black; width:100%" value="#{companyinfoUI.sdfCompany.company.residentialAddress.latitudeDegrees}" required="true"
																requiredMessage="Enter #{lang['latitude']}: Degrees">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['latitude']}: Degrees" for="latitudeDegrees" />
														</h:panelGroup>

														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="latitudeMinutes" value="#{companyinfoUI.sdfCompany.company.residentialAddress.latitudeMinutes}" style="opacity: 1 !important; color: black; width:100%" required="true"
																requiredMessage="Enter #{lang['latitude']}: Minutes">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['latitude']}: Minutes" for="latitudeMinutes" />
														</h:panelGroup>

														<h:panelGroup styleClass="md-inputfield">
															<p:inputText type="number" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="latitudeSeconds" value="#{companyinfoUI.sdfCompany.company.residentialAddress.latitudeSeconds}" style="opacity: 1 !important; color: black; width:100%" required="true"
																requiredMessage="Enter #{lang['latitude']}: Seconds">
																<p:ajax></p:ajax>
															</p:inputText>
															<p:outputLabel value="#{lang['latitude']}: Seconds" for="latitudeSeconds" />
														</h:panelGroup>
													</p:panelGrid>
													<h:panelGroup styleClass="md-inputfield" rendered="true">
														<!-- <a href="https://getlatlong.net" target="_blank">Check GPS Coordinate</a> -->
														<!-- <a href="https://www.gps-coordinates.net" target="_blank">Check GPS Coordinate</a> -->
														<p:commandButton icon="fa fa-check" value="Check GPS Coordinate">
														<p:ajax listener="#{monitorAddressInformationUI.getCoOrdinates_vh}"></p:ajax>
													</p:commandButton>
													</h:panelGroup>
												</p:panelGrid>
												<h:panelGroup styleClass="md-inputfield">
													<div class="EmptyBox40"></div>
												</h:panelGroup>
											</p:panelGrid>
										</p:fieldset>

										<p:fieldset legend="#{lang['postalAddress']}" style="margin-top: 20px">
											<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank" id="postalAddress">
												<h:panelGroup styleClass="md-inputfield" rendered="#{not companyinfoUI.copyAddress}">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="postalAddressaddr1" value="#{companyinfoUI.sdfCompany.company.postalAddress.addressLine1}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.postal.address']}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['postalAddress.lineone.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressaddr1" />
												</h:panelGroup>
												<h:panelGroup styleClass="md-inputfield" rendered="#{not companyinfoUI.copyAddress}">
													<p:inputText required="true" requiredMessage="#{lang['address.line.2.required']}" disabled="#{companyinfoUI.sdfCompany.company.locked}" id="postalAddressaddr2" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.postalAddress.addressLine2}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['postalAddress.linetwo.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressaddr2" />
												</h:panelGroup>
												<h:panelGroup styleClass="md-inputfield" rendered="#{not companyinfoUI.copyAddress}">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="postalAddressaddr3" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.postalAddress.addressLine3}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['postalAddress.linethree.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressaddr3" />
												</h:panelGroup>

												<h:panelGroup rendered="#{not companyinfoUI.copyAddress}">
													<div>
														<h:outputLabel value="#{lang['town']}" for="townPostal" />
													</div>
													<div>
														<p:autoComplete id="townPostal" value="#{companyinfoUI.sdfCompany.company.postalAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3"
															maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}" disabled="#{companyinfoUI.sdfCompany.company.locked}">
															<p:column headerText="#{lang['town']}" style="white-space: nowrap">
													#{rv.description}
												</p:column>
														</p:autoComplete>
													</div>
												</h:panelGroup>

												<h:panelGroup styleClass="md-inputfield" rendered="#{not companyinfoUI.copyAddress}">
													<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="postalAddressPcode" style="opacity: 1 !important; color: black; width:95%" value="#{companyinfoUI.sdfCompany.company.postalAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}">
														<o:validator validatorId="javax.faces.Length" minimum="0" maximum="4" message="#{lang['postalAddress.code.length.error']}" />
													</p:inputText>
													<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" />
												</h:panelGroup>

												<h:panelGroup rendered="#{not companyinfoUI.copyAddress}">
													<div>
														<h:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" />
													</div>
													<div>
														<p:autoComplete disabled="#{companyinfoUI.sdfCompany.company.locked}" id="postalAddressMunicipalityID" value="#{companyinfoUI.sdfCompany.company.postalAddress.municipality}" completeMethod="#{sdfDetailUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}"
															itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputstyle="opacity: 1 !important; color: black; width: 95%" style="opacity: 1 !important; color: black; width: 95%" required="true"
															requiredMessage="#{lang['select.municipality']}">
															<p:column headerText="#{lang['province']}" style="white-space: nowrap">#{rv.province.provinceDesc}</p:column>
															<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">#{rv.municipalityDesc}</p:column>
														</p:autoComplete>
													</div>
												</h:panelGroup>

												<h:panelGroup>
													<div>
														<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="FontLight" />
													</div>
													<div>
														<p:selectBooleanCheckbox disabled="#{companyinfoUI.sdfCompany.company.locked}" value="#{companyinfoUI.copyAddress}">
															<p:ajax update=":companyForm:tabView:postalAddress" listener="#{companyinfoUI.clearPostal}" />
														</p:selectBooleanCheckbox>
													</div>
												</h:panelGroup>

												<c:if test="true">
													<h:panelGroup styleClass="md-inputfield">
														<div class="EmptyBox40"></div>
													</h:panelGroup>
													<h:panelGroup styleClass="md-inputfield">
														<div class="EmptyBox40"></div>
													</h:panelGroup>
													<h:panelGroup styleClass="md-inputfield">
														<div class="EmptyBox10"></div>
													</h:panelGroup>
												</c:if>

											</p:panelGrid>
										</p:fieldset>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="companyRegistrationNumber" value="#{companyinfoUI.sdfCompany.company.companyRegistrationNumber}" style="opacity: 1 !important; color: black; width:95%" required="true"
												requiredMessage="#{lang['enter.company.registration.number']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['company.reg.length.error']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['companyRegistrationNumber']}" for="companyRegistrationNumber" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="email" value="#{companyinfoUI.sdfCompany.company.email}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.email.address']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['user.email.length']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['email']}" for="email" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield" rendered="#{not companyinfoUI.sdfCompany.company.nonLevyPaying}">
											<p:inputText disabled="true" id="levyNumber" value="#{companyinfoUI.sdfCompany.company.levyNumber}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.levy.number']}">
												<o:validator validatorId="javax.faces.Length" minimum="0" maximum="10" message="#{lang['company.sdl.length.error']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['levyNumber']}" for="levyNumber" />
										</h:panelGroup>


										<h:panelGroup>
											<div style="margin-top: -20px !important;">
												<p:outputLabel value="#{lang['organisation.type']}" for="organisationType" styleClass="gray Fs12" style="margin-left:5px" />
											</div>
											<div>
												<p:selectOneMenu disabled="#{companyinfoUI.sdfCompany.company.locked}" id="organisationType" value="#{companyinfoUI.sdfCompany.company.organisationType}" converter="OrganisationTypeConvertor" style="opacity: 1 !important; color: black; width:95%" required="true"
													requiredMessage="Select: Organisation Type">
													<f:selectItem itemLabel="-- #{lang['select.one']} --" noSelectionOption="true" />
													<f:selectItems value="#{sdfDetailUI.organisationTypeList}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
												</p:selectOneMenu>
											</div>
										</h:panelGroup>


										<h:panelGroup>
											<div style="margin-top: -20px !important;">
												<p:outputLabel value="#{lang['sicCode']}" for="sicCodeNew" styleClass="gray Fs12" style="margin-left:5px">
												</p:outputLabel>
											</div>
											<div>
												<p:autoComplete disabled="#{companyinfoUI.sdfCompany.company.locked}" id="sicCodeNew" value="#{companyinfoUI.sdfCompany.company.sicCode}" style="opacity: 1 !important; color: black; width: 95%" completeMethod="#{autoCompleteUI.completeSIC}" var="rv" itemLabel="#{rv.description}"
													itemValue="#{rv}" forceSelection="true" converter="SICCodeConvertor" dropdown="true" minQueryLength="1" maxResults="10" inputStyle="opacity: 1 !important; color: black;" required="true" requiredMessage="#{lang['select.sic.code']}">
													<p:ajax update="chambers" event="itemSelect"></p:ajax>
													<p:column headerText="#{lang['code']}" style="white-space: nowrap">#{rv.code}</p:column>
													<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rv.description}</p:column>
												</p:autoComplete>

											</div>
										</h:panelGroup>

										<h:panelGroup id="chambers">
											<div style="margin-top: -20px !important;">
												<p:outputLabel value="#{lang['chamber']}" for="chamber" styleClass="gray Fs12" style="margin-left:5px" />
											</div>
											<div>
												<p:selectOneMenu disabled="true" id="chamber" value="#{companyinfoUI.sdfCompany.company.sicCode.chamber}" converter="ChamberConvertor" style="opacity: 1 !important; color: black; width:95%">
													<f:selectItem itemLabel="-- #{lang['select.one']} --" noSelectionOption="true" />
													<f:selectItems value="#{sdfDetailUI.chambers}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
												</p:selectOneMenu>
											</div>
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:calendar disabled="#{companyinfoUI.sdfCompany.company.locked}" mask="true" showOn="button" value="#{companyinfoUI.sdfCompany.company.financialYearStartDate}" pattern="#{autoCompleteUI.CALENDER_PATTERN}" style="opacity: 1 !important; color: black;"></p:calendar>
											<p:outputLabel value="#{lang['financial.year.start']}" for="levyNumber" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:calendar disabled="#{companyinfoUI.sdfCompany.company.locked}" mask="true" showOn="button" value="#{companyinfoUI.sdfCompany.company.financialYearEndDate}" pattern="#{autoCompleteUI.CALENDER_PATTERN}" style="opacity: 1 !important; color: black;"></p:calendar>
											<p:outputLabel value="#{lang['financial.year.end']}" for="levyNumber" />
										</h:panelGroup>

										<h:panelGroup styleClass="md-inputfield">
											<p:inputText disabled="#{companyinfoUI.sdfCompany.company.locked}" id="numberOfEmployees" value="#{companyinfoUI.sdfCompany.company.numberOfEmployees}" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['enter.number.of.employees']}"
												pt:data-tooltip="Please provide total number of employees including linked companies">
												<o:validator validatorId="javax.faces.Length" minimum="1" maximum="10" message="#{lang['numberof.employees.length.error']}" />
											</p:inputText>
											<p:outputLabel value="#{lang['numberOfEmployees']}" for="numberOfEmployees" />
										</h:panelGroup>

										<h:panelGroup>
											<div>
												<p:outputLabel value="#{lang['training.committee.in.place']}" styleClass="gray" />
												<p:spacer width="20"></p:spacer>
												<p:selectBooleanCheckbox value="#{companyinfoUI.sdfCompany.company.trainingCommitteeInPlace}" disabled="#{companyinfoUI.sdfCompany.company.locked}">
												</p:selectBooleanCheckbox>
											</div>
										</h:panelGroup>

										<h:panelGroup>
											<div>
												<p:outputLabel value="#{lang['does.a.recognition.agreement.exist.between.the.organisation.and.labour.unions']}" for="recAgr" />
											</div>
											<div>
												<p:selectOneRadio value="#{companyinfoUI.sdfCompany.company.recognitionAgreement}" converter="YesNoLookupConvertor" columns="2" layout="grid" id="recAgr" required="true" requiredMessage="Recognition Agreement is required" disabled="#{companyinfoUI.sdfCompany.company.locked}">
													<p:ajax update="majUnion"></p:ajax>
													<f:selectItems value="#{selectItemsUI.selectItemsYesNoLookup}" var="yesNo" itemLabel="#{yesNo.yesNoName}" itemValue="#{yesNo}" />
												</p:selectOneRadio>
											</div>
										</h:panelGroup>

										<p:outputPanel id="majUnion">
											<h:panelGroup rendered="#{companyinfoUI.sdfCompany.company.recognitionAgreement.yesNoName.toLowerCase() eq 'yes'}">
												<div>
													<p:outputLabel value="#{lang['majority.union']}?" for="union" />
												</div>
												<div>
													<p:selectOneMenu disabled="#{companyinfoUI.sdfCompany.company.locked}" id="union" converter="OrganisedLabourUnionConvertor" style="opacity: 1 !important; color: black; width:95%" required="true" value="#{companyinfoUI.sdfCompany.company.majorityUnion}">
														<f:selectItem itemLabel="-- #{lang['select.one']} --" noSelectionOption="true" />
														<f:selectItems value="#{selectItemsUI.selectItemsOrganisedLabourUnion}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
													</p:selectOneMenu>
												</div>
											</h:panelGroup>
										</p:outputPanel>

										
										<p:outputLabel value="Please ensure all information provided is correct before submitting." style="color:red;font-weight: bold;font-size:15px"/>
										<p:spacer/>

										<p:commandButton id="submittWithoutTask" action="#{companyinfoUI.updateCompayWithoutTask}" value="#{lang['submit']}" rendered="#{not companyinfoUI.sdfCompany.company.locked}" update="@form mainForm" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" process="companyInfo"
											oncomplete="if (args &amp;&amp; !args.validationFailed)">
										</p:commandButton>
										<p:commandButton id="submitt" value="#{lang['submit']}" rendered="#{not companyinfoUI.sdfCompany.company.locked and false}" update="@form mainForm" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" process="companyInfo"
											oncomplete="if (args &amp;&amp; !args.validationFailed) PF('dlgCompanyChangeReason').show()">
										</p:commandButton>
									</p:panelGrid>
									<c:if test="#{companyinfoUI.validiationExceptionsCompany ne null and companyinfoUI.validiationExceptionsCompany ne ''}">
										<p:fieldset styleClass="error Fs12">
											<h4>Validation Error(s):</h4>
											<p:outputLabel value="#{companyinfoUI.validiationExceptionsCompany}" escape="false"></p:outputLabel>
										</p:fieldset>
									</c:if>
								</p:tab>
								<!-- Contact Person  Tab -->
								<p:tab title="#{lang['contact.persons']}" id="cotactPersonTab">
									<ui:param name="showCompanyTable" value="false" />
									<!--New Contact person button -->
									<p:commandButton immediate="true" rendered="#{not companyinfoUI.sdfCompany.company.locked}" value="#{lang['add.contact.person']}" styleClass="flat" icon="fa fa-plus" oncomplete="PF('dlgChangeReason').show()" id="btnNewContactPerson" action="#{companyUsersUI.resolveUsers}"
										update="usersInsForm @form">
										<f:setPropertyActionListener for="btnNewContactPerson" value="#{companyinfoUI.sdfCompany}" target="#{companyUsersUI.selectedCompany}" />
										<f:setPropertyActionListener for="btnNewContactPerson" value="#{companyinfoUI.sdfCompany.company}" target="#{companyUsersUI.selectedCompany.company}" />
										<f:setPropertyActionListener for="btnNewContactPerson" value="PF('dlgContact').show()" target="#{companyinfoUI.redirectionPage}" />
									</p:commandButton>

									<br />
									<br />
									<p:dataTable id="contactPersonTable" var="rowVar" value="#{companyinfoUI.companyUsers}" rendered="#{companyinfoUI.companyUsers.size() gt 0}" rowKey="#{rowVar.id}" paginator="true" rows="5" emptyMessage="#{lang['no.records.found']}" paginatorPosition="bottom"
										paginatorTemplate="#{lang['page']} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
										<p:column headerText="#{lang['expand.row']}" width="45">
											<p:rowToggler></p:rowToggler>
										</p:column>
										<p:column headerText="#{lang['contact.person']}">
											<p:outputLabel value="#{rowVar.user.firstName} #{rowVar.user.lastName}"></p:outputLabel>
										</p:column>
										<p:column headerText="#{lang['rsapassport.number']}">
											<p:outputLabel value="#{rowVar.user.rsaIDNumber}" rendered="#{rowVar.user.rsaIDNumber.length() > 0}"></p:outputLabel>
											<p:outputLabel value="#{rowVar.user.passportNumber}" rendered="#{rowVar.user.passportNumber.length() > 0}"></p:outputLabel>
										</p:column>

										<p:column headerText="#{lang['email']}">
											<p:outputLabel value="#{rowVar.user.email}"></p:outputLabel>
										</p:column>
										<p:column headerText="#{lang['contact.person.type']}">
											<p:outputLabel value="#{lang[rowVar.companyUserType.type]}" rendered="#{rowVar.companyUserType ne null}"></p:outputLabel>
											<p:outputLabel value="#{rowVar.position.description}" rendered="#{rowVar.position ne null}"></p:outputLabel>
										</p:column>

										<p:column headerText="#{lang['approval.status']}">
											<p:outputLabel value="#{rowVar.approvalStatus.friendlyName}"></p:outputLabel>
										</p:column>

										<p:column headerText="Confirmation Status" width="110" style="text-align:center">
											<p:outputPanel rendered="#{rowVar.user.emailConfirmDate eq null}">
												<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
											</p:outputPanel>
											<p:outputPanel rendered="#{rowVar.user.emailConfirmDate ne null}">
												<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
											</p:outputPanel>
										</p:column>
										<p:column width="10%" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
											<p:commandButton immediate="true" icon="fa fa-database" title="#{lang['update']}" update="usersInsForm @form" action="#{companyUsersUI.prepForUpdate}" oncomplete="PF('dlgChangeReason').show()" rendered="#{rowVar.approvalStatus ne ApprovalEnum.PendingApproval}">
												<f:setPropertyActionListener value="#{rowVar}" target="#{companyUsersUI.companyUser}" />
												<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{companyUsersUI.selectedCompany.company}" />
												<f:setPropertyActionListener value="PF('dlgContact').show()" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>

											<p:spacer width="5" />

											<p:commandButton actionListener="#{companyinfoUI.companyUsersInfo()}" icon="fa fa-trash-o" title="#{lang['delete']}" update="@form contactPersonTable" process="@this" oncomplete="PF('dlgDelContactPersonCR').show()" rendered="#{rowVar.approvalStatus ne ApprovalEnum.PendingApproval}">
												<f:setPropertyActionListener value="#{rowVar}" target="#{companyUsersUI.companyUser}" />
												<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{companyUsersUI.selectedCompany.company}" />
											</p:commandButton>

										</p:column>

										<p:rowExpansion>
											<p:panelGrid columns="3" style="width:100%" id="s" layout="grid" styleClass="ui-panelgrid-blank form-group">

												<h:panelGroup>
													<h:outputText value="#{lang['contact.person']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.firstName} #{rowVar.user.lastName}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['email']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.email}" />
												</h:panelGroup>

												<h:panelGroup>
													<h:outputText value="#{lang['tel.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.telNumber}" />

												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['cell.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.cellNumber}" />
												</h:panelGroup>

												<h:panelGroup>
													<h:outputText value="#{lang['fax.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.faxNumber}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['work.contact.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.user.workContactNumber}" />
												</h:panelGroup>


												<h:panelGroup>
													<h:outputText value="#{lang['user.responsibility']}" styleClass="Fs12 FontLight" />
													<br />
													<ul>
														<p:repeat var="rv1" value="#{rowVar.selectedResponsibilities}">
															<li>#{rv1.userResponsibility.description}</li>
														</p:repeat>
													</ul>
												</h:panelGroup>

											</p:panelGrid>
											<p:panelGrid columns="2" style="width:100%" id="sa" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="false">
												<p:fieldset legend="#{lang['residentialAddress']}">
													<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="addrPcode">
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.1']}" for="addr1" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="addr1" value="#{rowVar.user.residentialAddress.addressLine1}" style="width:95%; opacity:1 !important" required="true" requiredMessage="#{lang['enter.residential.address']}" />
															<br />
															<p:outputLabel value="#{lang['address.line.2']}" for="addr2" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine2 eq null or rowVar.user.residentialAddress.addressLine2.length() eq 0}" />
															<p:outputLabel id="addr2" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine2}" rendered="#{rowVar.user.residentialAddress.addressLine2 ne null and rowVar.user.residentialAddress.addressLine2.length() gt 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.3']}" for="addr3" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="addr3" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine3}" rendered="#{rowVar.user.residentialAddress.addressLine3 ne null and rowVar.user.residentialAddress.addressLine3.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine3 eq null or rowVar.user.residentialAddress.addressLine3.length() eq 0}" />
															<br />
															<p:outputLabel value="#{lang['address.line.4']}" for="addr4" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="addr4" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine4}" rendered="#{rowVar.user.residentialAddress.addressLine4 ne null and rowVar.user.residentialAddress.addressLine4.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine4 eq null or rowVar.user.residentialAddress.addressLine4.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['post.code']}" for="pcode" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="pcode" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.postcode}" rendered="#{rowVar.user.residentialAddress.postcode ne null and rowVar.user.residentialAddress.postcode.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.postcode eq null or rowVar.user.residentialAddress.postcode.length() eq 0}" />
															<br />
															<h:outputLabel value="#{lang['municipality']}" for="MunicipalityID" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="MunicipalityID" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.municipality.municipalityDesc}" />
														</h:panelGroup>

														<h:panelGroup>
															<div class="EmptyBox40"></div>
														</h:panelGroup>
													</p:panelGrid>
												</p:fieldset>

												<p:fieldset legend="#{lang['postalAddress']}">
													<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="postalAddress">
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressaddr1" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressaddr1" value="#{rowVar.user.postalAddress.addressLine1}" style="width:95%; opacity:1 !important" required="true" requiredMessage="#{lang['enter.postal.address']}" />
															<br />
															<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressaddr2" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressaddr2" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine2}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine2 eq null or rowVar.user.postalAddress.addressLine2.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressaddr3" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressaddr3" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine3}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine3 eq null or rowVar.user.postalAddress.addressLine3.length() eq 0}" />
															<br />
															<p:outputLabel value="#{lang['address.line.4']}" for="postalAddressaddr4" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressaddr4" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine4}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine4 eq null or rowVar.user.postalAddress.addressLine4.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressPcode" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.postcode eq null or rowVar.user.postalAddress.postcode.length() eq 0}" />
															<br />
															<h:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressMunicipalityID" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.municipality.municipalityDesc}" />
														</h:panelGroup>

														<h:panelGroup>
															<div>
																<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="Fs12 FontLight" />
															</div>
															<div>
																<p:selectBooleanCheckbox value="#{rowVar.user.postalAddress.sameAddress}" disabled="true">
																</p:selectBooleanCheckbox>
															</div>
														</h:panelGroup>
													</p:panelGrid>
												</p:fieldset>
											</p:panelGrid>
										</p:rowExpansion>
									</p:dataTable>
								</p:tab>

								<p:tab id="employees" title="#{lang['employees']}">
									<ui:include src="/pages/companychanges/includes/employeesCompanyManagement.xhtml">
									</ui:include>
								</p:tab>

								<p:tab id="sdfMan" title="#{lang['sdf.management']}">

									<p:outputPanel id="sdfTable" rendered="#{companyinfoUI.usersDataModel ne null}">
										<p:commandButton immediate="true" rendered="#{not companyinfoUI.sdfCompany.company.locked}" value="#{lang['add.sdf']}" styleClass="flat" icon="fa fa-plus" action="#{sdfcompanyUI.prepNewSDF}" oncomplete="PF('dlgChangeReason').show()" id="btnNewSDF" update="dialogSDF">
											<f:setPropertyActionListener for="btnNewSDF" value="#{companyinfoUI.sdfCompany.company}" target="#{sdfcompanyUI.companysdf.company}" />
											<f:setPropertyActionListener for="btnNewContactPerson" value="PF('dlgSdf').show()" target="#{companyinfoUI.redirectionPage}" />
										</p:commandButton>


										<br />
										<br />
										<p:dataTable var="rowVar" value="#{companyinfoUI.usersDataModel}" id="userList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
											paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">

											<p:column headerText="#{lang['first.name']}">
												<h:outputText value="#{rowVar.sdf.firstName}" />
											</p:column>

											<p:column headerText="#{lang['surname']}">
												<h:outputText value="#{rowVar.sdf.lastName}" />
											</p:column>

											<p:column headerText="#{lang['rsapassport.number']}">
												<p:outputLabel value="#{rowVar.sdf.rsaIDNumber}" rendered="#{rowVar.sdf.rsaIDNumber.length() > 0}"></p:outputLabel>
												<p:outputLabel value="#{rowVar.sdf.passportNumber}" rendered="#{rowVar.sdf.passportNumber.length() > 0}"></p:outputLabel>
											</p:column>

											<p:column headerText="#{lang['email']}">
												<h:outputText value="#{rowVar.sdf.email}" />
											</p:column>



											<p:column headerText="#{lang['sdf.type']}">
												<h:outputText value="#{rowVar.sdfType.description}" />
											</p:column>

											<p:column headerText="#{lang['approval.status']}">
												<h:outputText value="#{rowVar.approvalStatus}" />
											</p:column>

											<p:column headerText="Confirmation Status" width="110" style="text-align:center">
												<p:outputPanel rendered="#{rowVar.sdf.emailConfirmDate eq null}">
													<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
												</p:outputPanel>
												<p:outputPanel rendered="#{rowVar.sdf.emailConfirmDate ne null}">
													<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
												</p:outputPanel>
											</p:column>

											<p:column width="10%" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
												<p:commandButton immediate="true" rendered="#{rowVar.sdfType.code ne 'PRM' and rowVar.approvalStatus ne ApprovalEnum.PendingApproval}" icon="fa fa-database" title="#{lang['update']}" update=":sdfForm" action="#{sdfcompanyUI.prepUpdate()}" oncomplete="PF('dlgChangeReason').show()">
													<f:setPropertyActionListener value="#{rowVar.sdf}" target="#{sdfcompanyUI.newSDF}" />
													<f:setPropertyActionListener value="#{rowVar.sdfType}" target="#{sdfcompanyUI.sdfType}" />
													<f:setPropertyActionListener value="#{rowVar.company}" target="#{sdfcompanyUI.companysdf.company}" />
													<f:setPropertyActionListener for="btnNewContactPerson" value="PF('dlgSdf').show()" target="#{companyinfoUI.redirectionPage}" />
												</p:commandButton>

												<p:spacer width="5" />

												<p:commandButton rendered="#{rowVar.approvalStatus ne ApprovalEnum.PendingApproval}" actionListener="#{companyinfoUI.companyUsersInfo()}" icon="fa fa-trash-o" title="#{lang['delete']}" update="@form" process="@this" oncomplete="PF('dlgDelSDFCR').show()">
													<f:setPropertyActionListener value="#{rowVar}" target="#{sdfcompanyUI.companysdf}" />
												</p:commandButton>
											</p:column>

										</p:dataTable>
									</p:outputPanel>
								</p:tab>

								<p:tab title="#{lang['banking.details']}" id="bankDetails">
									<p:commandButton styleClass="flat green-btn" value="Remittance Advice" rendered="#{not companyinfoUI.sdfCompany.company.locked}" icon="fa fa-download" immediate="true" ajax="false" action="#{companyinfoUI.downloadRemittanceAdvice}"  />
									<div class="EmptyBox10"/>
									<p:panelGrid columns="1" style="opacity: 1 !important; color: black; width:100%" styleClass="ui-panelgrid-blank" rendered="#{companyinfoUI.bankingDetails ne null}">
										<p:commandButton immediate="true" value="View Rejections" action="#{companyinfoUI.findByCompanyBankingDetails}" update="rejectReasonChildForm" oncomplete="PF('rejectChildReason').show()" process="@this">
										</p:commandButton>
										<div class="EmptyBox10"/>
										<p:panelGrid columns="2" style="width:100%"  layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="false">
											<h:panelGroup styleClass="md-inputfield" rendered="false">
												<p:inputText value="Active" disabled="true" style="width:95%; opacity: 1 !important; color: green;" rendered="#{companyinfoUI.vendor.detailsOnHold}" >
													<p:ajax/>
												</p:inputText>
												<p:inputText value="On Hold" disabled="true" style="width:95%; opacity: 1 !important; color: red;" rendered="#{!companyinfoUI.vendor.detailsOnHold}">
													<p:ajax/>
												</p:inputText>
												<p:outputLabel value="Banking Details Status:" />
											</h:panelGroup>
											<h:panelGroup >
												<p:outputLabel value="Banking Details Status:" styleClass="Fs20" />
												<br />
												<p:outputLabel value="On Hold" styleClass="Fs20 FontBold red" style="width:95%;" rendered="#{companyinfoUI.vendor.detailsOnHold}" />
												<p:outputLabel value="Active" styleClass="Fs20 FontBold green" style="width:95%;" rendered="#{!companyinfoUI.vendor.detailsOnHold}" />
											</h:panelGroup>
										</p:panelGrid>

										<p:outputLabel escape="false" value="Banking details which are still pending approval cannot be updated or changed in any way" class="Fs15 FontBold red"
											rendered="#{companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}"></p:outputLabel>
										<p:fieldset legend="#{bankingdetailsUI.company.companyName} #{lang['banking.details']}">
											
											<p:panelGrid columns="2" style="width:100%" id="bankingdetailsInsGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">
												<h:panelGroup>
													<div>
														<p:outputLabel value="#{lang['bank.name']}" for="bank" />
													</div>
													<div>
														<p:selectOneMenu id="bank" value="#{companyinfoUI.bankingDetails.bank}" converter="BankConvertor" style="width:75%; opacity:1 !important" required="true" requiredMessage="#{lang['select.bank']}"
															disabled="#{companyinfoUI.sdfCompany.company.locked or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}">
															<p:ajax />
															<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
															<f:selectItems value="#{selectItemsUI.selectItemsBank}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
														</p:selectOneMenu>
													</div>
												</h:panelGroup>
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText id="bankAccNumber" minlength="#{bankingdetailsUI.MIN_BANK_ACCOUNT_NUMBER}" maxlength="#{bankingdetailsUI.MAX_BANK_ACCOUNT_NUMBER}" value="#{companyinfoUI.bankingDetails.bankAccNumber}" style="width:95%; opacity: 1 !important; color: black;" required="true"
														requiredMessage="#{lang['banc.acc.required']}" rendered="#{not companyinfoUI.sdfCompany.company.locked  and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingApproval and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingSignOff}">
														<p:ajax></p:ajax>
													</p:inputText>
													<p:inputText id="bankAccNumber2" minlength="#{bankingdetailsUI.MIN_BANK_ACCOUNT_NUMBER}" maxlength="#{bankingdetailsUI.MAX_BANK_ACCOUNT_NUMBER}" value="#{companyinfoUI.bankingDetails.maskedBankAccNumber}" style="width:95%; opacity: 1 !important; color: black;" required="true"
														requiredMessage="#{lang['banc.acc.required']}" disabled="true" rendered="#{companyinfoUI.sdfCompany.company.locked or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}">
													</p:inputText>
													<p:outputLabel value="#{lang['bankAccNumber']} (Only numbers allowed, no spaces or hyphens allowed)" for="bankAccNumber" />
												</h:panelGroup>

												<h:panelGroup styleClass="md-inputfield">
													<p:inputText id="branchCode" minlength="#{bankingdetailsUI.MIN_BANK_BRANCH_NUMBER}" maxlength="#{bankingdetailsUI.MAX_BANK_BRANCH_NUMBER}" value="#{companyinfoUI.bankingDetails.branchCode}" style="width:95%; opacity: 1 !important; color: black;" required="true"
														requiredMessage="#{lang['branch.code.required']}" disabled="#{companyinfoUI.sdfCompany.company.locked or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}">
														<p:ajax></p:ajax>
													</p:inputText>
													<p:outputLabel value="#{lang['branchCode']} (Only numbers allowed, no spaces or hyphens allowed)" for="branchCode" />
												</h:panelGroup>

												<h:panelGroup styleClass="md-inputfield">
													<p:inputText id="bankHolder" maxlength="#{bankingdetailsUI.MAX_BANK_HOLDER}" value="#{companyinfoUI.bankingDetails.bankHolder}" style="width:95%; opacity: 1 !important; color: black;" required="true" requiredMessage="#{lang['bank.holder.name']}"
														disabled="#{companyinfoUI.sdfCompany.company.locked or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}">
														<p:ajax></p:ajax>
													</p:inputText>
													<p:outputLabel value="#{lang['bankHolder']}" for="bankHolder" />
												</h:panelGroup>
											</p:panelGrid>
											<br />
											<p:dataTable value="#{companyinfoUI.bankingDetails.docs}" var="rv1" emptyMessage="#{lang['no.records.found']}" rowKey="#{rv1.id}"
												rendered="#{not companyinfoUI.sdfCompany.company.locked and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingApproval and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingSignOff}">
												<p:column headerText="#{lang['documents']}" width="18%">#{rv1.configDoc.name}</p:column>
												<p:column headerText="#{lang['original.file.name']}" priority="4">
													<p:outputLabel value="#{rv1.originalFname}" styleClass="Fs12"></p:outputLabel>
												</p:column>
												<p:column headerText="#{lang['uploaded.by']}">#{rv1.users.firstName} #{rv1.users.lastName}</p:column>
												<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
													<h:outputText value="#{rv1.createDate}">
														<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
													</h:outputText>
												</p:column>
												<p:column headerText="#{lang['version']}" width="10%" priority="4">
													<h:outputText value="#{rv1.versionNo}">
													</h:outputText>
												</p:column>
												<p:column headerText="#{lang['original.required']}">
													<center>
														<h:panelGroup rendered="#{rv1.configDoc.originalRequired}" styleClass="green">
															<i class="fa fa-files-o fa-3x" aria-hidden="true"></i>
														</h:panelGroup>
														<h:panelGroup rendered="#{not rv1.configDoc.originalRequired}" styleClass="red">
															<i class="fa fa-times fa-3x" aria-hidden="true"></i>
														</h:panelGroup>
													</center>
												</p:column>
												<p:column width="40" headerText="View">
													<p:commandButton icon="fa fa-upload" id="upload" styleClass="flat" process="@this" oncomplete="PF('dlgUpload').show()" update=":uploadForm" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
														<f:setPropertyActionListener value="#{rv1}" target="#{companyinfoUI.doc}" />
													</p:commandButton>
													<p:tooltip for="upload" value="#{rv1.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" position="left" />
												</p:column>
											</p:dataTable>
											<p:dataTable value="#{companyinfoUI.bankingDetails.oldDocs}" var="rv1" emptyMessage="#{lang['no.records.found']}" rowKey="#{rv1.id}"
												rendered="#{companyinfoUI.sdfCompany.company.locked or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingApproval or companyinfoUI.bankingDetails.status eq ApprovalEnum.PendingSignOff}">
												<p:column headerText="#{lang['type']}" width="18%">#{rv1.configDoc.name}</p:column>
												<p:column headerText="#{lang['original.file.name']}" priority="4">
													<p:outputLabel value="#{rv1.originalFname}" styleClass="Fs12"></p:outputLabel>
												</p:column>
												<p:column headerText="#{lang['uploaded.by']}">#{rv1.users.firstName} #{rv1.users.lastName}</p:column>
												<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
													<h:outputText value="#{rv1.createDate}">
														<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
													</h:outputText>
												</p:column>
												<p:column headerText="#{lang['version']}" width="10%" priority="4">
													<h:outputText value="#{rv1.versionNo}">
													</h:outputText>
												</p:column>
												<p:column headerText="#{lang['original.required']}">
													<center>
														<h:panelGroup rendered="#{rv1.configDoc.originalRequired}" styleClass="green">
															<i class="fa fa-files-o fa-3x" aria-hidden="true"></i>
														</h:panelGroup>
														<h:panelGroup rendered="#{not rv1.configDoc.originalRequired}" styleClass="red">
															<i class="fa fa-times fa-3x" aria-hidden="true"></i>
														</h:panelGroup>
													</center>
												</p:column>
												<p:column width="180">
													<p:commandButton ajax="false" icon="fa fa-download " action="#{uploadDocUI.download}" id="dlb" rendered="#{rv1.id ne null}">
														<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
													</p:commandButton>
													<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rv1.id ne null}" />


													<p:spacer width="5" rendered="#{rv1.id ne null}" />
													<p:commandButton icon="fa fa-bars " id="dhist" action="#{uploadDocUI.showHistory}" oncomplete="PF('histDialog').show()" update=":documenttrackeForm:documenttrackeList" rendered="#{rv1.id ne null}">
														<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
													</p:commandButton>

													<p:tooltip for="dhist" value="#{lang['document.tracker']}" position="left" rendered="#{rv1.id ne null}" />
													<h:panelGroup id="panelGroupThree" rendered="#{rv1.note ne null and rv1.note.length() gt 0}">
														<p:spacer width="5" />
														<p:commandButton icon="fa fa-comment-o" id="dnote" oncomplete="PF('noteDialog').show()" update=":noteForm:notePanel">
															<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
														</p:commandButton>
														<p:tooltip for="dnote" value="#{lang['view.note']}" position="left" />
													</h:panelGroup>
													<h:panelGroup id="panelGroupFour" rendered="#{rv1.extension.toLowerCase() eq 'pdf' or rv1.extension.toLowerCase() eq 'png' or rv1.extension.toLowerCase() eq 'jpg' or rv1.extension.toLowerCase() eq 'jpeg' or rv1.extension.toLowerCase() eq 'gif'}">
														<p:spacer width="5" />
														<p:commandButton icon="fa fa-eye " id="viewerButton" oncomplete="PF('viewDialog').show()" update=":viewForm:viewer" action="#{uploadDocUI.buildStreamContent}">
															<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
														</p:commandButton>
														<p:tooltip for="viewerButton" value="#{lang['view.document']} " position="left" />
													</h:panelGroup>
												</p:column>
											</p:dataTable>
											<br />
											<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
												<p:commandButton value="#{lang['submit']}" rendered="#{not companyinfoUI.sdfCompany.company.locked and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingApproval and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingSignOff and false}"
													process="companyForm:tabView:bankDetails" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" action="#{companyinfoUI.bankingdetailsInsert}" oncomplete="PF('dlgUploadUser').show()">
													<p:confirm header="#{lang['confirmation']}" message="#{lang['are.you.sure.you.want.to.submit.the.banking.details']}" icon="ui-icon-warning" />
												</p:commandButton>
												<p:commandButton value="#{lang['submit']}" rendered="#{not companyinfoUI.sdfCompany.company.locked and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingApproval and companyinfoUI.bankingDetails.status ne ApprovalEnum.PendingSignOff}" update="confirmForm"
													process="companyForm:tabView:bankDetails" icon="fa fa-check" styleClass="green-btn flat Fs18" style="height: 50px;" oncomplete="PF('bankConfirmDlg').show()">
												</p:commandButton>
											</p:panelGrid>
										</p:fieldset>

										<p:dataTable var="rowVar" value="#{companyinfoUI.bankingDetailsList}" rendered="#{companyinfoUI.bankingDetailsList.size() gt 0} and false" id="bankingdetailsList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
											paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
											<f:facet name="header">#{lang['previous.banking.details']}</f:facet>
											<p:column headerText="#{lang['bank']}">
												<h:outputText value="#{rowVar.bank.description}" />
											</p:column>
											<p:column headerText="#{lang['createDate']}">
												<h:outputText value="#{rowVar.createDate}">
													<f:convertDateTime pattern="dd MMMM yyyy (HH:mm:ss)" />
												</h:outputText>
											</p:column>
											<p:column headerText="#{lang['bankAccNumber']}">
												<h:outputText value="#{rowVar.maskedBankAccNumber}" />
											</p:column>
											<p:column headerText="#{lang['branchCode']}">
												<h:outputText value="#{rowVar.branchCode}" />
											</p:column>
											<p:column headerText="#{lang['bankHolder']}">
												<h:outputText value="#{rowVar.bankHolder}" />
											</p:column>
											<p:column headerText="#{lang['status']}">
												<p:outputLabel value="#{rowVar.status.friendlyName}"></p:outputLabel>
											</p:column>

										</p:dataTable>
									</p:panelGrid>
								</p:tab>

								<p:tab id="documents" title="#{lang['documents']}">
									<p:dataTable value="#{companyinfoUI.sdfCompany.company.docs}" var="rv1" emptyMessage="#{lang['no.records.found']}" rowKey="#{rv1.id}">
										<p:column headerText="#{lang['type']}" width="18%">#{rv1.configDoc.name}</p:column>
										<p:column headerText="#{lang['original.file.name']}" priority="4">
											<p:outputLabel value="#{rv1.originalFname}" styleClass="Fs12"></p:outputLabel>
										</p:column>
										<p:column headerText="#{lang['uploaded.by']}">#{rv1.users.firstName} #{rv1.users.lastName}</p:column>
										<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
											<h:outputText value="#{rv1.createDate}">
												<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
											</h:outputText>
										</p:column>
										<p:column headerText="#{lang['version']}" width="10%" priority="4">
											<h:outputText value="#{rv1.versionNo}">
											</h:outputText>
										</p:column>
										<p:column headerText="#{lang['approval.status']}" width="10%" priority="4">
											<h:outputText value="#{rv1.approvalStatus.friendlyName}">
											</h:outputText>
										</p:column>

										<p:column width="180" headerText="View">
											<p:commandButton immediate="true" process="@this" ajax="false" icon="fa fa-download " action="#{uploadDocUI.download}" id="dlb" rendered="#{rv1.id ne null}">
												<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />

											</p:commandButton>
											<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rv1.id ne null}" />
											<p:spacer width="5" rendered="#{not companyinfoUI.sdfCompany.company.locked}" />
											<p:commandButton icon="fa fa-upload" id="upload" styleClass="flat" process="@this" oncomplete="PF('dlgChangeReasonText').show()" update=":uploadForm" rendered="#{not companyinfoUI.sdfCompany.company.locked and rv1.approvalStatus ne ApprovalEnum.PendingApproval}">
												<f:setPropertyActionListener value="#{rv1}" target="#{companyinfoUI.doc}" />
												<f:setPropertyActionListener value="PF('dlgUpload').show()" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>
											<p:tooltip for="upload" value="#{rv1.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" position="left" />

											<p:spacer width="5" rendered="#{rv1.id ne null}" />
											<p:commandButton process="@this" icon="fa fa-bars " id="dhist" action="#{uploadDocUI.showHistory}" oncomplete="PF('histDialog').show()" update=":documenttrackeForm:documenttrackeList" rendered="#{rv1.id ne null}">
												<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
											</p:commandButton>

											<p:tooltip for="dhist" value="#{lang['document.tracker']}" position="left" rendered="#{rv1.id ne null}" />
											<h:panelGroup id="panelGroupThree" rendered="#{rv1.note ne null and rv1.note.length() gt 0}">
												<p:spacer width="5" />
												<p:commandButton process="@this" icon="fa fa-comment-o" id="dnote" oncomplete="PF('noteDialog').show()" update=":noteForm:notePanel">
													<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
												</p:commandButton>
												<p:tooltip for="dnote" value="#{lang['view.note']}" position="left" />
											</h:panelGroup>
											<h:panelGroup id="panelGroupFour" rendered="#{rv1.extension.toLowerCase() eq 'pdf' or rv1.extension.toLowerCase() eq 'png' or rv1.extension.toLowerCase() eq 'jpg' or rv1.extension.toLowerCase() eq 'jpeg' or rv1.extension.toLowerCase() eq 'gif'}">
												<p:spacer width="5" />
												<p:commandButton icon="fa fa-eye " id="viewerButton" oncomplete="PF('viewDialog').show()" update=":viewForm:viewer" action="#{uploadDocUI.buildStreamContent}">
													<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
												</p:commandButton>
												<p:tooltip for="viewerButton" value="#{lang['view.document']} " position="left" />
											</h:panelGroup>
										</p:column>
									</p:dataTable>
								</p:tab>

								<p:tab id="linkComp" title="#{lang['linked.companies']}">

									<p:commandButton immediate="true" icon="fa fa-plus" value="#{lang['link.new.company']}" update=":linkCompanyInsForm" action="#{linkedcompanyUI.setObjects}" oncomplete="PF('dlgChangeReason').show()" rendered="#{not companyinfoUI.sdfCompany.company.locked and false}">
										<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany}" target="#{linkedcompanyUI.sdfCompany}" />
										<f:setPropertyActionListener value="#{null}" target="#{linkedcompanyUI.company}" />
										<f:setPropertyActionListener value="PF('dlglinkCompany').show()" target="#{companyinfoUI.redirectionPage}" />
									</p:commandButton>
									<br />
									<br />
									<p:dataTable var="rowVar" id="companyList" rowKey="#{rowVar.id}" value="#{companyinfoUI.linkedCompanies}" rendered="#{companyinfoUI.linkedCompanies.size() gt 0}" emptyMessage="#{lang['no.records.found']}" reflow="true">

										<p:column headerText="#{lang['companyName']}">
											<h:outputText value="#{rowVar.companyName}" />
										</p:column>
										<p:column headerText="#{lang['sdl.number']}">
											<h:outputText value="#{rowVar.levyNumber}" />
										</p:column>
										<p:column headerText="#{lang['telNumber']}">
											<h:outputText value="#{rowVar.telNumber}" />
										</p:column>
										<p:column headerText="#{lang['company.status']}">
											<h:outputText value="#{lang[rowVar.companyStatus.registrationName]}" />
										</p:column>
										<p:column width="80" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
											<p:commandButton icon="fa fa-database" title="#{lang['update']}" update=":linkCompanyInsForm" action="#{linkedcompanyUI.changeObjects}" oncomplete="PF('dlgChangeReason').show()"
												rendered="#{rowVar.companyStatus ne CompanyStatusEnum.Pending and rowVar.companyStatus ne CompanyStatusEnum.PendingChangeApproval}" process="@this">
												<f:setPropertyActionListener value="#{rowVar}" target="#{linkedcompanyUI.company}" />
												<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany}" target="#{linkedcompanyUI.sdfCompany}" />
												<f:setPropertyActionListener value="PF('dlglinkCompany').show()" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>

											<p:commandButton icon="fa fa-trash" title="#{lang['delete']}" update=":linkCompanyInsForm" process="@this" oncomplete="PF('dlgDeLinkedCompCR').show()" rendered="#{rowVar.companyStatus ne CompanyStatusEnum.Pending and rowVar.companyStatus ne CompanyStatusEnum.PendingChangeApproval}">
												<f:setPropertyActionListener value="#{rowVar}" target="#{linkedcompanyUI.company}" />
												<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany}" target="#{linkedcompanyUI.sdfCompany}" />
											</p:commandButton>

										</p:column>
									</p:dataTable>
									<c:if test="#{companyinfoUI.linkedCompanies.size() eq 0}">
										<h4>#{lang['no.other.companies.have.been.linked.to.the.company']}</h4>
									</c:if>
								</p:tab>

								<p:tab id="trainComittee" title="#{lang['training.comittee']}">
									<p:commandButton process="@this" icon="fa fa-plus" value="#{lang['training.comittee']}" immediate="true" update=":trainingComitteeForm" oncomplete="PF('dlgChangeReason').show()" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
										<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{trainingcomitteeUI.company}" />
										<f:setPropertyActionListener value="PF('dlgtrainingComittee').show()" target="#{companyinfoUI.redirectionPage}" />
									</p:commandButton>
									<br />
									<br />
									<p:dataTable var="rowVar" value="#{companyinfoUI.trainingComittees}" rendered="#{companyinfoUI.trainingComittees.size() gt 0}" id="trainingcomitteeList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
										paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
										<p:column headerText="#{lang['expand.row']}" width="45">
											<p:rowToggler></p:rowToggler>
										</p:column>
										<p:column headerText="#{lang['first.name']}">
											<h:outputText value="#{rowVar.firstName}" />
										</p:column>
										<p:column headerText="#{lang['last.name']}">
											<h:outputText value="#{rowVar.lastName}" />
										</p:column>
										<p:column headerText="#{lang['rsa.id.number']}">
											<h:outputText value="#{rowVar.rsaIDNumber}" />
										</p:column>
										<p:column headerText="#{lang['passport.number']}">
											<h:outputText value="#{rowVar.passportNumber}" />
										</p:column>
										<p:column headerText="#{lang['email']}">
											<h:outputText value="#{rowVar.email}" />
										</p:column>
										<p:column headerText="#{lang['union.name']}">
											<h:outputText value="#{rowVar.union.description}" />
										</p:column>
										<p:column headerText="#{lang['status']}">
											<h:outputText value="#{rowVar.approvalStatus.friendlyName}" />
										</p:column>
										<p:column width="80" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
											<p:commandButton icon="fa fa-database" title="#{lang['training.comittee']}" update=":trainingComitteeForm " oncomplete="PF('dlgChangeReasonText').show()" rendered="#{rowVar.approvalStatus ne ApprovalEnum.PendingApproval}" process="@this">
												<f:setPropertyActionListener value="#{rowVar}" target="#{trainingcomitteeUI.trainingcomittee}" />
												<f:setPropertyActionListener value="PF('dlgtrainingComittee').show()" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>

											<p:spacer width="5" />

											<p:commandButton icon="fa fa-trash-o" title="#{lang['delete']}" update="@form trainingcomitteeList" process="@this" oncomplete="PF('dlgDelTCChangeReason').show()" rendered="#{rowVar.approvalStatus ne ApprovalEnum.PendingApproval}">
												<f:setPropertyActionListener value="#{rowVar}" target="#{companyinfoUI.trainingcomittee}" />
											</p:commandButton>

										</p:column>
										<p:rowExpansion>
											<p:panelGrid columns="3" style="width:100%" id="s" layout="grid" styleClass="ui-panelgrid-blank form-group">
												<h:panelGroup>
													<h:outputText value="#{lang['title']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.title.description}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['gender']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.gender.genderName}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['equity']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.equity.description}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['tel.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.telNumber}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['cell.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.cellNumber}" />
												</h:panelGroup>
												<h:panelGroup>
													<h:outputText value="#{lang['fax.number']}" styleClass="Fs12 FontLight" />
													<br />
													<h:outputText value="#{rowVar.faxNumber}" />
												</h:panelGroup>
											</p:panelGrid>
										</p:rowExpansion>
									</p:dataTable>
									<c:if test="#{companyinfoUI.trainingComittees.size() eq 0}">
										<h4>#{lang['no.training.committee.captured.for.company']}</h4>
									</c:if>
								</p:tab>
								<p:tab id="site" title="#{lang['sites']}">

									<p:commandButton process="@this" immediate="true" icon="fa fa-plus" value="#{lang['link.site']}" update=":sitesInsForm" oncomplete="PF('dlgChangeReason').show()" action="#{sitesUI.prepareNew}" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
										<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{sitesUI.company}" />
										<f:setPropertyActionListener value="PF('dlgSites').show()" target="#{companyinfoUI.redirectionPage}" />
									</p:commandButton>
									<br />
									<br />
									<p:dataTable value="#{companyinfoUI.sites}" id="siteTable" rendered="#{companyinfoUI.sites.size() gt 0}" var="rv4" rowKey="#{rv4.id}" emptyMessage="#{lang['no.records.found']}" reflow="true">

										<p:column headerText="#{lang['expand.row']}" width="45">
											<p:rowToggler></p:rowToggler>
										</p:column>

										<p:column headerText="#{lang['site.name']}">
											<h:outputText value="#{rv4.companyName}" />
										</p:column>
										<p:column headerText="#{lang['numberOfEmployees']}">
											<h:outputText value="#{rv4.numberOfEmployees}" />
										</p:column>
										<p:column headerText="#{lang['telNumber']}">
											<h:outputText value="#{rv4.telNumber}" />
										</p:column>
										<p:column headerText="#{lang['faxNumber']}">
											<h:outputText value="#{rv4.faxNumber}" />
										</p:column>
										<p:column headerText="#{lang['status']}">
											<h:outputText value="#{rv4.siteStatus.friendlyName}" />
										</p:column>
										<p:column width="80" rendered="#{not companyinfoUI.sdfCompany.company.locked}">
											<p:commandButton icon="fa fa-database" title="#{lang['link.site']}" update=":sitesInsForm" rendered="#{rv4.siteStatus ne CompanyStatusEnum.Pending and rv4.siteStatus ne CompanyStatusEnum.PendingChangeApproval}" oncomplete="PF('dlgChangeReason').show()" action="#{sitesUI.checkTotal}"
												process="@this">
												<f:setPropertyActionListener value="#{rv4}" target="#{sitesUI.sites}" />
												<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{sitesUI.company}" />
												<f:setPropertyActionListener value="PF('dlgSites').show()" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>

											<p:spacer width="5" />

											<p:commandButton icon="fa fa-trash-o" title="#{lang['delete']}" update="@form siteTable" process="@this" oncomplete="PF('dlgChangeReason').show()" rendered="#{rv4.siteStatus ne CompanyStatusEnum.Pending and rv4.siteStatus ne CompanyStatusEnum.PendingChangeApproval}">
												<f:setPropertyActionListener value="#{rv4}" target="#{companyinfoUI.site}" />
												<f:setPropertyActionListener value="deleteSiste" target="#{companyinfoUI.redirectionPage}" />
											</p:commandButton>

										</p:column>
										<p:rowExpansion>
											<p:panelGrid columns="1" style="width:95%" layout="grid" styleClass="ui-panelgrid-blank form-group">
												<p:fieldset legend="#{lang['residentialAddress']}">
													<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="addrPcode">
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.1']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{rv4.registeredAddress.addressLine1}" style="width:95%; opacity:1 !important" required="true" requiredMessage="#{lang['enter.residential.address']}" />
															<br />
															<p:outputLabel value="#{lang['address.line.2']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rv4.registeredAddress.addressLine2 eq null or rv4.registeredAddress.addressLine2.length() eq 0}" />
															<p:outputLabel style="width:95%; opacity:1 !important" value="#{rv4.registeredAddress.addressLine2}" rendered="#{rv4.registeredAddress.addressLine2 ne null and rv4.registeredAddress.addressLine2.length() gt 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.3']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel style="width:95%; opacity:1 !important" value="#{rv4.registeredAddress.addressLine3}" rendered="#{rv4.registeredAddress.addressLine3 ne null and rv4.registeredAddress.addressLine3.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rv4.registeredAddress.addressLine3 eq null or rv4.registeredAddress.addressLine3.length() eq 0}" />
															<br />
															<p:outputLabel value="#{lang['address.line.4']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel style="width:95%; opacity:1 !important" value="#{rv4.registeredAddress.addressLine4}" rendered="#{rv4.registeredAddress.addressLine4 ne null and rv4.registeredAddress.addressLine4.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rv4.registeredAddress.addressLine4 eq null or rv4.registeredAddress.addressLine4.length() eq 0}" />
														</h:panelGroup>
													</p:panelGrid>
													<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank">
														<h:panelGroup>
															<p:outputLabel value="#{lang['post.code']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.postcode}" rendered="#{rv4.registeredAddress.postcode ne null and rv4.registeredAddress.postcode.length() gt 0}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.postcode eq null or rv4.registeredAddress.postcode.length() eq 0}" />
															<br />
															<h:outputLabel value="#{lang['municipality']}" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.municipality.municipalityDesc}" />
														</h:panelGroup>
													</p:panelGrid>
													<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="longLatSiteBefore">
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['longitude']}: Degrees" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.longitudeDegrees}" rendered="#{rv4.registeredAddress.longitudeDegrees ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.longitudeDegrees eq null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['latitude']}: Degrees" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.latitudeDegrees}" rendered="#{rv4.registeredAddress.latitudeDegrees ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.latitudeDegrees eq null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['longitude']}: Minutes" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.longitudeMinutes}" rendered="#{rv4.registeredAddress.longitudeMinutes ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.longitudeMinutes eq null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['latitude']}: Minutes" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.latitudeMinutes}" rendered="#{rv4.registeredAddress.latitudeMinutes ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.latitudeMinutes eq null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['longitude']}: Seconds" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.longitudeSeconds}" rendered="#{rv4.registeredAddress.longitudeSeconds ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.longitudeSeconds eq null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel styleClass="Fs12 FontLight" value="#{lang['latitude']}: Seconds" />
															<br />
															<p:outputLabel style="width:95%" value="#{rv4.registeredAddress.latitudeSeconds}" rendered="#{rv4.registeredAddress.latitudeSeconds ne null}" />
															<p:outputLabel value="N/A" style="width:95%" rendered="#{rv4.registeredAddress.latitudeSeconds eq null}" />
														</h:panelGroup>
													</p:panelGrid>
												</p:fieldset>
											</p:panelGrid>
										</p:rowExpansion>
									</p:dataTable>
									<c:if test="#{companyinfoUI.sites.size() eq 0}">
										<h4>#{lang['no.sites.captured.for.company']}</h4>
									</c:if>

									<ui:include src="/pages/includes/providerlegacysites.xhtml">
									</ui:include>

								</p:tab>

								<p:tab id="dgContracts" title="#{lang['moa.details']}">
									<p:dataTable var="rowVar" value="#{companyinfoUI.activeContracts}" id="activecontractsList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom"
										paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">

										<p:column headerText="#{lang['refno']}">
											<h:outputText value="#{rowVar.refnoAuto}" />
										</p:column>
										<p:column headerText="#{lang['type']}">
											<h:outputText value="#{rowVar.moaType.friendlyName}" />
										</p:column>
										<p:column headerText="#{lang['contractvalue']}">
											<h:outputText value="#{rowVar.contractvalue}">
												<f:convertNumber pattern="####################0.00" />
											</h:outputText>
										</p:column>
										<p:column headerText="#{lang['eccepteddate']}" rendered="false">
											<h:outputText value="#{rowVar.originalenddate}">
												<f:convertDateTime pattern="dd MMMM yyyy" />
											</h:outputText>
										</p:column>
										<p:column headerText="Company #{lang['signdate']}">
											<h:outputText value="#{rowVar.startdate}">
												<f:convertDateTime pattern="dd MMMM yyyy" />
											</h:outputText>
										</p:column>
										<p:column headerText="merSETA #{lang['signdate']}">
											<h:outputText value="#{rowVar.signdate}">
												<f:convertDateTime pattern="dd MMMM yyyy" />
											</h:outputText>
										</p:column>

										<p:column headerText="Original End Date" rendered="true">
											<h:outputText value="#{rowVar.originalenddate}" rendered="true" />
										</p:column>

										<p:column headerText="#{lang['contractStatusEnum']}" rendered="false">
											<h:outputText value="#{rowVar.contractStatusEnum}" />
										</p:column>

									</p:dataTable>
								</p:tab>

								<p:tab id="siteSme" title="Mentor Management" rendered="#{companyinfoUI.sdfCompany.company.organisationType.workplaceApprovalRequired}">
									<p:outputPanel id="siteSmePanel">
										<p:commandButton icon="fa fa-plus" value="Add Mentor" immediate="true" update=":siteSmeForm" oncomplete="PF('dlgAddSiteSme').show()" rendered="#{not companyinfoUI.sdfCompany.company.locked}" action="#{sitessmeUI.prepareNew}">
											<f:setPropertyActionListener value="#{companyinfoUI.sdfCompany.company}" target="#{sitessmeUI.company}" />
											<f:setPropertyActionListener value="PF('dlgAddSiteSme').show()" target="#{companyinfoUI.redirectionPage}" />
										</p:commandButton>
										<br />
										<br />
										<p:dataTable var="rowVarSme" value="#{companyinfoUI.allSmeDataModel}" rowKey="#{rowVarSme.id}" paginator="true" rows="5" paginatorPosition="bottom"
											paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
											<p:ajax event="rowToggle" listener="#{companyinfoUI.listenerMethod(rowVarSme)}" />
											<p:column style="width:7%" headerText="#{lang['expand.row']}">
												<p:rowToggler />
											</p:column>

											<p:column headerText="Site Name" sortBy="#{rowVarSme.sites}">
												<p:outputLabel value="#{rowVarSme.sites.companyName}" rendered="#{rowVarSme.sites ne null}" />
												<p:outputLabel value="#{rowVarSme.company.companyName}" rendered="#{rowVarSme.sites eq null}" />
											</p:column>
											<p:column headerText="Address">
												<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine1}" rendered="#{rowVarSme.sites ne null}" />
												<p:outputLabel value="#{rowVarSme.company.residentialAddress.addressLine1}" rendered="#{rowVarSme.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine2}" rendered="#{rowVarSme.sites ne null}" />
												<p:outputLabel value="#{rowVarSme.company.residentialAddress.addressLine2}" rendered="#{rowVarSme.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine3}" rendered="#{rowVarSme.sites ne null}" />
												<p:outputLabel value="#{rowVarSme.company.residentialAddress.addressLine3}" rendered="#{rowVarSme.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rowVarSme.sites.registeredAddress.town.description}" rendered="#{rowVarSme.sites ne null}" />
												<p:outputLabel value="#{rowVarSme.company.residentialAddress.town.description}" rendered="#{rowVarSme.company.residentialAddress ne null}" />
												<br />
											</p:column>
											<p:column headerText="First Name" filterBy="#{rowVarSme.firstName}">
												<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.firstName}" />
											</p:column>
											<p:column headerText="Last Name" filterBy="#{rowVarSme.lastName}">
												<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.lastName}" />
											</p:column>
											<p:column headerText="Identity Number" filterBy="#{rowVarSme.identityNumber}">
												<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.identityNumber}" />
											</p:column>
											<p:column headerText="Passport  Number" filterBy="#{rowVarSme.passportNumber}">
												<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.passportNumber}" />
											</p:column>
											<p:column headerText="Active" sortBy="#{rowVarSme.active}" rendered="false">
												<p:selectBooleanCheckbox value="#{rowVarSme.active}" disabled="true" />
											</p:column>
											<p:column headerText="Status" sortBy="{rowVarSme.status}">
												<p:outputLabel value="#{rowVarSme.status.friendlyName}" />
											</p:column>

											<p:column headerText="Approval Date" sortBy="#{rowVarSme.approvedDate}">
												<p:outputLabel value="#{rowVarSme.approvedDate}">
													<f:convertDateTime pattern="dd MMMM yyyy" />
												</p:outputLabel>
											</p:column>

											<p:column width="80" headerText="View">
												<p:commandButton immediate="true" icon="fa fa-database" title="#{lang['update']}" update=":siteSmeUpdateForms" oncomplete="PF('dlgSmeChangeReason').show()" action="#{sitessmeUI.prepUpdatemeQualification}" rendered="#{!rowVarSme.lockSme}">
													<f:setPropertyActionListener value="#{rowVarSme}" target="#{sitessmeUI.sitessmeupdate}" />
												</p:commandButton>
												<p:commandButton immediate="true" icon="fa fa-trash-o" title="#{lang['delete']}" update=":siteSmeUpdateForms" oncomplete="if (args &amp;&amp; !args.validationFailed)  PF('dlgDeleteReason').show()" rendered="#{!rowVarSme.lockSme}" action="#{sitessmeUI.prepUpdatemeQualification}">
													<f:setPropertyActionListener value="#{rowVarSme}" target="#{sitessmeUI.sitessmeupdate}" />
												</p:commandButton>
											</p:column>
											<p:rowExpansion>
												<p:outputPanel>
													<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
														<p:dataTable id="smeQualificationDt" value="#{rowVarSme.smeQualificationsList}" var="rvql" rowKey="#{rvql.id}" paginator="true" paginatorPosition="bottom" rows="5" reflow="true">
															<p:column headerText="SAQA ID" style="width:8%">
																<p:outputLabel value="#{rvql.qualification.code}" />
															</p:column>
															<p:column headerText="Qualification">
																<p:outputLabel value="#{rvql.qualification.description}" />
															</p:column>

															<p:column headerText="#{lang['nqf.level']}">
																<h:outputText value="#{rvql.qualification.nqflevel.description}" />
															</p:column>

															<p:column headerText="#{lang['status']}">
																<h:outputText value="#{rvql.status.friendlyName}" />
															</p:column>

															<p:column headerText="Approval/Reject Date">
																<h:outputText value="#{rvql.approvedDate}">
																	<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
																</h:outputText>
															</p:column>

															<p:column headerText="Reject Reasons">
																<h:outputText value="#{rvql.reason}" />
															</p:column>

														</p:dataTable>

														<p:dataTable value="#{companyinfoUI.docs}" var="rv1" emptyMessage="#{lang['no.records.found']}" paginator="true" paginatorPosition="bottom" rowKey="#{rv1.id}" rows="5" reflow="true">
															<p:column headerText="#{lang['type']}" width="18%">
																#{rv1.configDoc.name}
																<p:outputLabel rendered="#{rv1.configDoc.name eq null}" value="Certified Copy of Trade Test/Qualification"></p:outputLabel>
															</p:column>
															<p:column headerText="#{lang['original.file.name']}" priority="4">
																<p:outputLabel value="#{rv1.originalFname}"></p:outputLabel>
															</p:column>
															<p:column headerText="#{lang['uploaded.by']}">#{rv1.users.firstName} #{rv1.users.lastName}</p:column>
															<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
																<h:outputText value="#{rv1.createDate}">
																	<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
																</h:outputText>
															</p:column>
															<p:column headerText="#{lang['version']}" width="10%" priority="4">
																<h:outputText value="#{rv1.versionNo}">
																</h:outputText>
															</p:column>

															<p:column width="120" headerText="View">
																<p:commandButton immediate="true" process="@this" ajax="false" icon="fa fa-download " action="#{uploadDocUI.download}" id="dlb" rendered="#{rv1.id ne null}">
																	<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
																</p:commandButton>

																<p:spacer width="5" />
																<p:commandButton icon="fa fa-eye " id="viewerButtonUserDocs" oncomplete="PF('viewDialog').show()" update=":viewForm:viewer" action="#{uploadDocUI.buildStreamContent}">
																	<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
																</p:commandButton>

																<p:spacer width="5" />
																<p:commandButton icon="fa fa-bars " id="dhistUserDocs" action="#{uploadDocUI.showHistory}" oncomplete="PF('histDialog').show()" update="@form" rendered="#{rv1.id ne null}">
																	<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
																</p:commandButton>

															</p:column>
														</p:dataTable>
													</p:panelGrid>
												</p:outputPanel>
											</p:rowExpansion>
										</p:dataTable>
									</p:outputPanel>
								</p:tab>
								<p:tab id="workplaceApprovalTab" title="Workplace Approval Details" rendered="#{companyinfoUI.sdfCompany.company.organisationType.workplaceApprovalRequired}">
									<p:outputPanel id="workplaceApprovalPanel">
										<p:commandButton id="newWpaBtn" icon="fa fa-plus" value="Request New WPA" immediate="true" update=":wpaForm" oncomplete="PF('dlgAddWpa').show()" rendered="#{not companyinfoUI.sdfCompany.company.locked}" action="#{companyinfoUI.prepWorkplaceApprovalRequest}" />
										<br />
										<br />

										<ui:include src="/pages/includes/download_lazy.xhtml">
											<ui:param name="file_name" value="WorkPlaceApprovalData" />
											<ui:param name="target" value="workPlaceApprovalData" />
										</ui:include>
										<p:dataTable id="workPlaceApprovalData" var="rvwpa" value="#{companyinfoUI.allWorkPlaceApprovalDataModel}" rowKey="#{rvwpa.id}" paginator="true" rows="5" paginatorPosition="bottom"
											paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
											<p:column style="width:7%" headerText="#{lang['expand.row']}">
												<p:rowToggler />
											</p:column>
											<p:column headerText="Site" sortBy="#{rvwpa.sites}">
												<p:outputLabel value="#{rvwpa.sites.companyName}" rendered="#{rvwpa.sites ne null}" />
												<p:outputLabel value="#{rvwpa.company.companyName}" rendered="#{rvwpa.sites eq null}" />
											</p:column>

											<p:column headerText="Company #{lang['wpa.num']}" rendered="true">
												<p:outputLabel value=" #{rvwpa.company.workplaceApprovalNumber}" rendered="#{rvwpa.company.workplaceApprovalNumber ne null}" />
											</p:column>

											<p:column headerText="Workplace Approval Review Date">
												<h:outputText value="#{rvwpa.approvalReviewDate}" rendered="#{rvwpa.approvalReviewDate ne null}">
													<f:convertDateTime pattern="#{autoCompleteUI.CALENDER_PATTERN}" />
												</h:outputText>
												<p:outputLabel value="#{lang['N/A']}" rendered="#{rvwpa.approvalReviewDate eq null}" />
											</p:column>

											<p:column headerText="Address">
												<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine1}" rendered="#{rvwpa.sites ne null}" />
												<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine1}" rendered="#{rvwpa.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine2}" rendered="#{rvwpa.sites ne null}" />
												<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine2}" rendered="#{rvwpa.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine3}" rendered="#{rvwpa.sites ne null}" />
												<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine3}" rendered="#{rvwpa.company.residentialAddress ne null}" />
												<br />
												<p:outputLabel value="#{rvwpa.sites.registeredAddress.town.description}" rendered="#{rvwpa.sites ne null}" />
												<p:outputLabel value="#{rvwpa.company.residentialAddress.town.description}" rendered="#{rvwpa.company.residentialAddress ne null}" />
												<br />
											</p:column>
											<p:column headerText="Qualification/Trade Code">
												<p:outputLabel value="#{rvwpa.qualification.code}" rendered="#{rvwpa.qualification.code ne null}" />
												<p:outputLabel value="#{rvwpa.ofoCodes.ofoCodeParent}" rendered="#{rvwpa.ofoCodes ne null}" />
											</p:column>

											<p:column headerText="Qualification/Trade Title">
												<p:outputLabel value=" #{rvwpa.qualification.description}" rendered="#{rvwpa.qualification ne null}" />
												<p:outputLabel value=" #{rvwpa.ofoCodes.description}" rendered="#{rvwpa.ofoCodes ne null}" />

											</p:column>

											<p:column headerText="Status" sortBy="#{rvwpa.approvalEnum}">
												<p:outputLabel value="#{rvwpa.approvalEnum.friendlyName}" />
											</p:column>

											<p:column headerText="#{lang['approval.date']}" sortBy="#{rvwpa.approvalDate}">
												<h:outputText value="#{rvwpa.approvalDate}" rendered="#{rvwpa.approvalDate ne null}">
													<f:convertDateTime pattern="#{autoCompleteUI.CALENDER_PATTERN}" />
												</h:outputText>
												<p:outputLabel value="#{lang['N/A']}" rendered="#{rvwpa.approvalDate eq null}" />
											</p:column>

											<p:column headerText="Qualification/Trade #{lang['wpa.num']}" rendered="true">
												<p:outputLabel value=" #{rvwpa.workPlaceApprovalNumber}" rendered="#{rvwpa.workPlaceApprovalNumber ne null}" />
											</p:column>

											<p:column width="30">
												<p:commandButton title="Download WPA Form" ajax="false" icon="fa fa-download " action="#{companyinfoUI.downloadWorkPlaceApproval}" id="dlb" rendered="#{rvwpa.approvalEnum eq ApprovalEnum.Approved and rvwpa.targetKey eq null}" immediate="true">
													<f:setPropertyActionListener value="#{rvwpa}" target="#{companyinfoUI.workPlaceApproval}" />
												</p:commandButton>
												
												<p:commandButton title="Withdraw WPA" icon="fa fa-remove" oncomplete="PF('dlgWithdrawalDocument').show()" id="dlb2" rendered="#{rvwpa.approvalEnum eq ApprovalEnum.PendingApproval or rvwpa.approvalEnum eq ApprovalEnum.PendingSignOff or rvwpa.approvalEnum eq ApprovalEnum.PendingFinalApproval}" update="@form">
													<f:setPropertyActionListener value="#{rvwpa}" target="#{companyinfoUI.workPlaceApproval}" />
												</p:commandButton>
												
												<p:commandButton title="Adding Additional Mentors" icon="fa fa-users" action="#{companyinfoUI.prepareMentorWorkPlaceApproval}" oncomplete="PF('AdditionalMentors').show()" id="wpamentors" rendered="#{rvwpa.approvalEnum eq ApprovalEnum.Approved}" update="additionalmentorsForm" immediate="true">
													<f:setPropertyActionListener value="#{rvwpa}" target="#{companyinfoUI.workPlaceApproval}" />
												</p:commandButton>
											</p:column>

											<p:rowExpansion>
												<p:outputPanel>
													<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
														<p:dataTable id="skillsList" value="#{rvwpa.skillsProgramlist}" var="rvql2" rowKey="#{rvql2.id}" paginator="true" paginatorPosition="bottom" rows="5" reflow="true">

															<p:column headerText="Programme ID" style="width:8%">
																<p:outputLabel value="#{rvql2.programmeID}" />
															</p:column>

															<p:column headerText="Description" style="width:8%">
																<p:outputLabel value="#{rvql2.description}" />
															</p:column>

															<p:column headerText="Qualification ID" style="width:8%">
																<p:outputLabel value="#{rvql2.qualification.codeString}" />
															</p:column>

															<p:column headerText="Qualification Title" style="width:8%">
																<p:outputLabel value="#{rvql2.qualification.description}" />
															</p:column>

															<p:column headerText="Qualification Registration Start Date" style="width:8%">
																<p:outputLabel value="#{rvql2.qualification.qualregistrationstartDate}">
																	<f:convertDateTime pattern="MM/dd/yyyy" type="date" />
																</p:outputLabel>
															</p:column>

															<p:column headerText="Qualification Registration End Date" style="width:8%">
																<p:outputLabel value="#{rvql2.qualification.qualregistrationendDate}">
																	<f:convertDateTime pattern="MM/dd/yyyy" type="date" />
																</p:outputLabel>
															</p:column>

														</p:dataTable>
													</p:panelGrid>
												</p:outputPanel>
											</p:rowExpansion>

										</p:dataTable>
									</p:outputPanel>

									<p:outputPanel id="legacyWorkplaceApprovalPanel">
										<br />
										<h2>Legacy Workplace Approval</h2>
										<ui:include src="/pages/externalparty/wsp/includes/legacyworkplaceapproval.xhtml" />
									</p:outputPanel>
								</p:tab>

								<p:tab id="companyCommunicationTab" title="Company Communications" >
									<p:outputPanel id="companyCommunicationTabPanel">
										<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank">
											<ui:include src="/pages/includes/download_lazy.xhtml">
												<ui:param name="file_name" value="Company_Communications_List" />
												<ui:param name="target" value="companyCommunicationDT" />
											</ui:include>
											<ui:include src="/pages/includes/filterGuide.xhtml" />
											<p:dataTable id="companyCommunicationDT" var="rwcc" value="#{companyinfoUI.companyCommunicationDataModel}" rowKey="#{rwcc.id}" paginator="true" rows="5" paginatorPosition="bottom"
												paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">

												<p:column headerText="#{lang['expand.row']}" width="45" exportable="false">
													<p:rowToggler></p:rowToggler>
												</p:column>

												<p:column headerText="NSDMS Ref Number" sortBy="#{rwcc.id}" width="7%">
													<p:outputLabel value="#{rwcc.id}" />
												</p:column>

												<p:column headerText="Title" filterBy="#{rwcc.title}">
													<p:outputLabel value="#{rwcc.title}" />
												</p:column>

												<p:column headerText="Description" filterBy="#{rwcc.description}">
													<p:outputLabel value="#{rwcc.description}" />
												</p:column>

												<p:rowExpansion>
												
													<div class="EmptyBox10" />
													<p:panelGrid id="companyComDocuments" columns="1" style="width:95%" layout="grid" styleClass="ui-panelgrid-blank form-group">

														<p:dataTable value="#{rwcc.docs}" var="rwccDoc" rowKey="#{rwccDoc.id}" emptyMessage="#{lang['no.records.found']}" reflow="true">
															<f:facet name="header">Documents</f:facet>
															<p:column headerText="#{lang['type']}" width="20%" rendered="false">#{rwccDoc.configDoc.name}</p:column>
															<p:column headerText="#{lang['uploaded.by']}" rendered="false">#{rwccDoc.users.firstName} #{rwccDoc.users.lastName}</p:column>
															<p:column headerText="#{lang['uploaded']}" width="15%">
																<h:outputText value="#{rwccDoc.createDate}">
																	<f:convertDateTime pattern="dd MMM yyyy" />
																</h:outputText>
															</p:column>

															<p:column headerText="Orginal File Name" width="25%">
																<h:outputText value="#{rwccDoc.originalFname}">
																</h:outputText>
															</p:column>

															<p:column headerText="#{lang['document.is.required']}" width="150" rendered="false">
																<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.requiredDocument}" disabled="true" style="opacity: 1 !important" rendered="#{not rwccDoc.required}"></p:selectBooleanCheckbox>
																<p:selectBooleanCheckbox value="#{rwccDoc.required}" disabled="true" style="opacity: 1 !important" rendered="#{rwccDoc.required}"></p:selectBooleanCheckbox>
															</p:column>

															<p:column headerText="#{lang['original.required']}" width="150" rendered="false">
																<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.originalRequired}" disabled="true" style="opacity: 1 !important" rendered="#{not rwccDoc.configDoc.originalRequired}"></p:selectBooleanCheckbox>
																<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.originalRequired}" disabled="true" style="opacity: 1 !important" rendered="#{rwccDoc.configDoc.originalRequired}"></p:selectBooleanCheckbox>
															</p:column>

															<p:column headerText="#{lang['version']}" width="15%">
																<h:outputText value="#{rwccDoc.versionNo}" />
															</p:column>

															<p:column width="180" headerText="#{lang['view.edit']}">
																<p:commandButton ajax="false" icon="fa fa-download" action="#{uploadDocUI.download}" id="dlbUserDocsCC" rendered="#{rwccDoc.id ne null}">
																	<p:tooltip for="dlbUserDocsCC" value="#{lang['download.the.file']}" position="left" rendered="#{rwccDoc.id ne null}" />
																	<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																</p:commandButton>
																<p:spacer width="5" rendered="#{rwccDoc.id ne null}" />

																<p:commandButton icon="fa fa-bars " id="dhistUserDocsCC" action="#{uploadDocUI.showHistory}" oncomplete="PF('histDialog').show()" update=":documenttrackeForm:documenttrackeList" rendered="#{rwccDoc.id ne null and false}">
																	<p:tooltip for="dhistUserDocsCC" value="#{lang['document.tracker']}" position="left" rendered="#{rwccDoc.id ne null}" />
																	<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																</p:commandButton>
																<p:spacer width="5" rendered="#{rwccDoc.id ne null and false}" />

																<h:panelGroup id="panelGroupThreeUserDocsCC" rendered="#{rwccDoc.note ne null and rwccDoc.note.length() gt 0}">
																	<p:commandButton icon="fa fa-comment-o " id="dnoteUserDocsCC" oncomplete="PF('noteDialog').show()" update=":noteForm:notePanel">
																		<p:tooltip for="dnoteUserDocsCC" value="#{lang['view.note']}" position="left" />
																		<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																	</p:commandButton>
																	<p:spacer width="5" />
																</h:panelGroup>

																<h:panelGroup id="panelGroupFourUserDocsCC" rendered="#{rwccDoc.extension.toLowerCase() eq 'pdf' or rwccDoc.extension.toLowerCase() eq 'png' or rwccDoc.extension.toLowerCase() eq 'jpg' or rwccDoc.extension.toLowerCase() eq 'jpeg' or rwccDoc.extension.toLowerCase() eq 'gif'}">
																	<p:commandButton icon="fa fa-eye " id="viewerButtonUserDocsCC" oncomplete="PF('viewDialog').show()" update=":viewForm:viewer" action="#{uploadDocUI.buildStreamContent}">
																		<p:tooltip for="viewerButtonUserDocsCC" value="#{lang['view.document']} " position="left" />
																		<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																	</p:commandButton>
																	<p:spacer width="5" />
																</h:panelGroup>
															</p:column>
														</p:dataTable>
													</p:panelGrid>
												</p:rowExpansion>
											</p:dataTable>
										</p:panelGrid>
									</p:outputPanel>
								</p:tab>
							</p:tabView>
						</div>
					</c:if>
				</h:form>
			</div>
		</div>

		<p:dialog closeOnEscape="true" header="#{lang['upload.documents']}" widgetVar="dlgUpload" resizable="false" hideEffect="clip" showEffect="clip" id="commonUPLOAD" width="80%" responsive="true" modal="true" dynamic="true">
			<h:form id="uploadForm">
				<h:panelGroup id="uploadGroup">
					<div class="ui-g">
						<div class="ui-g-12">
							<div class="card">
								<h1 style="font-weight: bold; font-size: 25px;">#{sdfUI.doc.configDoc.name}</h1>
								<p:panel>
									<h:panelGrid columns="2" style="width: 100%">
										<p:outputLabel value="#{lang['notes']}:" for="note" />
										<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
											<p:ajax />
										</p:inputTextarea>
									</h:panelGrid>
									<div class="TexAlCenter">
										<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
									</div>
									<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{companyinfoUI.storeNewFileAndCreateTask}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}" update="companyForm"
										multiple="false" fileLimit="1" sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
								</p:panel>
								<div class="EmptyBox10" />
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" header="#{lang['training.comittee']}" width="75%" widgetVar="dlgtrainingComittee" resizable="false" hideEffect="clip" showEffect="clip" id="dialogtrainingComittee" appendTo="@(body)" modal="true">

			<h:form id="trainingComitteeForm">

				<p:fieldset legend="#{bankingdetailsUI.company.companyName} #{lang['training.comittee']}">

					<p:panelGrid columns="2" style="width:100%" id="trainingcomitteeInsGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="email" value="#{trainingcomitteeUI.trainingcomittee.email}" maxlength="#{companyUsersUI.MAX_EMAIL_SIZE}" style="width:95%" required="true" requiredMessage="#{lang['provide.email']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['user.email.length']}" />
							</p:inputText>
							<p:outputLabel value="#{lang['email']}" for="email" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="rsaIDNumber" value="#{trainingcomitteeUI.trainingcomittee.rsaIDNumber}" maxlength="#{trainingcomitteeUI.MAX_RSA_ID_NUMBER}" style="width:95%" />
							<p:outputLabel value="#{lang['rsa.id.number']}" for="rsaIDNumber" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="passportNumber" value="#{trainingcomitteeUI.trainingcomittee.passportNumber}" maxlength="#{trainingcomitteeUI.MAX_PASSPORT_NUMBER}" style="width:95%">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['user.passport.length']} " />
							</p:inputText>
							<p:outputLabel value="#{lang['passport.number']}" for="passportNumber" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="firstName" value="#{trainingcomitteeUI.trainingcomittee.firstName}" maxlength="#{trainingcomitteeUI.MAX_FIRST_NAME_SIZE}" style="width:95%" required="true" requiredMessage="#{lang['provide.first.name']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="26" message="#{lang['user.name.length']}" />
							</p:inputText>
							<p:outputLabel value="#{lang['first.name']}" for="firstName" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="lastName" value="#{trainingcomitteeUI.trainingcomittee.lastName}" maxlength="#{trainingcomitteeUI.MAX_LAST_NAME_SIZE}" style="width:95%" required="true" requiredMessage="#{lang['provide.last.name']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="45" message="#{lang['user.lastname.length']}" />
							</p:inputText>
							<p:outputLabel value="#{lang['last.name']}" for="lastName" />
						</h:panelGroup>
						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['gender']}" for="gender" />
							</div>
							<div>
								<p:selectOneMenu id="gender" value="#{trainingcomitteeUI.trainingcomittee.gender}" converter="GenderConvertor" style="width:75%" required="true" requiredMessage="#{lang['select.gender']}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.selectItemsGender}" var="rv" itemLabel="#{rv.genderName}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputMask id="telNumber" mask="#{trainingcomitteeUI.TELPHONE_FORMAT}" value="#{trainingcomitteeUI.trainingcomittee.telNumber}" style="width: 90%" label="telNumber" required="true" requiredMessage="#{lang['provide.tell.number']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['user.tellnumber.length']}" />
							</p:inputMask>
							<p:outputLabel value="#{lang['telNumber']}" for="telNumber" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputMask id="cellNumber" mask="#{trainingcomitteeUI.CELLPHONE_FORMAT}" value="#{trainingcomitteeUI.trainingcomittee.cellNumber}" style="width:95%" required="false" requiredMessage="#{lang['provide.cell.number']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="20" message="#{lang['user.cellnumber.length']}" />
							</p:inputMask>
							<p:outputLabel value="#{lang['cell.number']}" for="cellNumber" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="faxNumber" validatorMessage="#{lang['user.faxnumber.length']}" value="#{trainingcomitteeUI.trainingcomittee.faxNumber}" style="width:95%" maxlength="#{trainingcomitteeUI.MAX_FAX_NUMBER}">
							</p:inputText>
							<p:outputLabel value="#{lang['fax.number']}" for="faxNumber" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield" rendered="false">
							<p:inputText id="unionName" value="#{trainingcomitteeUI.trainingcomittee.unionName}" style="width:95%" required="true" requiredMessage="#{lang['provide.union.name']}">
								<o:validator validatorId="javax.faces.Length" minimum="0" maximum="50" message="#{lang['trainingcomittee.unionName.length']}" />
							</p:inputText>
							<p:outputLabel value="#{lang['union.name']}" for="unionName" />
						</h:panelGroup>
						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['union.name']}" for="unionSelection" />
							</div>
							<div>
								<p:selectOneMenu id="unionSelection" value="#{trainingcomitteeUI.trainingcomittee.union}" converter="OrganisedLabourUnionConvertor" style="width:75%" required="true" requiredMessage="#{lang['provide.union.name']}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.organisedLabourUnion}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['title']}" for="title" />
							</div>
							<div>
								<p:selectOneMenu id="title" value="#{trainingcomitteeUI.trainingcomittee.title}" converter="TitleConvertor" style="width:75%" required="true" requiredMessage="#{lang['select.title']}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.selectItemsTitles}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['equity']}" for="equity" />
							</div>
							<div>
								<p:selectOneMenu id="equity" value="#{trainingcomitteeUI.trainingcomittee.equity}" converter="EquityConvertor" style="width:75%" required="true" requiredMessage="#{lang['select.equity']}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.selectItemsEquity}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
							<p:commandButton value="#{lang['submit']}" process="@form" icon="ui-icon-save" update="trainingComitteeForm " action="#{trainingcomitteeUI.createTrainingComAndCreateTask}" onstart="uploadStart()" oncomplete="uploadDone()" />
						</p:panelGrid>
					</p:panelGrid>
				</p:fieldset>
			</h:form>
			<br />
		</p:dialog>

		<p:dialog closeOnEscape="true" header="#{lang['sites']}" widgetVar="dlgSites" position="top" fitViewport="true" dynamic="true" responsive="true" resizable="false" hideEffect="clip" showEffect="clip" id="dialogUserInfo" appendTo="@(body)" modal="true" width="70%" height="80vh">
			<h:form id="sitesInsForm">
				<ui:include src="/pages/includes/tabinfo.xhtml">
					<ui:param name="showInfoCircle" value="false" />
					<ui:param name="cssClass" value="secondaryText Fs15" />
					<ui:param name="helpTxt" value="Site Name should use a physical location of site as name i.e. Benoni" />
				</ui:include>
				<p:panelGrid columns="2" style="width:100%" id="sitesInsGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="companyName" value="#{sitesUI.sites.companyName}" style="width:95%" required="true" requiredMessage="Provide: Site Name">
						</p:inputText>
						<p:outputLabel value="#{lang['site.name']}" for="companyName" />
					</h:panelGroup>
					<h:panelGroup styleClass="md-inputfield">
						<p:inputMask id="telNumber" mask="#{trainingcomitteeUI.TELPHONE_FORMAT}" value="#{sitesUI.sites.telNumber}" style="width:95%" required="true">
						</p:inputMask>
						<p:outputLabel value="#{lang['telNumber']}" for="telNumber" />
					</h:panelGroup>
					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="faxNumber" validatorMessage="#{lang['user.faxnumber.length']}" value="#{sitesUI.sites.faxNumber}" maxlength="#{trainingcomitteeUI.MAX_FAX_NUMBER}" style="width:95%">
						</p:inputText>
						<p:outputLabel value="#{lang['faxNumber']}" for="faxNumber" />
					</h:panelGroup>
					<h:panelGroup styleClass="md-inputfield">
						<p:inputNumber id="numberOfEmployees" value="#{sitesUI.sites.numberOfEmployees}" inputStyle="width:95%" maxValue="#{sitesUI.totalSiteNumber}" decimalPlaces="0" required="true"></p:inputNumber>
						<p:outputLabel value="#{lang['numberOfEmployees']}" for="numberOfEmployees" />
					</h:panelGroup>
				</p:panelGrid>

				<p:fieldset legend="Physical Address" style="margin-top: 20px">
					<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank" id="postalAddress">
						<h:panelGroup styleClass="md-inputfield" rendered="#{not sdfcompanyUI.copyAddress}">
							<p:inputText id="postalAddressaddr1" maxlength="#{trainingcomitteeUI.MAX_ADDRESS_LINE_SIZE}" value="#{sitesUI.sites.registeredAddress.addressLine1}" style="width:95%" required="true" requiredMessage="#{lang['address.line.1.required']}">
							</p:inputText>
							<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressaddr1" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield" rendered="#{not sdfcompanyUI.copyAddress}">
							<p:inputText id="postalAddressaddr2" maxlength="#{trainingcomitteeUI.MAX_ADDRESS_LINE_SIZE}" style="width:95%" value="#{sitesUI.sites.registeredAddress.addressLine2}" required="true" requiredMessage="#{lang['address.line.1.required']}">
							</p:inputText>
							<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressaddr2" />
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield" rendered="#{not sdfcompanyUI.copyAddress}">
							<p:inputText id="postalAddressaddr3" maxlength="#{trainingcomitteeUI.MAX_ADDRESS_LINE_SIZE}" style="width:95%" value="#{sitesUI.sites.registeredAddress.addressLine3}">
							</p:inputText>
							<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressaddr3" />
						</h:panelGroup>
						<h:panelGroup rendered="false">
							<div>
								<h:outputLabel value="#{lang['town']}" for="theTown" />
							</div>
							<div>
								<p:autoComplete id="theTown" value="#{sitesUI.sites.registeredAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10"
									inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}">

									<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
								</p:autoComplete>
							</div>
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield" rendered="#{not sdfcompanyUI.copyAddress}">
							<p:inputText id="postalAddressPcode" maxlength="#{trainingcomitteeUI.MAX_ADDRESS_CODE_SIZE}" style="width:95%" value="#{sitesUI.sites.registeredAddress.postcode}" required="true" requiredMessage="#{lang['postal.address.error']}">
							</p:inputText>
							<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" />
						</h:panelGroup>
						<h:panelGroup>
							<div>
								<h:outputLabel value="#{lang['town']}" for="town" />
							</div>
							<div>
								<p:autoComplete id="town" value="#{sitesUI.sites.registeredAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10"
									inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}">
									<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
								</p:autoComplete>
							</div>
						</h:panelGroup>
						<h:panelGroup rendered="#{not sdfcompanyUI.copyAddress}">
							<div>
								<h:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" />
							</div>
							<div>
								<p:autoComplete id="postalAddressMunicipalityID" value="#{sitesUI.sites.registeredAddress.municipality}" completeMethod="#{sdfcompanyUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor"
									dropdown="true" minQueryLength="3" maxResults="10" required="true" requiredMessage="#{lang['select.municipality']}" inputStyle="width: 95%" style="width: 95%">
									<p:column headerText="#{lang['province']}" style="white-space: nowrap">
								#{rv.province.provinceDesc}
							</p:column>
									<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">
								#{rv.municipalityDesc}
							</p:column>
								</p:autoComplete>
							</div>
						</h:panelGroup>
						<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank">
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" rendered="true" required="true" requiredMessage="Enter #{lang['longitude']}: Degrees" id="longitudeDegreesSite" style="opacity: 1 !important; color: black; width:100%" value="#{sitesUI.sites.registeredAddress.longitudeDegrees}">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['longitude']}: Degrees" for="longitudeDegreesSite" />
							</h:panelGroup>
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" rendered="true" id="latitudeDegreesSite" style="opacity: 1 !important; color: black; width:100%" value="#{sitesUI.sites.registeredAddress.latitudeDegrees}" required="true" requiredMessage="Enter #{lang['latitude']}: Degrees">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['latitude']}: Degrees" for="latitudeDegreesSite" />
							</h:panelGroup>
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" id="longitudeMinutesSite" value="#{sitesUI.sites.registeredAddress.longitudeMinutes}" style="opacity: 1 !important; color: black; width:100%" required="true" requiredMessage="Enter #{lang['longitude']}: Minutes">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['longitude']}: Minutes" for="longitudeMinutesSite" />
							</h:panelGroup>
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" id="latitudeMinutesSite" value="#{sitesUI.sites.registeredAddress.latitudeMinutes}" style="opacity: 1 !important; color: black; width:100%" required="true" requiredMessage="Enter #{lang['latitude']}: Minutes">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['latitude']}: Minutes" for="latitudeMinutesSite" />
							</h:panelGroup>
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" id="longitudeSecondsSite" value="#{sitesUI.sites.registeredAddress.longitudeSeconds}" style="opacity: 1 !important; color: black; width:100%" required="true" requiredMessage="Enter #{lang['longitude']}: Seconds">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['longitude']}: Seconds" for="longitudeSecondsSite" />
							</h:panelGroup>
							<h:panelGroup styleClass="md-inputfield">
								<p:inputText type="number" id="latitudeSecondsSite" value="#{sitesUI.sites.registeredAddress.latitudeSeconds}" style="opacity: 1 !important; color: black; width:100%" required="true" requiredMessage="Enter #{lang['latitude']}: Seconds">
									<p:ajax></p:ajax>
								</p:inputText>
								<p:outputLabel value="#{lang['latitude']}: Seconds" for="latitudeSecondsSite" />
							</h:panelGroup>
						</p:panelGrid>
						<h:panelGroup styleClass="md-inputfield" rendered="true">
							<!-- <a href="https://getlatlong.net" target="_blank">Check GPS Coordinate</a> -->
							<a href="https://www.gps-coordinates.net" target="_blank">Check GPS Coordinate</a>
						</h:panelGroup>
					</p:panelGrid>
				</p:fieldset>
				<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
					<p:commandButton process="sitesInsForm" value="#{lang['submit']}" icon="ui-icon-save" update="sitesInsForm :sitesInsForm:sitesInsGrid" action="#{sitesUI.createSiteAndCreateTask}" />
				</p:panelGrid>
				<p:fieldset rendered="#{sitesUI.setmisValidationErrors ne null and sitesUI.setmisValidationErrors ne ''}" styleClass="error Fs12">
					<h4>Validation Error(s):</h4>
					<p:outputLabel value="#{sitesUI.setmisValidationErrors}" escape="false"></p:outputLabel>
				</p:fieldset>
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" header="#{lang['link.new.company']}" width="75%" widgetVar="dlglinkCompany" resizable="false" hideEffect="clip" showEffect="clip" id="dialoglinkCompany" appendTo="@(body)" modal="true" position="top">
			<h:form id="linkCompanyInsForm">

				<c:if test="#{!linkedcompanyUI.company.doneSearch}">
					<p:importEnum type="haj.com.entity.enums.CompanyRegOrSDLEnum" var="regSDL"></p:importEnum>
					<p:fieldset id="searchREGSDL" legend="#{lang['enter.Reg.number.or.SDL.number']}">

						<p:panelGrid>
							<h:panelGroup id="searchNGO">
								<p:outputLabel value="#{lang['non.levy.paying']}" styleClass="gray" />
								<p:spacer width="20"></p:spacer>
								<p:selectBooleanCheckbox id="nonLevyPay" value="#{searchCompanyUI.searchNGO}">
									<p:ajax update="@form" event="change" listener="#{searchCompanyUI.returnNonLevyPaying}"></p:ajax>
								</p:selectBooleanCheckbox>
								<br />
								<p:outputLabel id="levyPay" value="#{lang['levy.paying.entity']}" styleClass="gray" />
								<p:spacer width="20"></p:spacer>
								<p:selectBooleanCheckbox value="#{searchCompanyUI.searchLevyPaying}">
									<p:ajax update="@form" event="change"></p:ajax>
								</p:selectBooleanCheckbox>
							</h:panelGroup>
						</p:panelGrid>

						<p:panelGrid id="searchCompanyPnl" style="width:50%" columns="3" styleClass="ui-panelgrid-blank form-group" rendered="#{searchCompanyUI.searchLevyPaying}" layout="grid">

							<p:selectOneRadio value="#{searchCompanyUI.companyRegOrSDLEnum}" columns="1" layout="responsive" rendered="#{!searchCompanyUI.searchNGO}">
								<p:ajax update="searchCompanyPnl " />
								<f:selectItems value="#{enumUI.companyRegOrSDLEnumDD}" var="idpassEnum" itemLabel="#{idpassEnum}" itemValue="#{idpassEnum}" />
							</p:selectOneRadio>

							<h:panelGroup id="regNumInput" styleClass="md-inputfield" rendered="#{searchCompanyUI.companyRegOrSDLEnum eq regSDL.REG}">
								<p:inputMask id="regNumCriteria" mask="#{searchCompanyUI.companyRegistrationNumberFormat}" value="#{searchCompanyUI.criteria}" style="width:95%" requiredMessage="#{lang['enter.reg.number']}" required="true" />
								<p:outputLabel value="#{lang['registration.number']}" for="regNumCriteria" />
							</h:panelGroup>

							<h:panelGroup id="sdlNumInput" styleClass="md-inputfield" rendered="#{searchCompanyUI.companyRegOrSDLEnum eq regSDL.SDLNumber and !searchCompanyUI.searchNGO}">
								<p:inputMask id="sdlNumCriteria" mask="#{searchCompanyUI.companyLevyNumberFormat}" value="#{searchCompanyUI.criteria}" style="width:95%" requiredMessage="#{lang['enter.sdl.number']}" required="true" />
								<p:outputLabel value="#{lang['sdl.number']}" for="sdlNumCriteria" />
							</h:panelGroup>

							<p:commandButton id="idSearch" icon="fa fa-search" value="Submit" process="searchCompanyPnl" actionListener="#{searchCompanyUI.find}" update="@form" rendered="#{searchCompanyUI.companyRegOrSDLEnum eq regSDL.REG or searchCompanyUI.searchNGO}" />
							<p:commandButton id="idSearch2" icon="fa fa-search" value="Submit" process="searchCompanyPnl" actionListener="#{searchCompanyUI.findBySDL}" update="@form" rendered="#{searchCompanyUI.companyRegOrSDLEnum eq regSDL.SDLNumber and !searchCompanyUI.searchNGO}" />
						</p:panelGrid>

					</p:fieldset>


				</c:if>
				<c:if test="#{linkedcompanyUI.company.doneSearch}">
					<h1>#{lang['company.info']}</h1>
					<div align="right">
						<p:commandButton immediate="true" icon="fa fa-remove" action="#{linkedcompanyUI.changeNull}" id="close" update="@form" rendered="#{linkedcompanyUI.company.doneSearch}" />
						<p:tooltip for="close" position="left" value="#{lang['close']}" />
					</div>
					<p:panelGrid columns="2" style="width:100%" id="companyInsGrid" layout="grid" styleClass="ui-panelgrid-blank form-group">

						<h:panelGroup styleClass="md-inputfield">
							<p:inputText maxlength="#{linkedcompanyUI.MAX_COMPANY_NAME_SIZE}" id="companyName" value="#{linkedcompanyUI.company.companyName}" style="width:95%" required="true" requiredMessage="#{lang['enter.the.company.name']}" />
							<p:outputLabel value="#{lang['companyName']}" for="companyName" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputText maxlength="#{linkedcompanyUI.MAX_COMPANY_TRADE_NAME_SIZE}" id="tradingName" value="#{linkedcompanyUI.company.tradingName}" style="width:95%" required="true" requiredMessage="#{lang['enter.the.trading.name']}" />
							<p:outputLabel value="#{lang['tradingName']}" for="tradingName" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputMask mask="#{linkedcompanyUI.TELPHONE_FORMAT}" id="telNumber" value="#{linkedcompanyUI.company.telNumber}" style="width:95%" required="true" requiredMessage="#{lang['enter.the.tel.number']}" />
							<p:outputLabel value="#{lang['telNumber']}" for="telNumber" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputMask mask="#{linkedcompanyUI.FAX_NUMBER_FORMAT}" validatorMessage="#{lang['user.faxnumber.length']}" maxlength="#{trainingcomitteeUI.MAX_FAX_NUMBER}" id="faxNumber" value="#{linkedcompanyUI.company.faxNumber}" style="width:95%">

							</p:inputMask>
							<p:outputLabel value="#{lang['faxNumber']}" for="faxNumber" />
						</h:panelGroup>

						<p:fieldset legend="#{lang['residentialAddress']}" style="margin-top: 20px">
							<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank" id="addrPcode">
								<h:panelGroup styleClass="md-inputfield">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="addr1" value="#{linkedcompanyUI.company.residentialAddress.addressLine1}" style="width:95%" required="true" requiredMessage="#{lang['enter.residential.address']}" />
									<p:outputLabel value="#{lang['address.line.1']}" for="addr1" />
								</h:panelGroup>
								<h:panelGroup styleClass="md-inputfield">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="addr2" style="width:95%" value="#{linkedcompanyUI.company.residentialAddress.addressLine2}" />
									<p:outputLabel value="#{lang['address.line.2']}" for="addr2" />
								</h:panelGroup>
								<h:panelGroup styleClass="md-inputfield">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="addr3" style="width:95%" value="#{linkedcompanyUI.company.residentialAddress.addressLine3}" />
									<p:outputLabel value="#{lang['address.line.3']}" for="addr3" />
								</h:panelGroup>

								<h:panelGroup>
									<div>
										<h:outputLabel value="#{lang['town']}" for="towna" />
									</div>
									<div>
										<p:autoComplete id="towna" value="#{linkedcompanyUI.company.residentialAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10"
											inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}">
											<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
										</p:autoComplete>
									</div>
								</h:panelGroup>

								<h:panelGroup styleClass="md-inputfield">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_CODE_SIZE}" id="pcode" style="width:95%" value="#{linkedcompanyUI.company.residentialAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}" />
									<p:outputLabel value="#{lang['post.code']}" for="pcode" />
								</h:panelGroup>

								<h:panelGroup>
									<div>
										<h:outputLabel value="#{lang['municipality']}" for="MunicipalityID" />
									</div>
									<div>
										<p:autoComplete id="MunicipalityID" value="#{linkedcompanyUI.company.residentialAddress.municipality}" completeMethod="#{linkedcompanyUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor"
											dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['select.municipality']}">
											<p:column headerText="#{lang['province']}" style="white-space: nowrap">
								#{rv.province.provinceDesc}
							</p:column>
											<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">
								#{rv.municipalityDesc}
							</p:column>
										</p:autoComplete>
									</div>
								</h:panelGroup>

								<h:panelGroup styleClass="md-inputfield">
									<div class="EmptyBox40"></div>
								</h:panelGroup>
							</p:panelGrid>
						</p:fieldset>

						<p:fieldset legend="#{lang['postalAddress']}" style="margin-top: 20px">
							<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank" id="postalAddress">
								<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.copyAddress}">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="postalAddressaddr1" value="#{linkedcompanyUI.company.postalAddress.addressLine1}" style="width:95%" required="true" requiredMessage="#{lang['enter.postal.address']}" />
									<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressaddr1" />
								</h:panelGroup>
								<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.copyAddress}">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="postalAddressaddr2" style="width:95%" value="#{linkedcompanyUI.company.postalAddress.addressLine2}" />
									<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressaddr2" />
								</h:panelGroup>
								<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.copyAddress}">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_LINE_SIZE}" id="postalAddressaddr3" style="width:95%" value="#{linkedcompanyUI.company.postalAddress.addressLine3}" />
									<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressaddr3" />
								</h:panelGroup>

								<h:panelGroup rendered="#{not linkedcompanyUI.copyAddress}">
									<div>
										<h:outputLabel value="#{lang['town']}" for="posttown" />
									</div>
									<div>
										<p:autoComplete id="posttown" value="#{linkedcompanyUI.company.postalAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10"
											inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['please.select.a.town']}">
											<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
										</p:autoComplete>
									</div>
								</h:panelGroup>

								<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.copyAddress}">
									<p:inputText maxlength="#{linkedcompanyUI.MAX_ADDRESS_CODE_SIZE}" id="postalAddressPcode" style="width:95%" value="#{linkedcompanyUI.company.postalAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}" />
									<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" />
								</h:panelGroup>

								<h:panelGroup rendered="#{not linkedcompanyUI.copyAddress}">
									<div>
										<h:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" />
									</div>
									<div>
										<p:autoComplete id="postalAddressMunicipalityID" value="#{linkedcompanyUI.company.postalAddress.municipality}" completeMethod="#{linkedcompanyUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor"
											dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" requiredMessage="#{lang['select.municipality']}">
											<p:column headerText="#{lang['province']}" style="white-space: nowrap">
								#{rv.province.provinceDesc}
							</p:column>
											<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">
								#{rv.municipalityDesc}
							</p:column>
										</p:autoComplete>
									</div>
								</h:panelGroup>

								<h:panelGroup>
									<div>
										<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="FontLight" />
									</div>
									<div>
										<p:selectBooleanCheckbox value="#{linkedcompanyUI.copyAddress}">
											<p:ajax update=":linkCompanyInsForm:postalAddress" listener="#{linkedcompanyUI.clearPostal}" />
										</p:selectBooleanCheckbox>
									</div>
								</h:panelGroup>
							</p:panelGrid>
						</p:fieldset>

						<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.company.nonLevyPaying}">
							<p:inputMask mask="#{linkedcompanyUI.companyRegistrationNumberFormat}" id="companyRegistrationNumber" value="#{linkedcompanyUI.company.companyRegistrationNumber}" style="width:95%" required="true" requiredMessage="#{lang['enter.company.registration.number']}" />
							<p:outputLabel value="#{lang['companyRegistrationNumber']}" for="companyRegistrationNumber" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield" rendered="#{linkedcompanyUI.company.nonLevyPaying}">
							<p:inputMask id="companyRegistrationNumbera" value="#{linkedcompanyUI.company.companyRegistrationNumber}" style="width:95%" required="true" requiredMessage="#{lang['enter.company.registration.number']}" />
							<p:outputLabel value="#{lang['companyRegistrationNumber']}" for="companyRegistrationNumbera" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputText maxlength="#{linkedcompanyUI.MAX_EMAIL_SIZE}" id="email" value="#{linkedcompanyUI.company.email}" style="width:95%" required="true" requiredMessage="#{lang['enter.email.address']}" />
							<p:outputLabel value="#{lang['email']}" for="email" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield" rendered="#{not linkedcompanyUI.company.nonLevyPaying}">
							<p:inputMask disabled="true" mask="#{linkedcompanyUI.companyLevyNumberFormat}" id="levyNumber" value="#{linkedcompanyUI.company.levyNumber}" style="width:95%" required="true" requiredMessage="#{lang['enter.levy.number']}" />
							<p:outputLabel value="#{lang['levyNumber']}" for="levyNumber" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputText maxlength="#{linkedcompanyUI.MAX_NUMBER_OF_EMPLOYEES_SIZE}" id="numberOfEmployees" value="#{linkedcompanyUI.company.numberOfEmployees}" style="width:95%" required="true" requiredMessage="#{lang['enter.number.of.employees']}" />
							<p:outputLabel value="#{lang['numberOfEmployees']}" for="numberOfEmployees" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield" rendered="false">
							<p:inputText id="sicCode" value="#{linkedcompanyUI.company.sicCode}" style="width:95%" required="true" requiredMessage="#{lang['enter.sic.code']}" />
							<p:outputLabel value="#{lang['sicCode']}" for="sicCode" />
						</h:panelGroup>

						<h:panelGroup>
							<div style="margin-top: -20px !important;">
								<p:outputLabel value="#{lang['sicCode']}" for="sicCodeNew" styleClass="gray Fs12" style="margin-left:5px">
								</p:outputLabel>
							</div>
							<div>
								<p:autoComplete id="sicCodeNew" value="#{linkedcompanyUI.company.sicCode}" style="width: 95%" completeMethod="#{autoCompleteUI.completeSIC}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="SICCodeConvertor" dropdown="true" minQueryLength="1"
									maxResults="10">
									<p:ajax update="chambers" event="itemSelect"></p:ajax>
									<p:column headerText="#{lang['code']}" style="white-space: nowrap">#{rv.code}</p:column>
									<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rv.description}</p:column>
								</p:autoComplete>

							</div>
						</h:panelGroup>

						<h:panelGroup id="chambers">
							<div style="margin-top: -20px !important;">
								<p:outputLabel value="#{lang['chamber']}" for="chamber" styleClass="gray Fs12" style="margin-left:5px" />
							</div>
							<div>
								<p:selectOneMenu disabled="true" id="chamber" value="#{linkedcompanyUI.company.sicCode.chamber}" converter="ChamberConvertor" style="width:95%" required="true" requiredMessage="#{lang['select.a.chamber']}">
									<f:selectItem itemLabel="-- #{lang['select.one']} --" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.chambers}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>


					</p:panelGrid>

					<p:panelGrid columns="2" styleClass="ui-panelgrid-blank">
						<p:commandButton value="#{lang['submit']}" icon="ui-icon-save" action="#{linkedcompanyUI.updateCompanyManagement}" oncomplete="PF('dlglinkCompany').hide()">
						</p:commandButton>
					</p:panelGrid>
				</c:if>
			</h:form>
		</p:dialog>

		<!-- Contact person Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['contact.persons']}" widgetVar="dlgContact" resizable="false" hideEffect="clip" showEffect="clip" id="contactPerson" width="80%" height="85vh" responsive="true" modal="true" position="top">
			<h:form id="usersInsForm">
				<ui:include src="/pages/includes/companyManagementUsers.xhtml">
					<ui:param name="showCompanyTable" value="false" />
				</ui:include>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm" listener="#{companyinfoUI.companyUsersInfo}" />
		</p:dialog>

		<!-- ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgChangeReason" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="changeReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:panel>
						<h:panelGrid columns="2" style="width: 100%">
							<p:outputLabel value="#{lang['notes']}:" for="note" />
							<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
								<p:ajax />
							</p:inputTextarea>
						</h:panelGrid>

						<div class="TexAlCenter">
							<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
						</div>
						<p:fileUpload onstart="uploadStart()" fileUploadListener="#{companyinfoUI.redirect}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}" update="companyForm" multiple="false" fileLimit="1"
							sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
					</p:panel>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm mainForm:companyList" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="changeReasonForm" />
		</p:dialog>

		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgChangeReasonText" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="changeReasonFormTEXT">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:textEditor widgetVar="editor2" value="#{companyinfoUI.changeReason.description}" height="200" rendered="true" requiredMessage="#{lang['enter.change.reason']}" style="margin-bottom:5px" placeholder="#{lang['enter.change.reason']}">
						<f:facet name="toolbar">
							<span class="ql-formats">
								<button class="ql-bold"></button>
								<button class="ql-italic"></button>
								<button class="ql-underline"></button>
								<button class="ql-strike"></button>
							</span>
							<span class="ql-formats"> <select class="ql-font"></select> <select class="ql-size"></select>
							</span>
						</f:facet>
					</p:textEditor>
					<p:commandButton immediate="false" value="#{lang['submit']}" styleClass="flat" icon="fa fa-plus" action="#{companyinfoUI.doChange}">
					</p:commandButton>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm mainForm:companyList" />
			<p:ajax event="open" listener="#{companyinfoUI.clearChangeReason()}" update="changeReasonFormTEXT" />
		</p:dialog>

		<!-- Delete Training Committee ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgDelTCChangeReason" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="tcChangeReasonFormTEXT">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:textEditor widgetVar="editor2" value="#{companyinfoUI.changeReason.description}" height="200" rendered="true" requiredMessage="#{lang['enter.change.reason']}" style="margin-bottom:5px" placeholder="#{lang['enter.change.reason']}">
						<f:facet name="toolbar">
							<span class="ql-formats">
								<button class="ql-bold"></button>
								<button class="ql-italic"></button>
								<button class="ql-underline"></button>
								<button class="ql-strike"></button>
							</span>
							<span class="ql-formats"> <select class="ql-font"></select> <select class="ql-size"></select>
							</span>
						</f:facet>
					</p:textEditor>
					<p:commandButton immediate="false" value="#{lang['submit']}" styleClass="flat" icon="fa fa-plus" action="#{companyinfoUI.createTrainingCommitteeDelTask}" onstart="uploadStart()">
					</p:commandButton>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm mainForm:companyList" />
			<p:ajax event="open" listener="#{companyinfoUI.clearChangeReason()}" update="tcChangeReasonFormTEXT" />
		</p:dialog>

		<!--Company Info ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgCompanyChangeReason" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="companyChangeReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:panel>
						<h:panelGrid columns="2" style="width: 100%">
							<p:outputLabel value="#{lang['notes']}:" for="note" />
							<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
								<p:ajax />
							</p:inputTextarea>
						</h:panelGrid>

						<div class="TexAlCenter">
							<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
						</div>
						<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone(), PF('dlgCompanyChangeReason').hide()" fileUploadListener="#{companyinfoUI.updateCompayAndCreateTask}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}"
							fileLimitMessage="#{lang['file.to.big.to.upload']}" update="@form mainForm" multiple="false" fileLimit="1" sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
					</p:panel>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="companyChangeReasonForm" />
		</p:dialog>



		<!--Delete Contact Person ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgDelContactPersonCR" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="delContactChangeReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:panel>
						<h:panelGrid columns="2" style="width: 100%">
							<p:outputLabel value="#{lang['notes']}:" for="note" />
							<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
								<p:ajax />
							</p:inputTextarea>
						</h:panelGrid>

						<div class="TexAlCenter">
							<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
						</div>
						<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone(),  createDeleteCompanyUserTask()" fileUploadListener="#{companyinfoUI.storeChangeNewFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}"
							update="@form mainForm" multiple="false" fileLimit="1" sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
					</p:panel>
				</p:panelGrid>
				<p:remoteCommand update="@form mainForm" name="createDeleteCompanyUserTask" action="#{companyUsersUI.createDeleteCompanyUserTask}" oncomplete="PF('dlgDelContactPersonCR').hide()"></p:remoteCommand>

			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="delContactChangeReasonForm" />
			<p:ajax immediate="true" event="close" update=":companyForm" listener="#{companyinfoUI.companyUsersInfo}" />
		</p:dialog>



		<!--Delete SDF ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgDelSDFCR" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="delSDFReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:panel>
						<h:panelGrid columns="2" style="width: 100%">
							<p:outputLabel value="#{lang['notes']}:" for="note" />
							<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
								<p:ajax />
							</p:inputTextarea>
						</h:panelGrid>

						<div class="TexAlCenter">
							<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
						</div>
						<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone(),  createDeleteCompanyUserTask()" fileUploadListener="#{companyinfoUI.storeChangeNewFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}"
							update="@form mainForm" multiple="false" fileLimit="1" sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
					</p:panel>
				</p:panelGrid>
				<p:remoteCommand update="@form mainForm" name="createDeleteCompanyUserTask" action="#{sdfcompanyUI.createDeleteSDFTask}" oncomplete="PF('dlgDelSDFCR').hide()"></p:remoteCommand>

			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="delSDFReasonForm" />
			<p:ajax immediate="true" event="close" update=":companyForm" listener="#{companyinfoUI.companyUsersInfo}" />
		</p:dialog>

		<!--Delete Linked  ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgDeLinkedCompCR" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="delLinkedCompReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:panel>
						<h:panelGrid columns="2" style="width: 100%">
							<p:outputLabel value="#{lang['notes']}:" for="note" />
							<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
								<p:ajax />
							</p:inputTextarea>
						</h:panelGrid>

						<div class="TexAlCenter">
							<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
						</div>
						<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone(),  createDeleteCompanyUserTask()" fileUploadListener="#{companyinfoUI.storeChangeNewFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}"
							update="@form mainForm" multiple="false" fileLimit="1" sizeLimit="#{sdfUI.maxFileSize}" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
					</p:panel>
				</p:panelGrid>
				<p:remoteCommand update="@form mainForm" name="createDeleteCompanyUserTask" action="#{linkedcompanyUI.createDeleteCompTast}" oncomplete="PF('dlgDeLinkedCompCR').hide()"></p:remoteCommand>
			</h:form>
			<p:ajax immediate="true" event="close" update=":companyForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="delLinkedCompReasonForm" />
		</p:dialog>

		<!-- SDF Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['other.sdf']}" widgetVar="dlgSdf" resizable="false" hideEffect="clip" showEffect="clip" id="dialogSDF" width="80%" height="85vh" responsive="true" modal="true" position="top">
			<ui:include src="/pages/sdf/includes/ortherSDF.xhtml" />
			<p:ajax immediate="true" event="close" update=":companyForm" listener="#{companyinfoUI.companyUsersInfo}" />
		</p:dialog>

		<p:dialog header="Confirmation" position="top" widgetVar="bankConfirmDlg" resizable="false" hideEffect="clip" showEffect="clip" width="60%" responsive="true" modal="true" dynamic="true">
			<h:form id="confirmForm">

				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:outputLabel value="#{lang['are.you.sure.you.want.to.submit.the.banking.details']}" />

					<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:commandButton icon="fa fa-check" value="Yes" update="@form :companyForm:tabView:bankDetails" action="#{companyinfoUI.bankingdetailsInsert}" oncomplete="PF('bankConfirmDlg').hide()" />
						<p:commandButton icon="fa fa-times" value="No" update="@form :companyForm:tabView:bankDetails" oncomplete="PF('bankConfirmDlg').hide()" />
					</p:panelGrid>
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog header="Reject Reasons" widgetVar="rejectChildReason" hideEffect="clip" showEffect="clip" id="dialogRejectChildReason" appendTo="@(body)" modal="true" closable="true" width="75%" height="60vh" responsive="true" closeOnEscape="true">
			<h:form id="rejectReasonChildForm">
				<p:dataTable var="rowVar" value="#{companyinfoUI.rejectReasonsChild}" rowKey="#{rowVar.id}" paginator="true" rows="5" paginatorPosition="bottom" paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
					<p:column headerText="Create Date">
						<p:outputLabel value="#{rowVar.createDate}">
							<f:convertDateTime pattern="dd MMMM yyyy" />
						</p:outputLabel>
					</p:column>
					<p:column headerText="Reason for Rejection">
						<p:outputLabel value="#{rowVar.rejectReasons.description}"></p:outputLabel>
					</p:column>
					<p:column headerText="Additional Information">
						<p:outputLabel value="#{rowVar.additionalInformation}"></p:outputLabel>
					</p:column>
					<p:column headerText="How to fix">
						<p:outputLabel value="#{rowVar.rejectReasons.howTo}"></p:outputLabel>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>

		<p:dialog header="Request Payment" widgetVar="dlgRequestPayment" hideEffect="clip" showEffect="clip" id="dlgRequestPayment" appendTo="@(body)" modal="true" closable="true" height="30vh" responsive="true" closeOnEscape="true">
			<h:form id="requestPaymentForm">

				<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank">

					<h:panelGroup styleClass="md-inputfield">
						<p:calendar id="paymentMonth" value="#{activecontractsUI.activeContractDetail.paymentMonth}" inputStyle="width:95%" pattern="MMMMM yyyy" navigator="true" required="true">
							<p:ajax event="dateSelect"></p:ajax>
						</p:calendar>
						<p:outputLabel value="#{lang['payment.month']}" for="paymentMonth" />
					</h:panelGroup>

					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="payments" value="#{activecontractsUI.activeContractDetail.payments}" style="width:95%">
							<p:ajax></p:ajax>
						</p:inputText>
						<p:outputLabel value="#{lang['payments']}" for="payments" />
					</h:panelGroup>

					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="noofterminations" value="#{activecontractsUI.activeContractDetail.noofterminations}" style="width:95%">
							<p:ajax></p:ajax>
						</p:inputText>
						<p:outputLabel value="#{lang['noofterminations']}" for="noofterminations" />
					</h:panelGroup>
				</p:panelGrid>
				<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{activecontractsUI.storeFileDetail}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}" update="@form companyForm"
					multiple="false" fileLimit="1" allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|docx|txt)$/" immediate="false" auto="true" />
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" position="top" header="New Mentor Details" width="90vw" height="85vh" widgetVar="dlgAddSiteSme" resizable="false" hideEffect="clip" showEffect="clip" id="dialogAddSiteSme" appendTo="@(body)" modal="true">
			<h:form id="siteSmeForm">
				<p:outputPanel id="userSearchPanel" rendered="#{!sitessmeUI.smeUser.doneSearch}">
					<p:fieldset id="searchRsaIdOrPassport" legend="Enter In RSA ID or Passport Number">
						<p:panelGrid id="searchRsaIdOrPassportPnl" columns="3" styleClass="ui-panelgrid-blank form-group">
							<p:selectOneRadio id="passNumID" value="#{sitessmeUI.idpassport}" columns="1" layout="responsive">
								<p:ajax update="userSearchPanel" />
								<f:selectItems value="#{enumUI.idPassportEnumDD}" var="idpassEnum" itemLabel="#{idpassEnum}" itemValue="#{idpassEnum}" />
							</p:selectOneRadio>
							<h:panelGroup id="rsaIDInput" styleClass="md-inputfield" rendered="#{sitessmeUI.idpassport eq idPassportEnum.RsaId}">
								<p:inputText id="rsaIdCriteria" maxlength="#{sitessmeUI.MAX_RSA_ID_NUMBER}" value="#{sitessmeUI.idnumber}" style="width:95%" requiredMessage="#{lang['rsa.id.number']} " required="false">
								</p:inputText>
								<p:outputLabel value="#{lang['rsa.id.number']}" for="rsaIdCriteria" />
							</h:panelGroup>
							<h:panelGroup id="passportNumInput" styleClass="md-inputfield" rendered="#{sitessmeUI.idpassport eq idPassportEnum.Passport}">
								<p:inputText validatorMessage="#{lang['user.passport.length']}" id="passportNumCriteria" maxlength="#{sitessmeUI.MAX_PASSPORT_NUMBER}" value="#{sitessmeUI.passportNumber}" style="width:95%" requiredMessage="#{lang['passport.number']}" required="false">
								</p:inputText>
								<h:message for="passportNumCriteria" />
								<p:outputLabel value="#{lang['passport.number']}" for="passportNumCriteria" />
							</h:panelGroup>
							<p:commandButton id="idPassBtn" icon="fa fa-search" value="Submit" process="searchRsaIdOrPassport" actionListener="#{sitessmeUI.searchForUser}" update="siteSmeForm" rendered="#{sitessmeUI.idpassport ne null}" />
						</p:panelGrid>
					</p:fieldset>
				</p:outputPanel>
				<p:outputPanel id="userInformationPanel" rendered="#{sitessmeUI.smeUser.doneSearch}">
					<p:tabView id="tabViewInsert">
						<p:tab title="Mentor Information">
							<p:fieldset id="smeUserInfomation" legend="Provide Mentor Information">
								<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
									<c:if test="#{sitessmeUI.companyHasSites}">
										<h:panelGroup styleClass="md-inputfield" rendered="#{!sitessmeUI.sitessme.useCompanyAddress}">
											<p:autoComplete style="width:100%" inputStyle="width:100%" id="unitStandardAuto" value="#{sitessmeUI.sitessme.sites}" completeMethod="#{sitessmeUI.completeSites}" var="rv" itemLabel="#{rv.companyName}" itemValue="#{rv}" forceSelection="true" converter="SitesConvertor" dropdown="true"
												minQueryLength="3" maxResults="10">
												<p:ajax event="itemSelect" />
											</p:autoComplete>
											<p:outputLabel value="Select #{lang['sites']}" for="unitStandardAuto" />
										</h:panelGroup>
										<h:panelGroup styleClass="md-inputfield" rendered="#{!sitessmeUI.sitessme.useCompanyAddress}">
										</h:panelGroup>
										<h:panelGroup>
											<p:outputLabel value="Use Company Address:" style="color:grey" />
											<p:spacer width="5" />
											<p:selectBooleanCheckbox value="#{sitessmeUI.sitessme.useCompanyAddress}">
												<p:ajax update="smeUserInfomation" />
											</p:selectBooleanCheckbox>
										</h:panelGroup>
										<h:panelGroup styleClass="md-inputfield">
										</h:panelGroup>
									</c:if>
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessme.firstName}" disabled="#{sitessmeUI.smeUser.id ne null}">
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="First Name" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessme.lastName}" disabled="#{sitessmeUI.smeUser.id ne null}">
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="Last Name" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield" rendered="#{sitessmeUI.idpassport eq idPassportEnum.RsaId}">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessme.identityNumber}" disabled="true" />
										<p:outputLabel value="#{lang['rsa.id.number']}" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield" rendered="#{sitessmeUI.idpassport eq idPassportEnum.Passport}">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessme.passportNumber}" disabled="true" />
										<p:outputLabel value="#{lang['passport.number']}" />
									</h:panelGroup>
								</p:panelGrid>
								<h:panelGroup id="docListUsers" rendered="#{sitessmeUI.sitessme.docs.size() gt 0}">
									<br />
									<span class="FontBold"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> #{lang['please.upload.the.following.compulsory.documents']}
									</span>
									<br />
									<div class="ui-g dashboard">
										<div class="ui-g-12">
											<p:repeat var="rcu" value="#{sitessmeUI.sitessme.docs}" varStatus="x">
												<div class="ui-g-12 ui-md-6 ui-lg-3">
													<div class="ui-g card colorbox #{rcu.originalFname eq null ? 'colorbox-5' : 'colorbox-1'}">
														<div class="ui-g-4">
															<i class="material-icons">#{rcu.originalFname eq null ? 'cloud_upload' : 'check_circle'}</i>
														</div>
														<div class="ui-g-8">
															<span class="colorbox-name">#{rcu.configDoc.name}</span> <span class="colorbox-count"> <p:commandButton icon="fa fa-download" id="cbDownload" rendered="#{rcu.originalFname ne null}" action="#{sitessmeUI.download(rcu)}" ajax="false" value="#{lang['download']}" immediate="true"
																	process="@parent">
																	<p:ajax onevent="oneventFunction" />
																</p:commandButton> <p:commandButton value="#{rc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" styleClass="#{rcu.originalFname eq null ? 'red-btn' : 'green-btn'} flat" process="@this" oncomplete="PF('dlgUploadUser').show()" update=":uploadFormUser">
																	<f:setPropertyActionListener value="#{rcu}" target="#{sitessmeUI.doc}" />
																</p:commandButton>
															</span>
														</div>
													</div>
												</div>
											</p:repeat>
										</div>
									</div>
								</h:panelGroup>
							</p:fieldset>
						</p:tab>
						<p:tab title="Mentor Qualifications">
							<p:fieldset id="smeQualificationsList" legend="Provide Qualifications">
								<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
									<h:panelGroup>
										<div>
											<p:outputLabel value="#{lang['qualification']}" for="qualificationAuto"></p:outputLabel>
										</div>
										<div>
											<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationAuto" value="#{sitessmeUI.smeQualifications.qualification}" completeMethod="#{assesorModiratorUI.completeQualification}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}" forceSelection="true"
												converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">


												<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
												<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
												<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
												<p:ajax event="itemSelect" update="smeQualificationsList" />
											</p:autoComplete>
										</div>
									</h:panelGroup>
									<h:panelGroup id="docListQualifications" rendered="#{sitessmeUI.smeQualifications.docs.size() gt 0}">
										<br />
										<span class="FontBold"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> #{lang['please.upload.the.following.compulsory.documents']}
										</span>
										<br />
										<div class="ui-g dashboard">
											<div class="ui-g-12">
												<p:repeat var="rc" value="#{sitessmeUI.smeQualifications.docs}" varStatus="x">
													<div class="ui-g-12 ui-md-6 ui-lg-3">
														<div class="ui-g card colorbox #{rc.originalFname eq null ? 'colorbox-5' : 'colorbox-1'}">
															<div class="ui-g-4">
																<i class="material-icons">#{rc.originalFname eq null ? 'cloud_upload' : 'check_circle'}</i>
															</div>
															<div class="ui-g-8">
																<span class="colorbox-name">Certified Copy of Trade Test/Qualification</span> <span class="colorbox-count"> <p:commandButton icon="fa fa-download" id="cbDownload1" rendered="#{rc.originalFname ne null}" action="#{sitessmeUI.download(rc)}" ajax="false"
																		value="#{lang['download']}" immediate="true" process="@parent">
																		<p:ajax onevent="oneventFunction" />
																	</p:commandButton> <p:commandButton value="#{rc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" styleClass="#{rc.originalFname eq null ? 'red-btn' : 'green-btn'} flat" process="@this" oncomplete="PF('dlgQualificationDocument').show()" update=":qualificationFormUser">
																		<f:setPropertyActionListener value="#{rc}" target="#{sitessmeUI.doc}" />
																	</p:commandButton>
																</span>
															</div>
														</div>
													</div>
												</p:repeat>
											</div>
										</div>
									</h:panelGroup>
									<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
										<p:commandButton icon="fa fa-plus" value="Add Qualification" update="smeQualificationsList" action="#{sitessmeUI.addSmeQualificationToList}" />
										<p:commandButton icon="ui-icon-clear-all" value="Clear Qualification" update="smeQualificationsList" action="#{sitessmeUI.prepNewSmeQualification}" />
									</p:panelGrid>
								</p:panelGrid>
								<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
									<p:dataTable var="rowVarsmeq" value="#{sitessmeUI.sitessme.smeQualificationsList}" rowKey="#{rowVarsmeq.id}" paginator="true" rows="3" paginatorPosition="bottom"
										paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" reflow="true">
										<p:column headerText="Qualification">
											<p:outputLabel value="(#{rowVarsmeq.qualification.code})" />
											<p:outputLabel value="#{rowVarsmeq.qualification.description}" />
										</p:column>
										<p:column width="7%">
											<p:commandButton icon="fa fa-trash-o" update="@form" action="#{sitessmeUI.removeFromList}">
												<f:setPropertyActionListener value="#{rowVarsmeq}" target="#{sitessmeUI.smeQualifications}" />
											</p:commandButton>
										</p:column>
									</p:dataTable>
								</p:panelGrid>
							</p:fieldset>
							<div class="EmptyBox10" />
							<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
								<p:commandButton icon="ui-icon-save" value="Complete Task" action="#{sitessmeUI.createUpdateSmeEntry}" update="@form :companyForm:tabView:siteSmePanel" />
								<p:commandButton icon="ui-icon-clear-all" value="Clear" update="@form" action="#{sitessmeUI.prepareNew}" />
							</p:panelGrid>
						</p:tab>
					</p:tabView>
				</p:outputPanel>
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" position="top" header="Request New WPA" width="75%" widgetVar="dlgAddWpa" resizable="false" hideEffect="clip" showEffect="clip" id="dialogAddWpa" appendTo="@(body)" modal="true">
			<h:form id="wpaForm">

				<c:if test="#{companyinfoUI.sitesList.size() ne 0}">
					<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
						<h:panelGroup styleClass="md-inputfield" rendered="#{!companyinfoUI.useCompanyAsSite}">
							<p:autoComplete style="width:100%" inputStyle="width:100%" id="siteForWpa" value="#{companyinfoUI.selectedSite}" completeMethod="#{companyinfoUI.completeSites}" var="rv" itemLabel="#{rv.companyName}" itemValue="#{rv}" forceSelection="true" converter="SitesConvertor" dropdown="true"
								minQueryLength="3" maxResults="10">
								<p:ajax event="itemSelect" />
							</p:autoComplete>
							<p:outputLabel value="Select #{lang['sites']}" for="siteForWpa" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel value="Use Company Address:" style="color:grey" />
							<p:spacer width="5" />
							<p:selectBooleanCheckbox value="#{companyinfoUI.useCompanyAsSite}">
								<p:ajax update="wpaForm" />
							</p:selectBooleanCheckbox>
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
						</h:panelGroup>
					</p:panelGrid>
				</c:if>
				<!-- Abaility to select which type: either ofo code or qualification -->
				<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
					<p:outputLabel value="Select what type of workplace approval is required: " />
					<p:selectOneRadio id="selectWhichSection" value="#{companyinfoUI.byQualification}">
						<f:selectItem itemLabel="Qualification" itemValue="true" />
						<f:selectItem itemLabel="Trade" itemValue="false" />
						<p:ajax listener="#{companyinfoUI.clearQualification}" update="wpaForm" />
					</p:selectOneRadio>
					<c:if test="#{companyinfoUI.byQualification}">
						<h:panelGroup class="md-inputfield" style="margin-top:19px;">
							<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationSelection" value="#{companyinfoUI.qualification}" completeMethod="#{assesorModiratorUI.findQualificationAutocompleteWPARequired}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}" forceSelection="true"
								converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">


								<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
								<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
								<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
								<p:ajax event="itemSelect" update="@form" />
							</p:autoComplete>
							<p:outputLabel value="#{lang['qualification']}" for="qualificationSelection"></p:outputLabel>
						</h:panelGroup>
					</c:if>
					<c:if test="#{!companyinfoUI.byQualification}">
						<h:panelGroup class="md-inputfield" style="margin-top:19px;">
							<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationSelectionTrade" value="#{companyinfoUI.qualification}" completeMethod="#{autoCompleteUI.completeQualificationTradeWPARequired}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}" forceSelection="true"
								converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">
								<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
								<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
								<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
								<p:ajax event="itemSelect" update="@form" />
							</p:autoComplete>
							<p:outputLabel value="#{lang['trade']}" for="qualificationSelectionTrade"></p:outputLabel>
						</h:panelGroup>


						<h:panelGroup class="md-inputfield" style="margin-top:19px;" rendered="false">
							<p:autoComplete id="ofoCode" value="#{companyinfoUI.ofoCodes}" completeMethod="#{autoCompleteUI.completeOfoCodesTradeWpa}" var="rv" itemLabel="#{rv.ofoDescription}" itemValue="#{rv}" forceSelection="true" converter="OfoCodesConvertor" dropdown="true" minQueryLength="3" maxResults="10"
								inputStyle="opacity: 1 !important; color: black; width: 95%" style="opacity: 1 !important; color: black; width: 95%" required="true" requiredMessage="#{lang['select.ofo.code']}">
								<p:column headerText="OfoCodes" style="white-space: nowrap">#{rv.ofoCodeParent}</p:column>
								<p:column headerText="Description" style="white-space: nowrap">#{rv.description}</p:column>
								<p:ajax event="itemSelect" />
							</p:autoComplete>
							<p:outputLabel value="Trade" for="ofoCode" />
						</h:panelGroup>
					</c:if>
					<p:commandButton value="Submit" action="#{companyinfoUI.createNewWorkPlaceApproval}" update="wpaForm companyForm" />
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" position="top" header="Request Legacy WPA" width="75%" widgetVar="dlgAddLegacyWpa" resizable="false" hideEffect="clip" showEffect="clip" id="dialogAddLegacyWpa" appendTo="@(body)" modal="true">
			<h:form id="wpaLegacyForm">
				<c:if test="#{companyinfoUI.sitesList.size() ne 0}">
					<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
						<h:panelGroup styleClass="md-inputfield" rendered="#{!companyinfoUI.useCompanyAsSite}">
							<p:autoComplete style="width:100%" inputStyle="width:100%" id="siteForLegacyWpa" value="#{companyinfoUI.selectedSite}" completeMethod="#{companyinfoUI.completeSites}" var="rv" itemLabel="#{rv.companyName}" itemValue="#{rv}" forceSelection="true" converter="SitesConvertor" dropdown="true"
								minQueryLength="3" maxResults="10">
								<p:ajax event="itemSelect" />
							</p:autoComplete>
							<p:outputLabel value="Select #{lang['sites']}" for="siteForLegacyWpa" />
						</h:panelGroup>
						<h:panelGroup>
							<p:outputLabel value="Use Company Address:" style="color:grey" />
							<p:spacer width="5" />
							<p:selectBooleanCheckbox value="#{companyinfoUI.useCompanyAsSite}">
								<p:ajax update="wpaLegacyForm" />
							</p:selectBooleanCheckbox>
						</h:panelGroup>
						<h:panelGroup styleClass="md-inputfield">
						</h:panelGroup>
					</p:panelGrid>
				</c:if>
				<!-- Abaility to select which type: either ofo code or qualification -->
				<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
					<p:outputLabel value="Select what type of workplace approval is required: " />
					<p:selectOneRadio id="selectWhichSection" value="#{companyinfoUI.byQualification}" disabled="true">
						<f:selectItem itemLabel="Qualification" itemValue="true" />
						<f:selectItem itemLabel="Trade" itemValue="false" />
						<p:ajax listener="#{companyinfoUI.clearQualification}" update="wpaForm" />
					</p:selectOneRadio>
					<c:if test="#{companyinfoUI.byQualification}">
						<h:panelGroup class="md-inputfield" style="margin-top:19px;">
							<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationSelection" disabled="true" value="#{companyinfoUI.qualification}" completeMethod="#{assesorModiratorUI.findQualificationAutocompleteWPARequired}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}"
								forceSelection="true" converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">


								<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
								<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
								<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
								<p:ajax event="itemSelect" update="@form" />
							</p:autoComplete>
							<p:outputLabel value="#{lang['qualification']}" for="qualificationSelection"></p:outputLabel>
						</h:panelGroup>
					</c:if>
					<c:if test="#{!companyinfoUI.byQualification}">
						<h:panelGroup class="md-inputfield" style="margin-top:19px;">
							<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationSelectionTrade" value="#{companyinfoUI.qualification}" completeMethod="#{autoCompleteUI.completeQualificationTrade}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}" forceSelection="true"
								converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">
								<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
								<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
								<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
								<p:ajax event="itemSelect" update="@form" />
							</p:autoComplete>
							<p:outputLabel value="#{lang['trade']}" for="qualificationSelectionTrade"></p:outputLabel>
						</h:panelGroup>


						<h:panelGroup class="md-inputfield" style="margin-top:19px;" rendered="false">
							<p:autoComplete id="ofoCode" value="#{companyinfoUI.ofoCodes}" completeMethod="#{autoCompleteUI.completeOfoCodesTradeWpa}" var="rv" itemLabel="#{rv.ofoDescription}" itemValue="#{rv}" forceSelection="true" converter="OfoCodesConvertor" dropdown="true" minQueryLength="3" maxResults="10"
								inputStyle="opacity: 1 !important; color: black; width: 95%" style="opacity: 1 !important; color: black; width: 95%" required="true" requiredMessage="#{lang['select.ofo.code']}">
								<p:column headerText="OfoCodes" style="white-space: nowrap">#{rv.ofoCodeParent}</p:column>
								<p:column headerText="Description" style="white-space: nowrap">#{rv.description}</p:column>
								<p:ajax event="itemSelect" />
							</p:autoComplete>
							<p:outputLabel value="Trade" for="ofoCode" />
						</h:panelGroup>
					</c:if>
					<p:commandButton value="Submit" action="#{companyinfoUI.createLegacyWorkPlaceApproval}" update="wpaLegacyForm companyForm" />
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog header="#{lang['upload.documents']}" widgetVar="dlgUploadUser" resizable="false" hideEffect="clip" showEffect="clip" id="commonUPLOADUser" width="80%" responsive="true" modal="true">
			<h:form id="uploadFormUser">
				<h:panelGroup id="uploadGroupUser">
					<div class="ui-g">
						<div class="ui-g-12">
							<div class="card">
								<h1 style="font-weight: bold; font-size: 25px;">#{sitessmeUI.doc.configDoc eq null ? 'Certified Copy of Trade Test/Qualification' : sitessmeUI.doc.configDoc.name}</h1>
								<p:panel>
									<h:panelGrid columns="2" style="width: 100%">
										<p:outputLabel value="#{lang['notes']}:" for="note" />
										<p:inputTextarea id="note" value="#{sitessmeUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
											<p:ajax />
										</p:inputTextarea>
									</h:panelGrid>

									<div class="TexAlCenter">
										<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
									</div>
									<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{sitessmeUI.storeNewFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}" update="uploadFormUser :siteSmeForm"
										multiple="false" fileLimit="1" immediate="false" auto="true" />
								</p:panel>
								<div class="EmptyBox10" />
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</p:dialog>

		<p:dialog header="#{lang['upload.documents']}" widgetVar="dlgQualificationDocument" resizable="false" hideEffect="clip" showEffect="clip" id="docQualificationUpload" width="80%" responsive="true" modal="true">
			<h:form id="qualificationFormUser">
				<h:panelGroup id="qualificationGroupUser">
					<div class="ui-g">
						<div class="ui-g-12">
							<div class="card">
								<h1 style="font-weight: bold; font-size: 25px;">#{sitessmeUI.doc.configDoc eq null ? 'Certified Copy of Trade Test/Qualification' : sitessmeUI.doc.configDoc.name}</h1>
								<p:panel>
									<h:panelGrid columns="2" style="width: 100%">
										<p:outputLabel value="#{lang['notes']}:" for="note" />
										<p:inputTextarea id="note" value="#{sitessmeUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
											<p:ajax />
										</p:inputTextarea>
									</h:panelGrid>

									<div class="TexAlCenter">
										<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
									</div>
									<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{sitessmeUI.storeNewFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}"
										update="uploadFormUser :siteSmeForm:tabViewInsert:smeQualificationsList :siteSmeUpdateForms:tabViewInsert:smeQualificationsList" multiple="false" fileLimit="1" immediate="false" auto="true" />
								</p:panel>
								<div class="EmptyBox10" />
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</p:dialog>

		<p:dialog header="#{lang['upload.documents']}" widgetVar="dlgWithdrawalDocument" resizable="false" hideEffect="clip" showEffect="clip" id="docWithdrawalUpload" width="80%" responsive="true" modal="true">
			<h:form id="WithdrawalFormUser">
				<h:panelGroup id="WithdrawalGroupUser">
					<div class="ui-g">
						<div class="ui-g-12">
							<div class="card">
								<h1 style="font-weight: bold; font-size: 25px;">Withdrawal Letter</h1>
								<p:panel>
									<h:panelGrid columns="2" style="width: 100%">
										<p:outputLabel value="#{lang['notes']}:" for="note" />
										<p:inputTextarea id="note" value="#{companyinfoUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
											<p:ajax />
										</p:inputTextarea>
									</h:panelGrid>

									<div class="TexAlCenter">
										<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
									</div>
									<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone();PF('dlgWithdrawalDocument').hide()" fileUploadListener="#{companyinfoUI.storeWithdrawalFile}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}"
										fileLimitMessage="#{lang['file.to.big.to.upload']}" update="companyForm" multiple="false" fileLimit="1" immediate="false" auto="true" />
								</p:panel>
								<div class="EmptyBox10" />
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</p:dialog>

		<p:dialog closeOnEscape="true" position="top" header="Update Mentor Details" width="75%" height="50%" widgetVar="dlgUpdateSiteSme" resizable="false" hideEffect="clip" showEffect="clip" id="dialogUpdateSiteSme" appendTo="@(body)" modal="true">
			<h:form id="siteSmeUpdateForms">
				<p:outputPanel id="userInformationPanels">
					<p:tabView id="tabViewInsert">
						<p:tab title="Mentor Information">
							<p:fieldset id="smeUserInfomations" legend="Provide Mentor Information">
								<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">

									<h:panelGroup styleClass="md-inputfield">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessmeupdate.firstName}" disabled="true">
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="First Name" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessmeupdate.lastName}" disabled="true">
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="Last Name" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield" rendered="#{sitessmeUI.sitessmeupdate.identityNumber ne null}">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessmeupdate.identityNumber}" disabled="true" />
										<p:outputLabel value="#{lang['rsa.id.number']}" />
									</h:panelGroup>
									<h:panelGroup styleClass="md-inputfield" rendered="#{sitessmeUI.sitessmeupdate.passportNumber ne null}">
										<p:inputText style="width:95%; opacity:1 !important;" value="#{sitessmeUI.sitessmeupdate.passportNumber}" disabled="true" />
										<p:outputLabel value="#{lang['passport.number']}" />
									</h:panelGroup>
								</p:panelGrid>
								<h:panelGroup id="docListUsers" rendered="#{sitessmeUI.sitessmeupdate.docs.size() gt 0}">
									<br />
									<span class="FontBold"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> Please upload documents if there are any changes to your personal details and/or CV
									</span>
									<br />
									<div class="ui-g dashboard">
										<div class="ui-g-12">
											<p:repeat var="rcu" value="#{sitessmeUI.sitessmeupdate.docs}" varStatus="x">
												<div class="ui-g-12 ui-md-6 ui-lg-3">
													<div class="ui-g card colorbox #{rcu.originalFname eq null ? 'colorbox-5' : 'colorbox-1'}">
														<div class="ui-g-4">
															<i class="material-icons">#{rcu.originalFname eq null ? 'cloud_upload' : 'check_circle'}</i>
														</div>
														<div class="ui-g-8">
															<span class="colorbox-name">#{rcu.configDoc.name}</span> <span class="colorbox-count"> <p:commandButton icon="fa fa-download" id="cbDownload" rendered="#{rcu.originalFname ne null}" action="#{uploadDocUI.download}" ajax="false" value="#{lang['download']}" immediate="true"
																	process="@parent">
																	<p:ajax onevent="oneventFunction" />
																</p:commandButton> <p:commandButton value="#{rc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" styleClass="#{rcu.originalFname eq null ? 'red-btn' : 'green-btn'} flat" process="@this" oncomplete="PF('dlgUploadUser').show()" update=":uploadFormUser">
																	<f:setPropertyActionListener value="#{rcu}" target="#{sitessmeUI.doc}" />
																</p:commandButton>
															</span>
														</div>
													</div>
												</div>
											</p:repeat>
										</div>
									</div>
								</h:panelGroup>
							</p:fieldset>
						</p:tab>
						<p:tab title="Mentor Qualifications">
							<p:fieldset id="smeQualificationsList" legend="Provide Qualifications">
								<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
									<h:panelGroup>
										<div>
											<p:outputLabel value="#{lang['qualification']}" for="qualificationAuto"></p:outputLabel>
										</div>
										<div>
											<p:autoComplete style="width:100%" inputStyle="width:50%" id="qualificationAuto" value="#{sitessmeUI.smeQualifications.qualification}" completeMethod="#{assesorModiratorUI.completeQualification}" var="rvq" itemLabel="#{rvq.description}" itemValue="#{rvq}" forceSelection="true"
												converter="QualificationConvertor" dropdown="true" minQueryLength="3" maxResults="10">
												<p:column headerText="SAQA ID" style="white-space: nowrap">#{rvq.code}</p:column>
												<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rvq.description}</p:column>
												<p:column headerText="NQF Level" style="white-space: nowrap">#{rvq.nqflevelg2description}</p:column>
												<p:ajax event="itemSelect" update="smeQualificationsList" />
											</p:autoComplete>
										</div>
									</h:panelGroup>
									<h:panelGroup id="docListQualifications" rendered="#{sitessmeUI.smeQualifications.docs.size() gt 0}">
										<br />
										<span class="FontBold"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> #{lang['please.upload.the.following.compulsory.documents']}
										</span>
										<br />
										<div class="ui-g dashboard">
											<div class="ui-g-12">
												<p:repeat var="rc" value="#{sitessmeUI.smeQualifications.docs}" varStatus="x">
													<div class="ui-g-12 ui-md-6 ui-lg-3">
														<div class="ui-g card colorbox #{rc.originalFname eq null ? 'colorbox-5' : 'colorbox-1'}">
															<div class="ui-g-4">
																<i class="material-icons">#{rc.originalFname eq null ? 'cloud_upload' : 'check_circle'}</i>
															</div>
															<div class="ui-g-8">
																<span class="colorbox-name">Certified Copy of Trade Test/Qualification</span> <span class="colorbox-count"> <p:commandButton icon="fa fa-download" id="cbDownload1" rendered="#{rc.originalFname ne null}" action="#{sitessmeUI.download(rc)}" ajax="false"
																		value="#{lang['download']}" immediate="true" process="@parent">
																		<p:ajax onevent="oneventFunction" />
																	</p:commandButton> <p:commandButton value="#{rc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" styleClass="#{rc.originalFname eq null ? 'red-btn' : 'green-btn'} flat" process="@this" oncomplete="PF('dlgQualificationDocument').show()" update=":qualificationFormUser">
																		<f:setPropertyActionListener value="#{rc}" target="#{sitessmeUI.doc}" />
																	</p:commandButton>
																</span>
															</div>
														</div>
													</div>
												</p:repeat>
											</div>
										</div>
									</h:panelGroup>
									<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
										<p:commandButton icon="fa fa-plus" value="Add Qualification" update="smeQualificationsList" action="#{sitessmeUI.updateSmeQualificationToList}" />
										<p:commandButton icon="ui-icon-clear-all" value="Clear Qualification" update="smeQualificationsList" action="#{sitessmeUI.prepUpdatemeQualification}" />
									</p:panelGrid>
								</p:panelGrid>
								<p:panelGrid columns="1" styleClass="ui-panelgrid-blank" style="width:100%">
									<p:dataTable var="rowVarsmeq" value="#{sitessmeUI.sitessmeupdate.smeQualificationsList}" rowKey="#{rowVarsmeq.id}" paginator="true" rows="3" paginatorPosition="bottom"
										paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" reflow="true">
										<p:column headerText="Qualification">
											<p:outputLabel value="(#{rowVarsmeq.qualification.code}) #{rowVarsmeq.qualification.description}" />


										</p:column>
										<p:column width="7%">
											<p:commandButton icon="fa fa-trash-o" update="@form" action="#{sitessmeUI.removeFromUpdateList}" disabled="#{rowVarsmeq.status eq ApprovalEnum.Approved}">
												<f:setPropertyActionListener value="#{rowVarsmeq}" target="#{sitessmeUI.smeQualifications}" />
											</p:commandButton>
										</p:column>
									</p:dataTable>
								</p:panelGrid>
							</p:fieldset>
							<div class="EmptyBox10" />
							<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
								<p:commandButton icon="ui-icon-save" value="Update" action="#{sitessmeUI.updateSmeEntry}" update="@form companyForm" />
								<p:commandButton icon="ui-icon-clear-all" value="Clear" update="@form" action="#{sitessmeUI.prepareNewUpdate}" rendered="false" />
							</p:panelGrid>
						</p:tab>
					</p:tabView>
				</p:outputPanel>
			</h:form>
		</p:dialog>

		<!--SME Info ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="#{lang['change.reason']}" widgetVar="dlgSmeChangeReason" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="smeChangeReasonForms">
				<p:outputPanel id="userSearchPanels">
					<p:fieldset id="searchRsaIdOrPassports1" legend="Enter Change Reason">
						<p:textEditor widgetVar="txtChange1" id="txtChange1" rendered="true" requiredMessage="Provide Delete Reason" value="#{sitessmeUI.sitessmeupdate.reason}" height="100" style="margin-bottom:10px">
							<p:ajax></p:ajax>
						</p:textEditor>
						<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
							<p:commandButton icon="fa fa-save" value="#{lang['submit']}" title="#{lang['submit']}" update="smeChangeReasonForms" oncomplete="PF('dlgUpdateSiteSme').show(), PF('dlgSmeChangeReason').hide()">
								<f:setPropertyActionListener value="PF('dlgUpdateSiteSme').show()" target="#{companyinfoUI.redirectionPage}" />
							</p:commandButton>
						</p:panelGrid>
					</p:fieldset>
				</p:outputPanel>
			</h:form>
			<p:ajax immediate="true" event="close" update="smeChangeReasonForms" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="smeChangeReasonForms" />
		</p:dialog>

		<!-- ChangeReason Dialog -->
		<p:dialog closeOnEscape="true" header="Remove Profile" widgetVar="dlgDeleteReason" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="deleteReasonForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<p:fieldset legend="Provide Delete Reason *">
						<p:textEditor widgetVar="txtChange" id="txtChange" rendered="true" requiredMessage="Provide Delete Reason" value="#{sitessmeUI.sitessmeupdate.reason}" height="100" style="margin-bottom:10px">
							<p:ajax></p:ajax>
						</p:textEditor>
					</p:fieldset>
					<p:commandButton update="@form companyForm" value="#{lang['submit']}" icon="ui-icon-save" action="#{sitessmeUI.sitessmeCreateDeleteWorkflow}" onstart="uploadStart()" oncomplete="uploadDone();PF('dlgDeleteReason').hide()">
						<f:setPropertyActionListener value="PF('dlgDeleteReason').hide()" target="#{companyinfoUI.redirectionPage}" />
					</p:commandButton>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update="deleteReasonForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="smeChangeReasonForms" />
		</p:dialog>

		<p:dialog closeOnEscape="true" header="Withdraw Workplace Approval" widgetVar="dlgDeleteReasonWithdraw" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="deleteReasonFormWithdraw">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<br />
					<h1>Workplace Approval For #{companyinfoUI.workPlaceApproval.qualification.saqaQualification}</h1>
					<br />
					<h:panelGroup id="skillsDocList">
						<br />
						<span class="FontBold"> <i class="fa fa-exclamation-circle" aria-hidden="true"></i> #{lang['please.upload.the.following.compulsory.documents']}
						</span>
						<br />
						<div class="ui-g dashboard">
							<div class="ui-g-12">

								<div class="ui-g-12 ui-md-6 ui-lg-3">
									<div class="ui-g card colorbox #{rc.originalFname eq null ? 'colorbox-5' : 'colorbox-1'}">
										<div class="ui-g-4">
											<i class="material-icons">#{rc.originalFname eq null ? 'cloud_upload' : 'check_circle'}</i>
										</div>
										<div class="ui-g-8">
											<span class="colorbox-name">#{rc.configDoc.name}</span> <span class="colorbox-count"> <p:commandButton icon="fa fa-download" id="cbDownload1" rendered="#{rc.originalFname ne null}" action="#{assesorModiratorUI.download(rc)}" ajax="false" value="#{lang['download']}" immediate="true"
													process="@parent">
													<p:ajax onevent="oneventFunction" />
												</p:commandButton> <p:commandButton value="#{rc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" styleClass="#{rc.originalFname eq null ? 'red-btn' : 'green-btn'} flat" process="@this" oncomplete="PF('dlgWithdrawalDocument').show()" update="@form">
													<f:setPropertyActionListener value="#{rc}" target="#{companyinfoUI.doc}" />
												</p:commandButton>
											</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</h:panelGroup>
					<br />
					<p:commandButton update="@form companyForm" value="#{lang['submit']}" icon="ui-icon-save" action="#{companyinfoUI.witdrawWorkPlaceApproval}" oncomplete="uploadDone();PF('dlgDeleteReasonWithdraw').hide()">
					</p:commandButton>
				</p:panelGrid>
			</h:form>
			<p:ajax immediate="true" event="close" update="deleteReasonForm" />
			<p:ajax event="open" listener="#{companyinfoUI.prepChangeDoc}" update="smeChangeReasonForms" />
		</p:dialog>

		<ui:include src="/pages/upload/commonuploadDialogs.xhtml" />


		<p:dialog header="Confirm: Delete Employee" position="top" widgetVar="deleteEmployeesDlg" resizable="false" hideEffect="clip" showEffect="clip" width="60%" responsive="true" modal="true" dynamic="true">
			<h:form id="deleteEmployeesForm">

				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:outputLabel value="#{lang['are.you.sure.you.want.to.delete.the.employees']}" />

					<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:commandButton icon="fa fa-check" value="Yes" update=":companyForm:tabView:empData" action="#{employeesimportUI.employeesDelete}" oncomplete="PF('deleteEmployeesDlg').hide()" />
						<p:commandButton icon="fa fa-times" value="No" oncomplete="PF('deleteEmployeesDlg').hide()" />
					</p:panelGrid>
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog header="Confirm: Delete Employee" position="top" widgetVar="deleteEmployeesEmployeeDlg" resizable="false" hideEffect="clip" showEffect="clip" width="60%" responsive="true" modal="true" dynamic="true">
			<h:form id="deleteEmployeesEmployeeForm">

				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:outputLabel value="#{lang['are.you.sure.you.want.to.delete.the.employees']}" />

					<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:commandButton icon="fa fa-check" value="Yes" update=":companyForm:tabView:empData" action="#{employeesUI.employeesDelete}" oncomplete="PF('deleteEmployeesEmployeeDlg').hide()" />
						<p:commandButton icon="fa fa-times" value="No" oncomplete="PF('deleteEmployeesEmployeeDlg').hide()" />
					</p:panelGrid>
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog header="Confirm: Delete All Employees" position="top" widgetVar="deleteAllEmployeesDlg" resizable="false" hideEffect="clip" showEffect="clip" width="60%" responsive="true" modal="true" dynamic="true">
			<h:form id="deleteAllEmployeesForm">

				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:outputLabel value="#{lang['are.you.sure.you.want.to.delete.all.the.employees']}" />

					<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
						<p:commandButton icon="fa fa-check" value="Yes" update="deleteAllEmployeesForm :companyForm:tabView:empData" immediate="true" action="#{employeesimportUI.deleteAllEmployees}" oncomplete="PF('deleteAllEmployeesDlg').hide()" />
						<p:commandButton icon="fa fa-times" value="No" oncomplete="PF('deleteAllEmployeesDlg').hide()" />
					</p:panelGrid>
				</p:panelGrid>
			</h:form>
		</p:dialog>
		
		<p:dialog closeOnEscape="true" header="Adding additional mentors to existing approved Workplace Approval" widgetVar="AdditionalMentors" resizable="false" hideEffect="clip" showEffect="clip" width="60%" height="45vh" responsive="true" modal="true" position="center">
			<h:form id="additionalmentorsForm">
				<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank">
					<br />
					<h1>Adding Additional Mentors To Workplace Approval For </h1>
					<h1>#{companyinfoUI.workPlaceApproval.qualification.saqaQualification}</h1>
					<br />
					
					<br />
					<p:commandButton update="@form companyForm" value="#{lang['submit']}" icon="ui-icon-save" action="#{companyinfoUI.createMentorWorkPlaceApproval}" oncomplete="uploadDone();PF('AdditionalMentors').hide()">
					</p:commandButton>
				</p:panelGrid>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>
