<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core" template="/WEB-INF/template.xhtml">

	<ui:define name="content">
		<div class="ui-g">
			<div class="ui-g-12">
				<div class="card card-w-title">
					<p:importEnum type="haj.com.entity.enums.PivotNonPivotEnum" />
					<p:importEnum type="haj.com.entity.enums.LearnerStatusEnum" />
					<p:importEnum type="haj.com.entity.enums.CompanyStatusEnum" />
					<p:importEnum type="haj.com.entity.enums.ApprovalEnum" />
					<p:importEnum type="haj.com.entity.enums.LearnerChangeTypeEnum" />
					<p:importEnum type="haj.com.entity.enums.LearnerTransferTypeEnum" />
					<p:importEnum type="haj.com.entity.enums.YesNoEnum" />
					<p:importEnum type="haj.com.entity.enums.InterventionTypeEnum" />

					<h1>Companies</h1>
					
					<h:form id="learnersInsForm">
						<p:growl sticky="false">
							<p:autoUpdate />
						</p:growl>
						
						<p:dataTable value="#{dashboardExternalPartyUI.companies}" var="rv" reflow="true" emptyMessage="#{lang['no.records.found']}"
							 rows="5" paginatorPosition="bottom"
			                 paginator="true"
			                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
			                 rowsPerPageTemplate="5,10,15,25,30,35,40,45,50,100,150,200">
							<p:column headerText="#{lang['companyName']}" filterBy="#{rv.companyName}" sortBy="#{rv.companyName}">#{rv.companyName}</p:column>
							<p:column headerText="#{lang['companyRegistrationNumber']}" filterBy="#{rv.companyRegistrationNumber}" sortBy="#{rv.companyRegistrationNumber}">#{rv.companyRegistrationNumber}</p:column>
							<p:column headerText="#{lang['entity.id']}" filterBy="#{rv.levyNumber}" sortBy="#{rv.levyNumber}">#{rv.levyNumber}</p:column>
							<p:column headerText="#{lang['company.status']}" width="10%">#{lang[rv.companyStatus.registrationName]}</p:column>
							<p:column headerText="Size of Company" width="10%">#{rv.sizeOfCompany.detailDescription}</p:column>
							<p:column headerText="#{lang['levy.paying']}" width="110" style="text-align:center">
								<p:outputPanel rendered="#{rv.nonLevyPaying}">
									<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
								</p:outputPanel>
								<p:outputPanel rendered="#{not rv.nonLevyPaying}">
									<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
								</p:outputPanel>
							</p:column>
							<p:column headerText="#{lang['RAG']}" width="37">
								<h:graphicImage value="/resources/hls/images/red.svg" rendered="#{rv.companyStatus eq CompanyStatusEnum.Pending}" width="40" styleClass="animated pulse infinite" />
								<h:graphicImage value="/resources/hls/images/green.svg" rendered="#{rv.companyStatus eq CompanyStatusEnum.Active}" width="30" />
							</p:column>

							<p:column width="45" rendered="true" headerText="#{lang['view.edit']}">
								<p:commandButton icon="fa fa-users" title="#{lang['learner.registration']}" action="#{learnerUsersUI.checkLearnerInfo}" update="mainForm"  rendered="#{rv.companyStatus eq CompanyStatusEnum.Active}">
									<f:setPropertyActionListener value="#{rv}" target="#{learnerUsersUI.selectedCompany}" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
					</h:form>
				</div>
			</div>
			<div class="ui-g-12">
				<h:form id="mainForm">
				
					<p:tooltip position="left"/>
					
					<c:if test="#{learnerUsersUI.dataModel ne null}">
						<div class="card card-w-title">
							<h3>#{learnerUsersUI.selectedCompany.companyName}'s Learners</h3>
							<p:panelGrid columns="3" style="width : 100%" styleClass="ui-panelgrid-blank form-group" layout="grid">					
								<p:commandButton icon="fa fa-plus" value="Add Learner Details" update="@form" action="#{learnerUsersUI.redirectToLearnerReg}" rendered="#{not sessionUI.hideETQA}">
								</p:commandButton>
							</p:panelGrid>
							<br />
							<br />
							<c:if test="false">
								<ui:include src="/pages/includes/download_lazy.xhtml">
									<ui:param name="file_name" value="learnersList" />
									<ui:param name="target" value="learnersList" />
								</ui:include>
							</c:if>
							<ui:include src="/pages/includes/filterGuide.xhtml" />
							
							<p:dataTable var="rowVar" value="#{learnerUsersUI.dataModel}" id="learnersList" rowKey="#{rowVar.id}" paginator="true" rows="5" paginatorPosition="bottom"
								paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
								
								<p:ajax event="rowToggle" listener="#{learnerUsersUI.onRowToggle(rowVar)}" />
								
								<p:column headerText="#{lang['first.name']}" filterBy="#{rowVar.user.firstName}" sortBy="#{rowVar.user.firstName}">
									<h:outputText value="#{rowVar.user.firstName}" />
								</p:column>
								<p:column headerText="#{lang['last.name']}" filterBy="#{rowVar.user.lastName}" sortBy="#{rowVar.user.lastName}">
									<h:outputText value="#{rowVar.user.lastName}" />
								</p:column>
								<p:column headerText="Identity Number" filterBy="#{rowVar.user.rsaIDNumber}" sortBy="#{rowVar.user.rsaIDNumber}">
									<h:outputText value="#{rowVar.user.rsaIDNumber}" />
									<h:outputText rendered="#{rowVar.user.rsaIDNumber.length() lt 1}" value="N/A"/>
								</p:column>
								<p:column headerText="Passport Number" filterBy="#{rowVar.user.passportNumber}" sortBy="#{rowVar.user.passportNumber}">
									<h:outputText rendered="#{rowVar.user.passportNumber.length() lt 1}" value="N/A"/>
									<h:outputText value="#{rowVar.user.passportNumber}"/>
								</p:column>		
								<p:column headerText="#{lang['view.edit']}" width="30" exportable="false">
									<p:commandButton icon="fa fa-database" title="#{lang['update']}" action="#{learnerUsersUI.prepareLearner}" update="updateForm" oncomplete="PF('updateDialog').show()" immediate="true">
										<f:setPropertyActionListener value="#{rowVar}" target="#{learnerUsersUI.companyLearnerUsers}"/>
									</p:commandButton>
									<p:commandButton icon="fa fa-database" update="@form" action="#{learnerUsersUI.redirectToLearner}" rendered="false">
										<f:setPropertyActionListener value="#{rowVar}" target="#{learnerUsersUI.companyLearnerUsers}" />
									</p:commandButton>
									<p:commandButton id="viewLearnerDetails" icon="fa fa-leanpub" title="View Learner Details" update="mainForm" action="#{learnerUsersUI.viewCompanyLearnerDetails}"  process="@this">
										<f:setPropertyActionListener value="#{rowVar}" target="#{learnerUsersUI.companyLearnerUsers}" />
									</p:commandButton>
								</p:column>									
							</p:dataTable>

							<p:confirmDialog global="true" showEffect="fade" hideEffect="fade" width="250">
								<p:commandButton value="#{lang['yes']}" styleClass="ui-confirmdialog-yes GreenButton" icon="ui-icon-check" />
								<p:commandButton value="#{lang['no']}" type="button" styleClass="ui-confirmdialog-no RedButton" icon="ui-icon-close" />
							</p:confirmDialog>

						</div>
					</c:if>
					
					<c:if test="#{learnerUsersUI.viewLearnerDetails}">
						<h:panelGroup id="pageLearnerDetails">
							<div class="card card-w-title">
								<ui:include src="/pages/tp/includes/learneruserexpansion.xhtml">
									<ui:param name="companyLearnerUsers" value="#{learnerUsersUI.companyLearnerUsers}"></ui:param>
								</ui:include>
							</div>						
						</h:panelGroup>
					</c:if>
				</h:form>
			</div>
		</div>

		<ui:include src="/pages/upload/commonuploadDialogs.xhtml" />
		
		<p:dialog header="Update Learner" widgetVar="updateDialog" resizable="false" hideEffect="clip" showEffect="clip" id="dlgID" width="90vw" height="85vh" responsive="true" modal="true" dynamic="true">
			<h:form id="updateForm">
				<p:fieldset id="learnerDetailsforms" collapsed="false" legend="#{lang['learner.details']}">
					<p:panelGrid id="learnerRegistrationFormGridPanel" columns="2" style="width : 100%" styleClass="ui-panelgrid-blank form-group" layout="grid">

						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['title']}" for="title" styleClass="gray" />
							</div>
							<div>
								<p:selectOneMenu id="title" value="#{learnerUsersUI.user.title}" converter="TitleConvertor" style="opacity: 1 !important; color: black; width:95%" required="true" requiredMessage="#{lang['select.title']}" disabled="#{learnerUsersUI.disableFields}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.selectItemsTitles}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="firstName" value="#{learnerUsersUI.user.firstName}" style="width:95%" required="true" requiredMessage="#{lang['provide.first.name']}" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['first.name']}:" for="firstName" styleClass="gray" />
						</h:panelGroup>
						
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="middleName" value="#{learnerUsersUI.user.middleName}" style="width:95%" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['middle.name']}" for="middleName" styleClass="gray" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="lastName" value="#{learnerUsersUI.user.lastName}" style="width:95%" required="true" requiredMessage="#{lang['provide.last.name']}" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['last.name']}:" for="lastName" styleClass="gray" />
						</h:panelGroup>
						
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="maidenName" value="#{learnerUsersUI.user.maidenName}" style="width:95%" required="false" requiredMessage="#{lang['provide.first.name']}" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['maiden.name']}:" for="maidenName" styleClass="gray" />
						</h:panelGroup>						

						<h:panelGroup styleClass="md-inputfield" rendered="#{learnerUsersUI.user.rsaIDNumber.length() gt 0}">
							<p:inputText id="rsaId" value="#{learnerUsersUI.user.rsaIDNumber}" style="width:95%" required="true" requiredMessage="#{lang['rsa.id.number']}" disabled="true">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['rsa.id.number']}" for="rsaId" styleClass="gray" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield" rendered="#{learnerUsersUI.user.passportNumber.length() gt 0}">
							<p:inputText id="passPort" value="#{learnerUsersUI.user.passportNumber}" style="width:95%" required="true" requiredMessage="#{lang['passport.number']}" disabled="true">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['passport.number']}" for="passPort" styleClass="gray" />
						</h:panelGroup>
						
						<h:panelGroup styleClass="md-inputfield" id="calDate">
							<p:outputLabel value="Date Of Birth" for="glPostingDate" styleClass="gray" />
							<br />
							<p:calendar maxdate="#{learnerUsersUI.now}" inputStyle="width:calc(99% - 40px);" navigator="true" id="glPostingDate" 
								value="#{learnerUsersUI.user.dateOfBirth}" size="19" showOn="button" pattern="#{autoCompleteUI.CALENDER_PATTERN}" 
								mask="true" readonlyInput="true"  requiredMessage="Select Date Of Birth" required="true" 
								disabled="#{learnerUsersUI.user.rsaIDNumber.length() gt 0}" >
								<p:ajax event="dateSelect"  listener="#{learnerUsersUI.checkMinor}" update="@form"/>
							</p:calendar>
						</h:panelGroup>

						<h:panelGroup id="mariedStatePanel" rendered="#{learnerUsersUI.minor}">
							<div>
								<p:outputLabel value="Are you married?" for="mariedState" styleClass="gray" />
							</div>
							<div>
								<p:selectOneMenu id="mariedState" value="#{learnerUsersUI.user.maried}" style="width:95%" required="true" requiredMessage="Select if married" disabled="#{learnerUsersUI.disableFields}">
									<p:ajax update="@form" listener="#{learnerUsersUI.checkRequireGaurdian}" />
									<f:selectItem itemLabel="--- #{lang['select.one']} ---" styleClass="FontLight gray" noSelectionOption="true" />
									<f:selectItems value="#{enumUI.yesNoEnumDD}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
				
						<h:panelGroup styleClass="md-inputfield">
							<p:inputText id="email" value="#{learnerUsersUI.user.email}" type="email" style="width:95%" required="false" requiredMessage="#{lang['provide.email']}" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputText>
							<p:outputLabel value="#{lang['email']}" for="email" styleClass="gray" />
						</h:panelGroup>


						<h:panelGroup styleClass="md-inputfield">
							<p:inputMask id="telNumber" value="#{learnerUsersUI.user.telNumber}" mask="099 999 9999" style="width:95%" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputMask>
							<p:outputLabel value="#{lang['tel.number']}" for="telNumber" styleClass="gray" />
						</h:panelGroup>

						<h:panelGroup styleClass="md-inputfield">
							<br />
							<p:inputMask id="cellPhone" value="#{learnerUsersUI.user.cellNumber}" mask="099 999 9999" style="width:95%" required="true" requiredMessage="#{lang['cell.number']}" disabled="#{learnerUsersUI.disableFields}">
								<p:ajax />
							</p:inputMask>
							<p:outputLabel value="#{lang['cell.number']}" for="cellPhone" styleClass="gray" />
						</h:panelGroup>

						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['gender']} *" styleClass="gray" />
							</div>
							<div>
								<p:selectOneMenu id="gender" value="#{learnerUsersUI.user.gender}" converter="GenderConvertor" style="width:95%" required="true" requiredMessage="Select gender" disabled="#{learnerUsersUI.user.rsaIDNumber.length() gt 0}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.selectItemsGender}" var="rv" itemLabel="#{rv.genderName}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>


						<h:panelGroup rendered="false">
							<div>
								<p:outputLabel value="Home Language" styleClass="gray" />
							</div>
							<div>
								<p:selectOneMenu id="gomelanguage" value="#{learnerUsersUI.user.homeLanguage}" converter="LanguageConvertor" style="width:95%" required="true" disabled="#{learnerUsersUI.disableFields}">
									<p:ajax />
									<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
									<f:selectItems value="#{selectItemsUI.language}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>

						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['equity']}" for="equity" styleClass="gray" />
							</div>
							<div>
								<p:autoComplete id="equity" value="#{learnerUsersUI.user.equity}" style="width:95%" completeMethod="#{autoCompleteUI.completeEquityExcludeOtherAndUnkown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="EquityConvertor" dropdown="true" minQueryLength="3" maxResults="10" requiredMessage="#{lang['provide.equity']}" required="true"
									disabled="#{learnerUsersUI.disableFields}">
									<p:column headerText="equity" style="white-space: nowrap">#{rv.description}</p:column>
									<p:ajax event="itemSelect"></p:ajax>
								</p:autoComplete>
							</div>
						</h:panelGroup>


						<h:panelGroup>
							<div>
								<p:outputLabel value="#{lang['nationality']}" for="nationality" styleClass="gray" />
							</div>
							<div>
								<p:autoComplete id="nationality" value="#{learnerUsersUI.user.nationality}" required="true" requiredMessage="#{lang['nationality.required']}" completeMethod="#{autoCompleteUI.completeNationality}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" style="width:95%" converter="NationalityConvertor" dropdown="true" minQueryLength="3" maxResults="10"
									disabled="#{learnerUsersUI.disableFields}">
									<p:column headerText="#{lang['nationality']}" style="white-space: nowrap">#{rv.description}</p:column>
									<p:ajax event="itemSelect"></p:ajax>
								</p:autoComplete>
							</div>
						</h:panelGroup>
						

						<h:panelGroup>
							<div>
								<p:outputLabel value="Urban/Rural Area" for="urbanRural" styleClass="gray"/>
							</div>
							<div>
								<p:selectOneMenu id="urbanRural" value="#{learnerUsersUI.user.urbanRuralEnum}" style="width:95%" required="true" requiredMessage="Urban/Rural Area Required" disabled="#{learnerUsersUI.disableFields}">
									<p:ajax />
									<f:selectItem itemLabel="--- #{lang['select.one']} ---" styleClass="FontLight gray" noSelectionOption="true" />
									<f:selectItems value="#{enumUI.urbanRuralEnumDD}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						
						<h:panelGroup>
							<div>
								<p:outputLabel for="haveDisability" value="Do You Have A Disability?" styleClass="gray" />
							</div>
							<div>
								<p:selectOneMenu id="haveDisability" value="#{learnerUsersUI.user.disability}" style="width:95%" required="true" requiredMessage="Do You Have A Disability" disabled="#{learnerUsersUI.disableFields}">
									<p:ajax event="itemSelect" update="learnerDetailsforms"/>
									<f:selectItem itemLabel="--- #{lang['select.one']} ---" styleClass="FontLight gray" noSelectionOption="true" />
									<f:selectItems value="#{enumUI.yesNoEnumDD}" />
								</p:selectOneMenu>
							</div>
						</h:panelGroup>
						
						<h:panelGroup>
			<div>
						<p:outputLabel for="socioEconomicstatus_vh1" value="Employment status" styleClass="gray" />
					</div>
						
					<div>					
							  	<p:selectOneMenu id="socioEconomicstatus_vh1" value="#{learnerApplicationFormSdfUI.companylearners.employmentStatus}" style="width:95%" required="true" requiredMessage="Employment status" >
							  		<p:ajax event="itemSelect" />									
									<f:selectItem itemLabel="#{companyLearner.user.employmentStatus.getRegistrationName()}" itemValue="#{companyLearner.user.employmentStatus.getRegistrationName()}" noSelectionOption="false" />																	
									<f:selectItem itemLabel="--- #{lang['select.one']} ---" styleClass="FontLight gray" noSelectionOption="true" />
									<f:selectItems value="#{enumUI.employmentStatusFilteredEnumDD}" />
								</p:selectOneMenu>						
					</div>						
					</h:panelGroup>
						
					</p:panelGrid>
				
					<p:fieldset collapsed="false" legend="#{lang['disability']}" rendered="#{learnerUsersUI.user.disability eq YesNoEnum.Yes}">
						<p:panelGrid columns="3" id="disabilityFormGridPanel2" style="width:100%" rendered="#{!learnerUsersUI.disableFields}">
							
							<h:panelGroup  style="margin-top: 20px">
								<div>
									<p:outputLabel value="#{lang['disability']}" for="disability3" styleClass="FontLight gray"/>
								</div>
								<div>
									<p:autoComplete disabled="#{learnerUsersUI.disableFields}" id="disability3" value="#{learnerUsersUI.usersDisability.disabilityStatus}" style="width:95%" completeMethod="#{autoCompleteUI.completeDisabilityCanSelect}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="DisabilityStatusConvertor" dropdown="true" minQueryLength="3" maxResults="100" required="false" requiredMessage="Please Select Disability">
										<p:column headerText="Disability" style="white-space: nowrap">#{rv.description}</p:column>
										<p:ajax event="itemSelect" update="disabilityFormGridPanel2" listener="#{learnerUsersUI.clearDisabilityRating}"/>
									</p:autoComplete>
								</div>
							</h:panelGroup>
							
							<h:panelGroup   style="margin-top: 20px">
								<h:panelGroup rendered="#{learnerUsersUI.selectItemsUsersDisabilityRating.size()>0}"  style="margin-top: 0px">
									<p:outputLabel value="#{lang['disability.rating']}" styleClass="FontLight gray" for="diasbiltyRating3" /><br/>
									<p:selectOneMenu id="diasbiltyRating3" value="#{learnerUsersUI.usersDisability.disabilityRating}" converter="DisabilityRatingConvertor" style="width:95%" required="true" requiredMessage="Please Select Disability Rating">
										<p:ajax />
										<f:selectItem itemLabel="---#{lang['select.one']}---" noSelectionOption="true" />
										<f:selectItems value="#{learnerUsersUI.selectItemsUsersDisabilityRating}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" />
									</p:selectOneMenu>
								</h:panelGroup>
							</h:panelGroup>
							
							<h:panelGroup rendered="true">
								<p:commandButton process="disabilityFormGridPanel2" update="disabilityTable" value="#{lang['add']}" id="addUsersDisability" styleClass="Fright" icon="ui-icon-plus" action="#{learnerUsersUI.addUsersDisability()}" />
							</h:panelGroup>
						</p:panelGrid>
						<p:spacer />
						<p:dataTable id="disabilityTable" var="var" value="#{learnerUsersUI.usersDisabilityList}">
							<p:column headerText="#{lang['disability']}">
								<h:outputText value="#{var.disabilityStatus.description}" />
							</p:column>
							
							<p:column headerText="#{lang['disability.rating']}">
								<h:outputText value="#{var.disabilityRating.description}" />
							</p:column>
							
							<p:column width="70">
								<p:commandButton icon="fa fa-database" title="#{lang['update']}" action="#{learnerUsersUI.prepareUsersDisabilityUpdate()}" process="@this" update="@form" rendered="false" disabled="#{learnerUsersUI.disableFields}">
									<f:setPropertyActionListener value="#{var}" target="#{learnerUsersUI.usersDisability}" />
								</p:commandButton>
		
								<p:commandButton  icon="fa fa-trash-o" title="#{lang['delete']}" action="#{learnerUsersUI.removeUsersDisabilityFromList()}" process="@this" update="disabilityTable" disabled="#{learnerUsersUI.disableFields}">
									 <f:setPropertyActionListener value="#{var}" target="#{learnerUsersUI.usersDisability}" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
					</p:fieldset>	
					
					<br />
						<!-- User Languages -->
						<p:fieldset id="languagesFs" collapsed="false" legend="#{lang['languages']}">
							<p:panelGrid columns="6" id="pgLanguages" style="width:100%" rendered="#{!disableFields}">
			
								<h:panelGroup styleClass="md-inputfield">
									<br />
									<p:outputLabel value="#{lang['language']}" for="language" />
									<p:autoComplete value="#{learnerUsersUI.usersLanguage.language}" style="width:100%" id="language" required="#{param['amInsForm:addLanguage'] !=null}" completeMethod="#{autoCompleteUI.completeLanguage}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="LanguageConvertor" dropdown="true" minQueryLength="3" maxResults="20">
										<p:column headerText="#{lang['language']}" style="white-space: nowrap">#{rv.description}</p:column>
										<p:ajax />
									</p:autoComplete>
			
								</h:panelGroup>
			
								<h:panelGroup rendered="true">
									<div>
										<p:outputLabel value="Speak?" for="speak" styleClass="FontLight" />
									</div>
									<div>
										<p:selectOneButton value="#{learnerUsersUI.usersLanguage.speark}" style="width:100%" converter="YesNoLookupConvertor" id="speak" required="#{param['amInsForm:addLanguage'] !=null}">
			
											<f:selectItems value="#{selectItemsUI.selectItemsYesNoLookup}" var="yesNo" itemLabel="#{yesNo.yesNoName}" itemValue="#{yesNo}" />
										</p:selectOneButton>
									</div>
								</h:panelGroup>
			
								<h:panelGroup rendered="true">
									<div>
										<p:outputLabel value="Read?" for="read" styleClass="FontLight" />
									</div>
									<div>
										<p:selectOneButton value="#{learnerUsersUI.usersLanguage.read}" style="width:100%" converter="YesNoLookupConvertor" id="read" required="#{param['amInsForm:addLanguage'] !=null}">
			
											<f:selectItems value="#{selectItemsUI.selectItemsYesNoLookup}" var="yesNo" itemLabel="#{yesNo.yesNoName}" itemValue="#{yesNo}" />
										</p:selectOneButton>
									</div>
								</h:panelGroup>
			
								<h:panelGroup rendered="true">
									<div>
										<p:outputLabel value="Write?" for="write" styleClass="FontLight" />
									</div>
									<div>
										<p:selectOneButton value="#{learnerUsersUI.usersLanguage.write}" style="width:100%" converter="YesNoLookupConvertor" id="write" required="#{param['amInsForm:addLanguage'] !=null}">
			
											<f:selectItems value="#{selectItemsUI.selectItemsYesNoLookup}" var="yesNo" itemLabel="#{yesNo.yesNoName}" itemValue="#{yesNo}" />
										</p:selectOneButton>
									</div>
								</h:panelGroup>
			
								<h:panelGroup rendered="true">
									<div>
										<p:outputLabel value="Home Language?" for="homeL" styleClass="FontLight" />
									</div>
									<div>
										<p:selectBooleanCheckbox disabled="#{learnerUsersUI.homeLanguageSelected}" value="#{learnerUsersUI.usersLanguage.homeLanguage}" id="homeL" />
									</div>
								</h:panelGroup>
			
								<h:panelGroup rendered="true">
									<p:commandButton process="pgLanguages" update="pgLanguages languageTable" value="#{lang['add']}" id="addLanguage" styleClass="Fright" icon="ui-icon-plus" action="#{learnerUsersUI.addLanguage()}" />
								</h:panelGroup>
							</p:panelGrid>
							<p:spacer />
							<p:dataTable id="languageTable" var="var" value="#{learnerUsersUI.usersLanguageList}">
								<p:column headerText="#{lang['language']}">
									<h:outputText value="#{var.language.description}" />
								</p:column>
			
								<p:column headerText="#{lang['speak']}">
									<h:outputText value="#{var.speark.yesNoName}" />
								</p:column>
			
								<p:column headerText="#{lang['read']}">
									<h:outputText value="#{var.read.yesNoName}" />
								</p:column>
			
								<p:column headerText="#{lang['write']}">
									<h:outputText value="#{var.write.yesNoName}" />
								</p:column>
			
								<p:column headerText="#{lang['home.language']}">
									<p:selectBooleanCheckbox disabled="true" value="#{var.homeLanguage}" />
								</p:column>
			
								<p:column width="70">
									<p:commandButton icon="fa fa-database" title="#{lang['update']}" action="#{learnerUsersUI.prepareLanguageUpdate()}" process="@this" update="@form" rendered="false">
										<f:setPropertyActionListener value="#{var}" target="#{learnerUsersUI.usersLanguage}" />
									</p:commandButton>
			
									<p:commandButton  icon="fa fa-trash-o" title="#{lang['delete']}" action="#{learnerUsersUI.removeLanguageFromList()}" process="@this" update="@form" disabled="#{learnerUsersUI.disableFields}">
										 <f:setPropertyActionListener value="#{var}" target="#{learnerUsersUI.usersLanguage}" />
									</p:commandButton>
								</p:column>
							</p:dataTable>
						</p:fieldset>	
						
						<p:fieldset id="addressFs" collapsed="false" legend="#{lang['address']}">
							<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank" layout="grid">
								<p:fieldset legend="Learner #{lang['residentialAddress']} (Home)" style="margin-top: 20px">
									<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="addrPcode">
										<h:panelGroup id="addressLine1Input" styleClass="md-inputfield">
											<p:inputText id="addressLine1" value="#{learnerUsersUI.residentialAddress.addressLine1}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.1']}" for="addressLine1" styleClass="gray" />
										</h:panelGroup>
										<h:panelGroup id="addressLine2Input" styleClass="md-inputfield">
											<p:inputText id="addressLine2" value="#{learnerUsersUI.residentialAddress.addressLine2}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.2']}" for="addressLine2" styleClass="gray" />
										</h:panelGroup>
										<h:panelGroup id="addressLine3Input" styleClass="md-inputfield">
											<p:inputText id="addressLine3" value="#{learnerUsersUI.residentialAddress.addressLine3}" style="width:95%" required="false" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.3']}" for="addressLine3" styleClass="gray" />
										</h:panelGroup>
		
										<h:panelGroup styleClass="md-inputfield" > 
						                        <p:autoComplete  id="town1" value="#{learnerUsersUI.residentialAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true"
						                           requiredMessage="#{lang['please.select.a.town']}" disabled="#{learnerUsersUI.disableFields}">
						                           <p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
						                           <p:ajax event="itemSelect" />
						                        </p:autoComplete>
						                        <p:outputLabel value="#{lang['town']}" for="town1" styleClass="gray" />
							             </h:panelGroup>
							             
										<h:panelGroup rendered="false">
											<div>
												<h:outputLabel value="#{lang['town']}" for="theTown" styleClass="gray" />
											</div>
											<div>
												<p:autoComplete id="theTown" value="#{learnerUsersUI.residentialAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" disabled="#{learnerUsersUI.disableFields}"
													requiredMessage="#{lang['please.select.a.town']}">
													<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
													<p:ajax event="itemSelect"/>
												</p:autoComplete>
											</div>
										</h:panelGroup>
		
		
										<h:panelGroup id="pcodeInput" styleClass="md-inputfield">
											<p:inputText id="pcode" value="#{learnerUsersUI.residentialAddress.postcode}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['post.code']}" for="pcode" styleClass="gray" />
										</h:panelGroup>
										
											<h:panelGroup  styleClass="md-inputfield">
						                       <p:autoComplete  id="MunicipalityID" value="#{learnerUsersUI.residentialAddress.municipality}" completeMethod="#{autoCompleteUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityDesc}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor" dropdown="true" minQueryLength="3"
						                           disabled="#{learnerUsersUI.disableFields}" maxResults="10" inputstyle="opacity: 1 !important; color: black; width: 100%" style="opacity: 1 !important; color: black; width: 95%" required="true" requiredMessage="#{lang['select.municipality']}">
						                            <p:column headerText="#{lang['province']}" style="white-space: nowrap">#{rv.province.provinceDesc}</p:column>
						                            <p:column headerText="#{lang['municipality']}" style="white-space: nowrap">#{rv.municipalityDesc}</p:column>
						                            <p:ajax event="itemSelect" update="resProvincePG" ></p:ajax>
						                       </p:autoComplete>
						                       <p:outputLabel value="#{lang['municipality']}" for="MunicipalityID" styleClass="gray" />
							             </h:panelGroup>
							             
							             <p:panelGrid columns="1"  style="width : 100%" styleClass="ui-panelgrid-blank" id="resProvincePG"> 
											<h:panelGroup rendered="#{learnerUsersUI.residentialAddress.municipality ne null}" styleClass="md-inputfield" >
							                    <p:inputText disabled="true" id="resProvince" value="#{learnerUsersUI.residentialAddress.municipality.province.provinceDesc}" style="opacity: 1 !important; color: black; width:95%">
							                    	 <p:ajax />
							                    </p:inputText>
							                    <p:outputLabel value="#{lang['province']}" for="resProvince" styleClass="gray" />
							                   
								            </h:panelGroup>
							             </p:panelGrid>								
		
										<h:panelGroup styleClass="md-inputfield" style="margin-top: 19px">
											<p:autoComplete id="statsSaAreaCode" value="#{learnerUsersUI.residentialAddress.statsSaAreaCode}" completeMethod="#{autoCompleteUI.completeSTATSSAAreaCode}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="STATSSAAreaCodeConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%; opacity:1 !important;"
												style="width: 95%" disabled="#{learnerUsersUI.disableFields}" required="true" requiredMessage="Select STATS SA Area Code">
												<p:ajax event="itemSelect" />
												<p:column headerText="#{lang['code']}" style="white-space: nowrap">#{rv.code}</p:column>
												<p:column headerText="#{lang['description']}" style="white-space: nowrap">#{rv.description}</p:column>
											</p:autoComplete>
											<p:outputLabel value="STATS SA Area Code" for="statsSaAreaCode" styleClass="gray" />
										</h:panelGroup>
									</p:panelGrid>
								</p:fieldset>
		
								<p:fieldset legend="Learner #{lang['postalAddress']} (Home)" style="margin-top: 20px" id="postAddress">
									<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="postalAddress">
		
										<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank">
											<p:selectBooleanCheckbox value="#{learnerUsersUI.copyAddress}" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax update="postAddress" listener="#{learnerUsersUI.clearPostal}" />
											</p:selectBooleanCheckbox>
											<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="gray" />
										</p:panelGrid>
										<h:panelGroup id="postalAddressLine1Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}" disabled="#{learnerUsersUI.disableFields}">
											<p:inputText id="postalAddressLine1" value="#{learnerUsersUI.postalAddress.addressLine1}" style="width:95%" required="true" maxlength="30">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressLine1" styleClass="gray" />
										</h:panelGroup>
										<h:panelGroup id="postalAddressLine2Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}" disabled="#{learnerUsersUI.disableFields}">
											<p:inputText id="postalAddressLine2" value="#{learnerUsersUI.postalAddress.addressLine2}" style="width:95%" required="true" maxlength="30">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressLine2" styleClass="gray" />
										</h:panelGroup>
										<h:panelGroup id="postalAddressLine3Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}" disabled="#{learnerUsersUI.disableFields}">
											<p:inputText id="postalAddressLine3" value="#{learnerUsersUI.postalAddress.addressLine3}" style="width:95%" required="false" maxlength="30">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressLine3" styleClass="gray" />
										</h:panelGroup>
										
										<h:panelGroup styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}"> 
						                        <p:autoComplete  id="town2" value="#{learnerUsersUI.postalAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true"
						                           requiredMessage="#{lang['please.select.a.town']}" disabled="#{learnerUsersUI.disableFields}">
						                           <p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
						                           <p:ajax event="itemSelect" />
						                        </p:autoComplete>
						                        <p:outputLabel value="#{lang['town']}" for="town2" styleClass="gray" />
							             </h:panelGroup>
		
										<h:panelGroup rendered="false">
											<div>
												<h:outputLabel value="#{lang['town']}" for="theTown2" styleClass="gray" />
											</div>
											<div>
												<p:autoComplete id="theTown2" value="#{learnerUsersUI.postalAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true" disabled="#{learnerUsersUI.disableFields}"
													requiredMessage="#{lang['please.select.a.town']}">
													<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
													<p:ajax />
												</p:autoComplete>
											</div>
										</h:panelGroup>
		
		
										<h:panelGroup id="postalPcodeInput" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}">
											<p:inputText id="postalPcode" value="#{learnerUsersUI.postalAddress.postcode}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
												<p:ajax />
											</p:inputText>
											<p:outputLabel value="#{lang['post.code']}" for="postalPcode" styleClass="gray" />
										</h:panelGroup>
										
										<h:panelGroup  styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress}" >
						                       <p:autoComplete  id="postalAddressMunicipalityID" value="#{learnerUsersUI.postalAddress.municipality}" completeMethod="#{autoCompleteUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityDesc}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor" dropdown="true" minQueryLength="3"
						                           disabled="#{learnerUsersUI.disableFields}"  maxResults="10" inputstyle="opacity: 1 !important; color: black; width: 100%" style="opacity: 1 !important; color: black; width: 95%" required="true" requiredMessage="#{lang['select.municipality']}">
						                            <p:column headerText="#{lang['province']}" style="white-space: nowrap">#{rv.province.provinceDesc}</p:column>
						                            <p:column headerText="#{lang['municipality']}" style="white-space: nowrap">#{rv.municipalityDesc}</p:column>
						                            <p:ajax event="itemSelect" update="resProvincePG" ></p:ajax>
						                       </p:autoComplete>
						                       <p:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" styleClass="gray" />
							             </h:panelGroup>
									</p:panelGrid>
								</p:fieldset>
							</p:panelGrid>
						</p:fieldset>
						
						<p:outputPanel styleClass="card" rendered="#{learnerUsersUI.requireGaurdian}" id="legalOutputPanel">
							<c:if test="#{learnerUsersUI.user.legalGaurdian ne null and learnerUsersUI.user.legalGaurdian.doneSearch ne true}">
								<ui:include src="/pages/includes/searchGuidianPassportOrID.xhtml" />
							</c:if>
		
						
							<p:fieldset legend="Parent or Guardian Details" style="margin-top: 20px" rendered="#{learnerUsersUI.user.legalGaurdian.doneSearch}">
								<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank" layout="grid">
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="firstNameg" value="#{learnerUsersUI.user.legalGaurdian.firstName}" style="width:95%" required="true" requiredMessage="#{lang['provide.first.name']}" disabled="#{learnerUsersUI.disableFields}" >
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="#{lang['first.name']}:" for="firstNameg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="lastNameg" value="#{learnerUsersUI.user.legalGaurdian.lastName}" style="width:95%" required="true" requiredMessage="#{lang['provide.last.name']}" disabled="#{learnerUsersUI.disableFields}" >
											<p:ajax />
										</p:inputText>												
										<p:outputLabel value="#{lang['last.name']}:" for="lastNameg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield" rendered="#{learnerUsersUI.user.legalGaurdian.rsaIDNumber ne '' and learnerUsersUI.user.legalGaurdian.rsaIDNumber ne null}">
										<p:inputText id="rsaIdg" value="#{learnerUsersUI.user.legalGaurdian.rsaIDNumber}" style="width:95%" required="true" requiredMessage="#{lang['rsa.id.number']}" disabled="#{sessionUI.task.processRole.rolePermission ne UserPermissionEnum.Edit and sessionUI.task.processRole.rolePermission ne UserPermissionEnum.EditUpload}" >
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="#{lang['rsa.id.number']}:" for="rsaIdg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield" rendered="#{learnerUsersUI.user.legalGaurdian.passportNumber ne '' and learnerUsersUI.user.legalGaurdian.passportNumber ne null}">
										<p:inputText id="rsaIdgp" value="#{learnerUsersUI.user.legalGaurdian.passportNumber}" style="width:95%" required="true" requiredMessage="#{lang['rsa.id.number']}" disabled="#{sessionUI.task.processRole.rolePermission ne UserPermissionEnum.Edit and sessionUI.task.processRole.rolePermission ne UserPermissionEnum.EditUpload}" >
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="Passport Number:" for="rsaIdgp" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="emailg" value="#{learnerUsersUI.user.legalGaurdian.email}" type="email" style="width:95%" required="true" requiredMessage="#{lang['provide.email']}" disabled="#{learnerUsersUI.disableFields}" >
											<p:ajax />
										</p:inputText>
										<p:outputLabel value="#{lang['email']}:" for="emailg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputMask id="workPhoneg" value="#{learnerUsersUI.user.legalGaurdian.workContactNumber}" mask="099 999 9999" style="width:95%" disabled="#{learnerUsersUI.disableFields}" >
											<p:ajax />
										</p:inputMask>
										<p:outputLabel value="Work Number" for="workPhoneg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputMask id="telNumberg" value="#{learnerUsersUI.user.legalGaurdian.telNumber}" mask="099 999 9999" style="width:95%" disabled="#{learnerUsersUI.disableFields}" >
										<p:ajax />
										</p:inputMask>
										<p:outputLabel value="#{lang['tel.number']}:" for="telNumberg" styleClass="gray" />
									</h:panelGroup>
		
									<h:panelGroup styleClass="md-inputfield">
										<p:inputMask id="cellPhoneg" value="#{learnerUsersUI.user.legalGaurdian.cellNumber}" mask="099 999 9999" style="width:95%" required="true" requiredMessage="#{lang['cell.number']}" disabled="#{learnerUsersUI.disableFields}" >
										<p:ajax />
										</p:inputMask>
										<p:outputLabel value="#{lang['cell.number']}:" for="cellPhoneg" styleClass="gray" />
									</h:panelGroup>
								</p:panelGrid>
								<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank" layout="grid" id="birthAddressDetails" >
									<p:fieldset legend="#{lang['residentialAddress']}" style="margin-top: 20px" id="legalGaurdianResidentialAddress">
										<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="legalGaurdianaddrPcode">
											<h:panelGroup id="legalGaurdianaddressLine1Input" styleClass="md-inputfield">
												<p:inputText id="legalGaurdianaddressLine1" value="#{learnerUsersUI.legalGaurdianResidentialAddress.addressLine1}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.1']}" for="legalGaurdianaddressLine1" styleClass="gray" />
											</h:panelGroup>
											<h:panelGroup id="legalGaurdianaddressLine2Input" styleClass="md-inputfield">
												<p:inputText id="legalGaurdianaddressLine2" value="#{learnerUsersUI.legalGaurdianResidentialAddress.addressLine2}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.2']}" for="addressLine2" styleClass="gray" />
											</h:panelGroup>
											<h:panelGroup id="legalGaurdianaddressLine3Input" styleClass="md-inputfield">
												<p:inputText id="legalGaurdianaddressLine3" value="#{learnerUsersUI.legalGaurdianResidentialAddress.addressLine3}" style="width:95%" required="false" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.3']}" for="legalGaurdianaddressLine3" styleClass="gray" />
											</h:panelGroup>
		
											<h:panelGroup>
												<div>
													<h:outputLabel value="#{lang['town']}" for="legalGaurdiantheTown" styleClass="gray" />
												</div>
												<div>
													<p:autoComplete id="legalGaurdiantheTown" value="#{learnerUsersUI.legalGaurdianResidentialAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true"
														disabled="#{learnerUsersUI.disableFields}" requiredMessage="#{lang['please.select.a.town']}">
														<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
														<p:ajax event="itemSelect" />
													</p:autoComplete>
												</div>
											</h:panelGroup>
		
		
											<h:panelGroup id="legalGaurdianpcodeInput" styleClass="md-inputfield">
												<p:inputText id="legalGaurdianpcode" value="#{learnerUsersUI.legalGaurdianResidentialAddress.postcode}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['post.code']}" for="legalGaurdianpcode" styleClass="gray" />
											</h:panelGroup>
											<div>
												<p:autoComplete id="legalGaurdianresidentialAddressMunicipalityID" placeholder="#{lang['municipality']}" value="#{learnerUsersUI.legalGaurdianResidentialAddress.municipality}" completeMethod="#{autoCompleteUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}" itemValue="#{rv}" forceSelection="true" converter="MunicipalityConvertor" dropdown="true"
													minQueryLength="3" maxResults="10" required="true" requiredMessage="#{lang['select.municipality']}" disabled="#{learnerUsersUI.disableFields}">
													<p:column headerText="#{lang['province']}" style="white-space: nowrap">
														<p:outputLabel value="#{rv.province.provinceDesc}" styleClass="gray" />
													</p:column>
													<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">
														<p:outputLabel value="#{rv.municipalityDesc}" styleClass="gray" />
													</p:column>
													<p:ajax event="itemSelect" />
												</p:autoComplete>
											</div>
										</p:panelGrid>
									</p:fieldset>
		
									<p:fieldset legend="#{lang['postalAddress']}" style="margin-top: 20px">
										<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="legalGaurdianpostalAddress">
											<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank" disabled="#{learnerUsersUI.disableFields}">
												<p:selectBooleanCheckbox value="#{learnerUsersUI.copyAddress2}" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax update="legalGaurdianpostalAddress" listener="#{learnerUsersUI.clearPostal2}" />
												</p:selectBooleanCheckbox>
												<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="gray" />
											</p:panelGrid>
											<h:panelGroup id="legalGaurdianpostalAddressLine1Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress2}">
												<p:inputText id="legalGaurdianpostalAddressLine1" value="#{learnerUsersUI.legalGaurdianPostalAddress.addressLine1}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.1']}" for="legalGaurdianpostalAddressLine1" styleClass="gray" />
											</h:panelGroup>
											<h:panelGroup id="legalGaurdianpostalAddressLine2Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress2}">
												<p:inputText id="legalGaurdianpostalAddressLine2" value="#{learnerUsersUI.legalGaurdianPostalAddress.addressLine2}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.2']}" for="legalGaurdianpostalAddressLine2" styleClass="gray" />
											</h:panelGroup>
											<h:panelGroup id="legalGaurdianpostalAddressLine3Input" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress2}">
												<p:inputText id="legalGaurdianpostalAddressLine3" value="#{learnerUsersUI.legalGaurdianPostalAddress.addressLine3}" style="width:95%" required="false" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['address.line.3']}" for="legalGaurdianpostalAddressLine3" styleClass="gray" />
											</h:panelGroup>
		
											<h:panelGroup rendered="#{!learnerUsersUI.copyAddress2}">
												<div>
													<h:outputLabel value="#{lang['town']}" for="theTown2" styleClass="gray" />
												</div>
												<div>
													<p:autoComplete id="legalGaurdiantheTown2" value="#{learnerUsersUI.legalGaurdianPostalAddress.town}" completeMethod="#{autoCompleteUI.completeTown}" var="rv" itemLabel="#{rv.description}" itemValue="#{rv}" forceSelection="true" converter="TownConvertor" dropdown="true" minQueryLength="3" maxResults="10" inputStyle="width: 95%" style="width: 95%" required="true"
														disabled="#{learnerUsersUI.disableFields}" requiredMessage="#{lang['please.select.a.town']}">
														<p:column headerText="#{lang['town']}" style="white-space: nowrap">#{rv.description}</p:column>
														<p:ajax />
													</p:autoComplete>
												</div>
											</h:panelGroup>
		
		
											<h:panelGroup id="legalGaurdianpostalPcodeInput" styleClass="md-inputfield" rendered="#{!learnerUsersUI.copyAddress2}">
												<p:inputText id="legalGaurdianpostalPcode" value="#{learnerUsersUI.legalGaurdianPostalAddress.postcode}" style="width:95%" required="true" maxlength="30" disabled="#{learnerUsersUI.disableFields}">
													<p:ajax />
												</p:inputText>
												<p:outputLabel value="#{lang['post.code']}" for="legalGaurdianpostalPcode" styleClass="gray" />
											</h:panelGroup>
											<div>
												<p:autoComplete id="legalGaurdianpostalAddressMunicipalityID" placeholder="#{lang['municipality']}" rendered="#{!learnerUsersUI.copyAddress2}" value="#{learnerUsersUI.legalGaurdianPostalAddress.municipality}" completeMethod="#{autoCompleteUI.completeMunicipality}" var="rv" itemLabel="#{rv.municipalityProvince}" itemValue="#{rv}" forceSelection="true"
													converter="MunicipalityConvertor" dropdown="true" minQueryLength="3" maxResults="10" required="true" requiredMessage="#{lang['select.municipality']}" disabled="#{learnerUsersUI.disableFields}">
													<p:column headerText="#{lang['province']}" style="white-space: nowrap">
														<p:outputLabel value="#{rv.province.provinceDesc}" styleClass="gray" />
													</p:column>
													<p:column headerText="#{lang['municipality']}" style="white-space: nowrap">
														<p:outputLabel value="#{rv.municipalityDesc}" />
													</p:column>
													<p:ajax />
												</p:autoComplete>
											</div>
		
										</p:panelGrid>
									</p:fieldset>
								</p:panelGrid>
							</p:fieldset>									
						</p:outputPanel>			
				</p:fieldset>
				<div class="EmptyBox10" />
				<p:panelGrid columns="2" styleClass="ui-panelgrid-blank" style="width:100%">
					<p:commandButton value="#{lang['submit']}" icon="fa fa-check" styleClass="flat" action="#{learnerUsersUI.updateLearnerInformation}" update="mainForm" oncomplete="PF('updateDialog').hide()" />
				</p:panelGrid>			</h:form>
		</p:dialog>

	</ui:define>

</ui:composition>
