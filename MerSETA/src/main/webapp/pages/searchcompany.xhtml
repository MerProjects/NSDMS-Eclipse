<ui:composition xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">
	<ui:define name="content">
		<p:importEnum type="haj.com.entity.enums.CompanyStatusEnum"></p:importEnum>
		<p:importEnum type="haj.com.entity.enums.ApprovalEnum"></p:importEnum>
		<div class="ui-g">
			<div class="ui-g-12">
				<div class="card">
					<h:form id="hostingcompanydepartmentsInsForm">
						<p:growl showDetail="false" sticky="false" id="msg">
							<p:autoUpdate />
						</p:growl>
						<p:tooltip position="left" />
						<h1>Search Company</h1>
						<ui:include src="/pages/includes/filterGuide.xhtml" />
						<p:importEnum type="haj.com.entity.enums.CompanyStatusEnum" />
						<p:importEnum type="haj.com.entity.enums.UsersStatusEnum" />
						<p:dataTable var="rowVar" value="#{searchCompanyUI.dataModel}" id="siccodeList" rowKey="#{rowVar.id}" paginator="true" rows="10" paginatorPosition="bottom"
							paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="10,20,40" reflow="true" lazy="true" selectionMode="single" selection="#{searchCompanyUI.company}">
							<p:ajax event="rowSelect" update=":conpanyInfoForm " listener="#{searchCompanyUI.prepareCompayInfo()}" />
							<p:column headerText="#{lang['company.name']}" filterBy="#{rowVar.companyName}" sortBy="#{rowVar.companyName}" filterStyle="width: 95%">
								<h:outputText value="#{rowVar.companyName}" />
							</p:column>
							<p:column headerText="#{lang['tradingName']}" filterBy="#{rowVar.tradingName}" sortBy="#{rowVar.tradingName}" filterStyle="width: 95%">
								<h:outputText value="#{rowVar.tradingName}" />
							</p:column>
							<p:column headerText="#{lang['entity.id']}" filterBy="#{rowVar.levyNumber}" sortBy="#{rowVar.levyNumber}" filterStyle="width: 95%" width="10%">
								<h:outputText value="#{rowVar.levyNumber}" />
							</p:column>
							<p:column headerText="#{lang['status']}" sortBy="#{rowVar.companyStatus}" width="10%">
								<h:outputText value="#{lang[rowVar.companyStatus.registrationName]}" />
							</p:column>
							<p:column width="30">
								<p:commandButton icon="ui-icon-play-for-work" title="View companies tasks" action="#{taskTreeUI.taskForCompany}" oncomplete="PF('tasksForDialog').show()" update="tasksForForm" rendered="#{rowVar.companyStatus ne CompanyStatusEnum.Pending}">
									<f:setPropertyActionListener value="#{rowVar}" target="#{taskTreeUI.company}" />
								</p:commandButton>
							</p:column>
						</p:dataTable>
					</h:form>
					<br />
					<h:form id="conpanyInfoForm">
						<p:tabView rendered="#{searchCompanyUI.company.id != null}" id="mainTab">
							<!-- Company Info Tab -->
							<p:tab title="#{lang['company.details']}" id="companyDetailsTab">
								<h:panelGroup rendered="#{searchCompanyUI.company.companyName != null}">
									<p:importEnum type="haj.com.entity.enums.CompanyStatusEnum" var="companyStatusEnum" />
									<p:fieldset legend="#{lang['company.details']}">

										<h:graphicImage value="/resources/hls/images/green.svg" rendered="#{searchCompanyUI.company.companyStatus eq CompanyStatusEnum.Approved or searchCompanyUI.company.companyStatus eq CompanyStatusEnum.Active}" width="40" />
										<h:graphicImage value="/resources/hls/images/red.svg" rendered="#{searchCompanyUI.company.companyStatus eq CompanyStatusEnum.Rejected or searchCompanyUI.company.companyStatus eq CompanyStatusEnum.InActive}" width="40" styleClass="animated pulse infinite" />
										<h:graphicImage value="/resources/hls/images/orange.svg" rendered="#{searchCompanyUI.company.companyStatus eq CompanyStatusEnum.Pending}" width="40" styleClass="animated pulse infinite" />
										<h:graphicImage value="/resources/hls/images/amber.svg" rendered="#{searchCompanyUI.company.companyStatus eq CompanyStatusEnum.PendingChangeApproval}" width="40" styleClass="animated pulse infinite" />

										<br />
										<label>Status : #{lang[searchCompanyUI.company.companyStatus.registrationName]}</label>
										<hr />

										<p:panelGrid columns="3" style="width : 100%" styleClass="ui-panelgrid-blank" layout="grid" id="companyInfo">
											<h:panelGroup>
												<p:outputLabel value="#{lang['company.name']}" for="companyName" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="companyName" value="#{searchCompanyUI.company.companyName}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['tradingName']}" for="tradingName" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="tradingName" value="#{searchCompanyUI.company.tradingName}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['reg.number']}" for="regNumber" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="regNumber" value="#{searchCompanyUI.company.companyRegistrationNumber}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['levy.number']}" for="levyNum" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="levyNum" value="#{searchCompanyUI.company.levyNumber}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['tel.number']}" for="tel" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="tel" value="#{searchCompanyUI.company.telNumber}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['fax.number']}" for="fax" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="fax" value="#{searchCompanyUI.company.faxNumber}" rendered="#{searchCompanyUI.company.faxNumber ne null and searchCompanyUI.company.faxNumber ne ''}" style="width:95%" />
												<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.faxNumber eq null or searchCompanyUI.company.faxNumber eq ''}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['email.address']}" for="email" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="email" value="#{searchCompanyUI.company.email}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['sic.code']}" for="sicCode" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="sicCode" value="#{searchCompanyUI.company.sicCode.description}" style="width:95%" rendered="#{searchCompanyUI.company.sicCode ne null}" />
												<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.sicCode eq null}" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['chamber']}" for="chamberDisplay" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.sicCode eq null or searchCompanyUI.company.sicCode.chamber eq null}" />
												<p:outputLabel id="chamberDisplay" value="#{searchCompanyUI.company.sicCode.chamber.description}" style="width:95%" rendered="#{searchCompanyUI.company.sicCode ne null and searchCompanyUI.company.sicCode.chamber ne null}" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['organisation.type']}" for="orgType" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.organisationType eq null}" />
												<p:outputLabel id="orgType" value="#{searchCompanyUI.company.organisationType.description}" style="width:95%" rendered="#{searchCompanyUI.company.organisationType ne null}" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['numberOfEmployees']}" for="orgTypea" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel id="orgTypea" value="#{searchCompanyUI.company.numberOfEmployees}" style="width:95%" />
											</h:panelGroup>
											<h:panelGroup>
												<p:outputLabel value="#{lang['recognition.agreement']}" for="recAgr" styleClass="Fs12 FontLight" />
												<br />
												<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.recognitionAgreement eq null}" style="width:95%" />
												<p:outputLabel id="recAgr" value="#{searchCompanyUI.company.recognitionAgreement.yesNoName}" style="width:95%" rendered="#{searchCompanyUI.company.recognitionAgreement ne null}" />
											</h:panelGroup>
											<p:spacer />
											<p:commandButton styleClass="flat green-btn" value="Remittance Advice" rendered="#{searchCompanyUI.company.companyStatus ne companyStatusEnum.Pending}" update="@form" icon="fa fa-download" immediate="true" ajax="false" action="#{searchCompanyUI.downloadRemittanceAdvice}"  />
											<p:commandButton icon="ui-icon-email" value="View email log" rendered="#{searchCompanyUI.company.companyStatus ne companyStatusEnum.Pending and false}" action="#{searchCompanyUI.findMailLog}" update="@form :mailForm" oncomplete="PF('mailLogDlg').show()" />
											<p:commandButton id="viewCompanyEmails" icon="ui-icon-email" value="View email log" rendered="#{searchCompanyUI.company.companyStatus ne companyStatusEnum.Pending}" action="#{searchCompanyUI.findMailLogVersionTwo}" update="@form :mailFormV2" />
										</p:panelGrid>
									</p:fieldset>

									<!--  Address info -->
									<h:panelGroup>
										<p:fieldset legend="#{lang['address']}">
											<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank">
												<p:fieldset legend="#{lang['residentialAddress']}">
													<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="residentialAddress">
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.1']}" for="address1" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="address1" value="#{searchCompanyUI.company.residentialAddress.addressLine1}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.addressLine1 eq null or searchCompanyUI.company.residentialAddress.addressLine1.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.2']}" for="address2" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="address2" value="#{searchCompanyUI.company.residentialAddress.addressLine2}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.addressLine2 eq null or searchCompanyUI.company.residentialAddress.addressLine2.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.3']}" for="address4" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="address4" value="#{searchCompanyUI.company.residentialAddress.addressLine4}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.addressLine4 eq null or searchCompanyUI.company.residentialAddress.addressLine4.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.4']}" for="address3" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="address3" value="#{searchCompanyUI.company.residentialAddress.addressLine3}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.addressLine3 eq null or searchCompanyUI.company.residentialAddress.addressLine3.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['post.code']}" for="addressPcode" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="addressPcode" style="width:95%" value="#{searchCompanyUI.company.residentialAddress.postcode}" rendered="#{searchCompanyUI.company.residentialAddress.postcode ne null and searchCompanyUI.company.residentialAddress.postcode.length() gt 0}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.postcode eq null or searchCompanyUI.company.residentialAddress.postcode.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['town.area']}" for="addressTown" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.residentialAddress.town eq null and false}" />
															<p:outputLabel id="addressTown" value="#{searchCompanyUI.company.residentialAddress.town.description}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.town ne null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['municipality']}" for="addressMunicipality" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.residentialAddress.municipality eq null and false}" />
															<p:outputLabel id="addressMunicipality" value="#{searchCompanyUI.company.residentialAddress.municipality.municipalityDesc}" style="width:95%" rendered="#{searchCompanyUI.company.residentialAddress.municipality ne null}" />
														</h:panelGroup>
														<h:panelGroup>
															<h:outputLabel value="#{lang['province.name']}" for="addressProvince" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="addressProvince" style="width:95%" value="#{searchCompanyUI.company.residentialAddress.municipality.province.provinceDesc}" />
														</h:panelGroup>
														<h:panelGroup>
															<div class="EmptyBox40"></div>
														</h:panelGroup>
													</p:panelGrid>
												</p:fieldset>
												<p:fieldset legend="#{lang['postalAddress']}">
													<p:panelGrid columns="1" style="width : 100%" styleClass="ui-panelgrid-blank" id="postalAddress">
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.1']}" for="postalAddress1" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddress1" value="#{searchCompanyUI.company.postalAddress.addressLine1}" style="width:95%" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.2']}" for="postalAddress2" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddress2" value="#{searchCompanyUI.company.postalAddress.addressLine2}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.addressLine2 eq null or searchCompanyUI.company.postalAddress.addressLine2.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.3']}" for="postalAddress4" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddress4" value="#{searchCompanyUI.company.postalAddress.addressLine4}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.addressLine4 eq null or searchCompanyUI.company.postalAddress.addressLine4.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['address.line.4']}" for="postalAddress3" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddress3" value="#{searchCompanyUI.company.postalAddress.addressLine3}" style="width:95%" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.addressLine3 eq null or searchCompanyUI.company.postalAddress.addressLine3.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressPcode" style="width:95%" value="#{searchCompanyUI.company.postalAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}" />
															<p:outputLabel value="#{lang['n.a']}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.postcode eq null or searchCompanyUI.company.postalAddress.postcode.length() eq 0}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['town.area']}" for="postalAddressTown" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.postalAddress.town eq null and false}" />
															<p:outputLabel id="postalAddressTown" value="#{searchCompanyUI.company.postalAddress.town.description}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.town ne null}" />
														</h:panelGroup>
														<h:panelGroup>
															<p:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipality" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel value="#{lang['n.a']}" rendered="#{searchCompanyUI.company.postalAddress.municipality eq null and false}" />
															<p:outputLabel id="postalAddressMunicipality" value="#{searchCompanyUI.company.postalAddress.municipality.municipalityDesc}" style="width:95%" rendered="#{searchCompanyUI.company.postalAddress.municipality ne null}" />
														</h:panelGroup>
														<h:panelGroup>
															<h:outputLabel value="#{lang['province.name']}" for="postalAddressProvince" styleClass="Fs12 FontLight" />
															<br />
															<p:outputLabel id="postalAddressProvince" style="width:95%" value="#{searchCompanyUI.company.postalAddress.municipality.province.provinceDesc}" />
														</h:panelGroup>
														<h:panelGroup>
															<div>
																<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="Fs12 FontLight" />
															</div>
															<div>
																<p:selectBooleanCheckbox value="#{searchCompanyUI.company.postalAddress.sameAddress}" disabled="true">
																</p:selectBooleanCheckbox>
															</div>
														</h:panelGroup>
													</p:panelGrid>
												</p:fieldset>
											</p:panelGrid>
										</p:fieldset>
									</h:panelGroup>
								</h:panelGroup>
							</p:tab>

							<!-- Contact Person Tab -->
							<p:tab title="#{lang['contact.person']}" id="contactPersonsTab">
								<p:dataTable id="contactPersonTable" var="rowVar" value="#{searchCompanyUI.companyUsers}" rowKey="#{rowVar.id}" paginator="true" rows="5" emptyMessage="#{lang['no.records.found']}" paginatorPosition="bottom"
									paginatorTemplate="#{lang['page']} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
									<p:column headerText="#{lang['expand.row']}" width="45">
										<p:rowToggler></p:rowToggler>
									</p:column>
									<p:column headerText="#{lang['contact.person']}">
										<p:outputLabel value="#{rowVar.user.firstName} #{rowVar.user.lastName}"></p:outputLabel>
									</p:column>
									<p:column headerText="#{lang['rsapassport.number']}">
										<p:outputLabel value="#{rowVar.user.rsaIDNumber}" rendered="#{rowVar.user.rsaIDNumber.length() > 0}" />
										<p:outputLabel value="#{rowVar.user.passportNumber}" rendered="#{rowVar.user.passportNumber.length() > 0}" />
									</p:column>
									<p:column headerText="#{lang['email']}">
										<p:outputLabel value="#{rowVar.user.email}"></p:outputLabel>
									</p:column>
									<p:column headerText="#{lang['contact.person.type']}">
										<p:outputLabel value="#{lang[rowVar.companyUserType.type]}" rendered="#{rowVar.companyUserType ne null}"></p:outputLabel>
										<p:outputLabel value="#{rowVar.position.description}" rendered="#{rowVar.position ne null}"></p:outputLabel>
									</p:column>

									<p:column headerText="Confirmation Status" width="110" style="text-align:center">
										<p:outputPanel rendered="#{rowVar.user.emailConfirmDate eq null}">
											<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rowVar.user.emailConfirmDate ne null}">
											<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
										</p:outputPanel>
									</p:column>

									<p:column headerText="#{lang['user.responsibility']}">
										<ul>
											<p:repeat var="rv1" value="#{rowVar.selectedResponsibilities}">
												<li>#{rv1.userResponsibility.description}</li>
											</p:repeat>
										</ul>
									</p:column>
									<p:rowExpansion>
										<p:panelGrid columns="3" style="width:100%" id="s" layout="grid" styleClass="ui-panelgrid-blank form-group">

											<h:panelGroup>
												<h:outputText value="#{lang['contact.person']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.firstName} #{rowVar.user.lastName}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['email']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.email}" />
											</h:panelGroup>

											<h:panelGroup>
												<h:outputText value="#{lang['tel.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.telNumber}" />

											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['cell.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.cellNumber}" />
											</h:panelGroup>

											<h:panelGroup>
												<h:outputText value="#{lang['fax.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.faxNumber}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['work.contact.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.user.workContactNumber}" />
											</h:panelGroup>
										</p:panelGrid>
										<p:panelGrid columns="2" style="width:100%" id="sa" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="false">
											<p:fieldset legend="#{lang['residentialAddress']}">
												<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="addrPcode">
													<h:panelGroup>
														<p:outputLabel value="#{lang['address.line.1']}" for="addr1" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="addr1" value="#{rowVar.user.residentialAddress.addressLine1}" style="width:95%; opacity:1 !important" required="true" requiredMessage="#{lang['enter.residential.address']}" />
														<br />
														<p:outputLabel value="#{lang['address.line.2']}" for="addr2" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine2 eq null or rowVar.user.residentialAddress.addressLine2.length() eq 0}" />
														<p:outputLabel id="addr2" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine2}" rendered="#{rowVar.user.residentialAddress.addressLine2 ne null and rowVar.user.residentialAddress.addressLine2.length() gt 0}" />
													</h:panelGroup>
													<h:panelGroup>
														<p:outputLabel value="#{lang['address.line.3']}" for="addr3" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="addr3" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine3}" rendered="#{rowVar.user.residentialAddress.addressLine3 ne null and rowVar.user.residentialAddress.addressLine3.length() gt 0}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine3 eq null or rowVar.user.residentialAddress.addressLine3.length() eq 0}" />
														<br />
														<p:outputLabel value="#{lang['address.line.4']}" for="addr4" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="addr4" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.addressLine4}" rendered="#{rowVar.user.residentialAddress.addressLine4 ne null and rowVar.user.residentialAddress.addressLine4.length() gt 0}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.addressLine4 eq null or rowVar.user.residentialAddress.addressLine4.length() eq 0}" />
													</h:panelGroup>
													<h:panelGroup>
														<p:outputLabel value="#{lang['post.code']}" for="pcode" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="pcode" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.postcode}" rendered="#{rowVar.user.residentialAddress.postcode ne null and rowVar.user.residentialAddress.postcode.length() gt 0}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.residentialAddress.postcode eq null or rowVar.user.residentialAddress.postcode.length() eq 0}" />
														<br />
														<h:outputLabel value="#{lang['municipality']}" for="MunicipalityID" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="MunicipalityID" style="width:95%; opacity:1 !important" value="#{rowVar.user.residentialAddress.municipality.municipalityDesc}" />
													</h:panelGroup>

													<h:panelGroup>
														<div class="EmptyBox40"></div>
													</h:panelGroup>
												</p:panelGrid>
											</p:fieldset>

											<p:fieldset legend="#{lang['postalAddress']}">
												<p:panelGrid columns="2" style="width : 95%" styleClass="ui-panelgrid-blank" id="postalAddress">
													<h:panelGroup>
														<p:outputLabel value="#{lang['address.line.1']}" for="postalAddressaddr1" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressaddr1" value="#{rowVar.user.postalAddress.addressLine1}" style="width:95%; opacity:1 !important" required="true" requiredMessage="#{lang['enter.postal.address']}" />
														<br />
														<p:outputLabel value="#{lang['address.line.2']}" for="postalAddressaddr2" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressaddr2" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine2}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine2 eq null or rowVar.user.postalAddress.addressLine2.length() eq 0}" />
													</h:panelGroup>
													<h:panelGroup>
														<p:outputLabel value="#{lang['address.line.3']}" for="postalAddressaddr3" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressaddr3" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine3}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine3 eq null or rowVar.user.postalAddress.addressLine3.length() eq 0}" />
														<br />
														<p:outputLabel value="#{lang['address.line.4']}" for="postalAddressaddr4" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressaddr4" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.addressLine4}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.addressLine4 eq null or rowVar.user.postalAddress.addressLine4.length() eq 0}" />
													</h:panelGroup>
													<h:panelGroup>
														<p:outputLabel value="#{lang['post.code']}" for="postalAddressPcode" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressPcode" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.postcode}" required="true" requiredMessage="#{lang['provide.postcode']}" />
														<p:outputLabel value="#{lang['n.a']}" style="width:95%; opacity:1 !important" rendered="#{rowVar.user.postalAddress.postcode eq null or rowVar.user.postalAddress.postcode.length() eq 0}" />
														<br />
														<h:outputLabel value="#{lang['municipality']}" for="postalAddressMunicipalityID" styleClass="Fs12 FontLight" />
														<br />
														<p:outputLabel id="postalAddressMunicipalityID" style="width:95%; opacity:1 !important" value="#{rowVar.user.postalAddress.municipality.municipalityDesc}" />
													</h:panelGroup>

													<h:panelGroup>
														<div>
															<p:outputLabel value="#{lang['same.as.my.address']}" styleClass="Fs12 FontLight" />
														</div>
														<div>
															<p:selectBooleanCheckbox value="#{rowVar.user.postalAddress.sameAddress}" disabled="true">
															</p:selectBooleanCheckbox>
														</div>
													</h:panelGroup>
												</p:panelGrid>
											</p:fieldset>
										</p:panelGrid>
									</p:rowExpansion>
								</p:dataTable>
							</p:tab>
							<!--  Employees Tab -->
							<p:tab title="#{lang['employees']}" id="employeesTab">
								<p:dataTable var="rowVar" value="#{searchCompanyUI.empDataModel}" id="aemployeesList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
									paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
									<p:column headerText="#{lang['expand.row']}" width="45">
										<p:rowToggler />
									</p:column>
									<p:column headerText="#{lang['id.type']}" rendered="false">
										<h:outputText value="#{rowVar.idType.friendlyName}" />
									</p:column>

									<p:column headerText="#{lang['employee.id']}" rendered="false">
										<h:outputText value="#{rowVar.rsaIDNumber}" />
										<h:outputText value="#{rowVar.passportNumber}" />
									</p:column>

									<p:column headerText="#{lang['first.name']}">
										<h:outputText value="#{rowVar.firstName}" />
									</p:column>

									<p:column headerText="#{lang['last.name']}" filterBy="#{rowVar.lastName}" filterStyle="width: 98%" sortBy="#{rowVar.lastName}">
										<h:outputText value="#{rowVar.lastName}" />
									</p:column>

									<p:column headerText="#{lang['date.of.birth']}">
										<h:outputText value="#{rowVar.dateOfBirth}">
											<f:convertDateTime pattern="yyyy-MM-dd" />
										</h:outputText>
									</p:column>

									<p:column headerText="#{lang['gender']}">
										<h:outputText value="#{rowVar.gender.genderName}" />
									</p:column>

									<p:column headerText="#{lang['equity']}">
										<h:outputText value="#{rowVar.equity.description}" />
									</p:column>

									<p:column headerText="#{lang['nationality']}">
										<h:outputText value="#{rowVar.nationality.description}" />
									</p:column>


									<p:rowExpansion>
										<p:panelGrid columns="4" layout="grid">

											<p:outputLabel styleClass="FontBold" value="#{lang['municipality']}" />
											<h:outputText value="#{rowVar.municipality.municipalityDesc}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['disability']}" />
											<h:outputText value="#{rowVar.disability.description}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['employment.type']}" />
											<h:outputText value="#{rowVar.employmentType.description}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['employment.status']}" />
											<h:outputText value="#{rowVar.employmentStatus}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['ofo.code']}" />
											<h:outputText value="#{rowVar.ofoCode.description}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['job.title']}" />
											<h:outputText value="#{rowVar.jobTitle}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['occupation.category']}" />
											<h:outputText value="#{rowVar.occupationCategory.description}" />


											<p:outputLabel styleClass="FontBold" value="#{lang['highest.qual.title']}" />
											<h:outputText value="#{rowVar.highestQualTitle.description}" />

										</p:panelGrid>
									</p:rowExpansion>
								</p:dataTable>
							</p:tab>

							<!--  SDF Tab -->
							<p:tab title="#{lang['sdf.management']}" id="sdfManagemntTab">
								<p:dataTable var="rowVar" value="#{searchCompanyUI.sdfDataModel}" id="userList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
									paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
									<p:column headerText="#{lang['first.name']}">
										<h:outputText value="#{rowVar.sdf.firstName}" />
									</p:column>
									<p:column headerText="#{lang['surname']}">
										<h:outputText value="#{rowVar.sdf.lastName}" />
									</p:column>
									<p:column headerText="#{lang['rsapassport.number']}">
										<p:outputLabel value="#{rowVar.sdf.rsaIDNumber}" rendered="#{rowVar.sdf.rsaIDNumber.length() > 0}" />
										<p:outputLabel value="#{rowVar.sdf.passportNumber}" rendered="#{rowVar.sdf.passportNumber.length() > 0}" />
									</p:column>
									<p:column headerText="#{lang['email']}">
										<h:outputText value="#{rowVar.sdf.email}" />
									</p:column>
									<p:column headerText="#{lang['sdf.type']}">
										<h:outputText value="#{rowVar.sdfType.description}" />
									</p:column>
									<p:column headerText="Confirmation Status" width="110" style="text-align:center">
										<p:outputPanel rendered="#{rowVar.sdf.status ne UsersStatusEnum.Active}">
											<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rowVar.sdf.status eq UsersStatusEnum.Active}">
											<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rowVar.sdf.emailConfirmDate eq null} and false">
											<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rowVar.sdf.emailConfirmDate ne null} and false">
											<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
										</p:outputPanel>
									</p:column>

									<p:column headerText="Confirmation Date" width="110">
										<p:outputLabel value="#{rowVar.sdf.emailConfirmDate}">
											<f:convertDateTime pattern="yyyy-MM-dd" />
										</p:outputLabel>
									</p:column>

									<p:column headerText="Profile Status" width="110">
										<p:outputLabel value="#{rowVar.sdf.status.friendlyName}" />
									</p:column>
									<p:column width="7%">
										<p:commandButton title="View Documents Against SDF" action="#{searchCompanyUI.viewSdfDocumnets}" icon="fa fa-cloud-upload">
											<f:setPropertyActionListener value="#{rowVar}" target="#{searchCompanyUI.selectedSdfCompany}" />
										</p:commandButton>
									</p:column>
								</p:dataTable>

								<p:panelGrid columns="3" style="width : 100%" styleClass="ui-panelgrid-blank" layout="grid">
									<p:commandButton icon="fa fa-bars" value="View Company SDF History" action="#{searchCompanyUI.sdfCompanyHistortInfo}" rendered="true" update="@form" />
								</p:panelGrid>

								<p:dataTable rendered="#{searchCompanyUI.sdfHistory eq true}" value="#{searchCompanyUI.sdfCompanyHistory}" var="rv" rowKey="#{rv.id}" paginator="true" rows="5" paginatorPosition="bottom"
									paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="2,5" reflow="true">
									<p:column headerText="#{lang['first.name']}">
										<h:outputText value="#{rv.sdf.firstName}" />
									</p:column>
									<p:column headerText="#{lang['last.name']}">
										<h:outputText value="#{rv.sdf.lastName}" />
									</p:column>
									<p:column headerText="#{lang['rsapassport.number']}">
										<p:outputLabel value="#{rv.sdf.rsaIDNumber}" rendered="#{rv.sdf.rsaIDNumber.length() > 0}" />
										<p:outputLabel value="#{rv.sdf.passportNumber}" rendered="#{rv.sdf.passportNumber.length() > 0}" />
									</p:column>
									<p:column headerText="#{lang['email']}">
										<h:outputText value="#{rv.sdf.email}" />
									</p:column>
									<p:column headerText="#{lang['sdf.type']}">
										<h:outputText value="#{rv.sdfType.description}" />
									</p:column>
									<p:column headerText="Confirmation Status" width="110" style="text-align:center">
										<p:outputPanel rendered="#{rv.sdf.status ne UsersStatusEnum.Active}">
											<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rv.sdf.status eq UsersStatusEnum.Active}">
											<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rv.sdf.emailConfirmDate eq null} and false">
											<i class="fa fa-times fa-3x red" aria-hidden="true"></i>
										</p:outputPanel>
										<p:outputPanel rendered="#{rv.sdf.emailConfirmDate ne null} and false">
											<i class="fa fa-check fa-3x green" aria-hidden="true"></i>
										</p:outputPanel>
									</p:column>
									<p:column headerText="Confirmation Date" width="110">
										<p:outputLabel value="#{rv.createDate}">
											<f:convertDateTime pattern="yyyy-MM-dd" />
										</p:outputLabel>
									</p:column>
									<p:column headerText="Profile Status" width="110">
										<p:outputLabel value="#{rv.sdf.status.friendlyName}" />
									</p:column>
								</p:dataTable>
							</p:tab>

							<!--  Banking Details Tab -->
							<p:tab title="#{lang['banking.details']}" id="bankDetailsTab">
								<!-- Latest Banking details -->
								<p:fieldset legend="#{bankingdetailsUI.company.companyName} #{lang['latest.banking.details']}" rendered="#{searchCompanyUI.bankingDetails ne null}">
									<p:panelGrid columns="4" style="width : 95%" styleClass="ui-panelgrid-blank" id="bankingDetailsInfo">
										<h:panelGroup>
											<p:outputLabel value="#{lang['bank']}" for="bank" styleClass="Fs12 FontLight" />
											<br />
											<p:outputLabel id="bank" value="#{searchCompanyUI.bankingDetails.bank.description}" style="width:95%" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="#{lang['createDate']}" for="dateCreatedID" styleClass="Fs12 FontLight" />
											<br />
											<p:outputLabel id="dateCreatedID" value="#{searchCompanyUI.bankingDetails.createDate}" style="width:95%">
												<f:convertDateTime pattern="dd MMMM yyyy (HH:mm:ss)" />
											</p:outputLabel>
										</h:panelGroup>

										<h:panelGroup rendered="false">
											<p:outputLabel value="Banking Details Status On GP:" styleClass="Fs20" />
											<br />
											<p:outputLabel value="Active" styleClass="Fs20 FontBold green" style="width: 95%;" rendered="#{!searchCompanyUI.vendor.detailsOnHold}" />
											<p:outputLabel value="On Hold" styleClass="Fs20 FontBold red" style="width: 95%;" rendered="#{searchCompanyUI.vendor.detailsOnHold}" />
										</h:panelGroup>



										<h:panelGroup>
											<p:outputLabel value="#{lang['bankAccNumber']}" for="bankAccNumberID"
												styleClass="#{searchCompanyUI.vendor eq null or searchCompanyUI.vendor.taxRegistrationNumber eq '' ? 'FontBold Fs20 orange' : searchCompanyUI.bankingDetails.bankAccNumber ne searchCompanyUI.vendor.taxRegistrationNumber ? 'FontBold Fs20 red': 'FontBold Fs20 green'}" />
											<br />
											<p:outputLabel id="bankAccNumberID" value="#{searchCompanyUI.bankingDetails.maskedBankAccNumber}" style="width:95%"
												styleClass="#{searchCompanyUI.vendor eq null or searchCompanyUI.vendor.taxRegistrationNumber eq '' ? 'FontBold Fs20 orange' : searchCompanyUI.bankingDetails.bankAccNumber ne searchCompanyUI.vendor.taxRegistrationNumber ?'FontBold Fs20 red':'FontBold Fs20 green'}" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="GP #{lang['bankAccNumber']}" for="gpbankAccNumberID"
												styleClass="#{searchCompanyUI.vendor eq null or searchCompanyUI.vendor.taxRegistrationNumber eq '' ? 'FontBold Fs20 orange' : searchCompanyUI.bankingDetails.bankAccNumber ne searchCompanyUI.vendor.taxRegistrationNumber ? 'FontBold Fs20 red': 'FontBold Fs20 green'}" />
											<br />
											<p:outputLabel id="gpbankAccNumberID" value="#{searchCompanyUI.vendor.maskedBankAccNumber}" style="width:95%" styleClass="#{searchCompanyUI.bankingDetails.bankAccNumber ne searchCompanyUI.vendor.taxRegistrationNumber ?'FontBold Fs20 red': 'FontBold Fs20 green'}" />
											<p:outputLabel id="gpbankAccNumberID2" value="N/A" style="width:95%" styleClass="FontBold Fs20 orange" rendered="#{searchCompanyUI.vendor eq null or searchCompanyUI.vendor.taxRegistrationNumber eq ''}" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="#{lang['branchCode']}" for="branchCodeID" styleClass="Fs12 FontLight" />
											<br />
											<p:outputLabel id="branchCodeID" value="#{searchCompanyUI.bankingDetails.branchCode}" style="width:95%" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="GP Branch Code" for="gpbankID" />
											<br />
											<p:outputLabel id="gpbankID" value="#{searchCompanyUI.vendor.taxIdentificationNumber}" style="width:95%" rendered="#{searchCompanyUI.vendor ne null}" />
											<p:outputLabel id="gpbankID2" value="N/A" style="width:95%" rendered="#{searchCompanyUI.vendor eq null or searchCompanyUI.vendor.taxRegistrationNumber eq ''}" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="#{lang['bankHolder']}" for="bankHolderID" styleClass="Fs12 FontLight" />
											<br />
											<p:outputLabel id="bankHolderID" value="#{searchCompanyUI.bankingDetails.bankHolder}" style="width:95%" />
										</h:panelGroup>

										<h:panelGroup>
											<p:outputLabel value="#{lang['status']}" for="statusID" styleClass="Fs12 FontLight" />
											<br />
											<p:outputLabel id="statusID" value="#{searchCompanyUI.bankingDetails.status.friendlyName}" style="width:95%" />
										</h:panelGroup>
									</p:panelGrid>

									<div class="EmptyBox10" />

									<p:panelGrid columns="4" style="width : 95%" styleClass="ui-panelgrid-blank" id="bankingDetailsDocs">
										<p:dataTable value="#{searchCompanyUI.bankingDetails.docs}" var="rv1" emptyMessage="#{lang['no.records.found']}" rowKey="#{rv1.id}">
											<f:facet name="header">Documents</f:facet>
											<p:column headerText="#{lang['type']}" width="18%">#{rv1.configDoc.name}</p:column>
											<p:column headerText="#{lang['original.file.name']}" priority="4">
												<p:outputLabel value="#{rv1.originalFname}" styleClass="Fs12"></p:outputLabel>
											</p:column>
											<p:column headerText="#{lang['uploaded.by']}">#{rv1.users.firstName} #{rv1.users.lastName}</p:column>
											<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
												<h:outputText value="#{rv1.createDate}">
													<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
												</h:outputText>
											</p:column>
											<p:column headerText="#{lang['version']}" width="10%" priority="4">
												<h:outputText value="#{rv1.versionNo}">
												</h:outputText>
											</p:column>
											<p:column headerText="#{lang['original.required']}">
												<center>
													<h:panelGroup rendered="#{rv1.configDoc.originalRequired}" styleClass="green">
														<i class="fa fa-files-o fa-3x" aria-hidden="true"></i>
													</h:panelGroup>
													<h:panelGroup rendered="#{not rv1.configDoc.originalRequired}" styleClass="red">
														<i class="fa fa-times fa-3x" aria-hidden="true"></i>
													</h:panelGroup>
												</center>
											</p:column>
											<p:column width="180">
												<p:commandButton ajax="false" icon="fa fa-download " action="#{uploadDocUI.download}" id="dlb" rendered="#{rv1.id ne null}">
													<f:setPropertyActionListener value="#{rv1}" target="#{uploadDocUI.doc}" />
													<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rv1.id ne null}" />
												</p:commandButton>
												<p:spacer width="5" rendered="#{rv1.id ne null}" />
											</p:column>
										</p:dataTable>
									</p:panelGrid>

									<div class="EmptyBox10" />

									<c:if test="#{searchCompanyUI.bankingDetails ne null and searchCompanyUI.bankingDetails.id ne null}">
										<p:panelGrid columns="1" style="width : 95%" styleClass="ui-panelgrid-blank">
											<h3>Task History For: #{lang['latest.banking.details']}</h3>
											<ui:include src="/pages/includes/taskInformationInclude.xhtml">
												<ui:param name="TaskList" value="#{searchCompanyUI.dataModelBankingDetailsTasks}" />
												<ui:param name="CALENDER_PATTERN" value="#{autoCompleteUI.CALENDER_PATTERN}" />
											</ui:include>
										</p:panelGrid>
									</c:if>

								</p:fieldset>
								<br />
								<p:dataTable var="rowVar" value="#{searchCompanyUI.bankingDetailsList}" rendered="#{searchCompanyUI.bankingDetailsList.size() gt 0}" id="bankingdetailsList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
									paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
									<f:facet name="header">#{lang['previous.banking.details']}</f:facet>
									<p:column headerText="#{lang['bank']}">
										<h:outputText value="#{rowVar.bank.description}" />
									</p:column>
									<p:column headerText="#{lang['createDate']}">
										<h:outputText value="#{rowVar.createDate}">
											<f:convertDateTime pattern="dd MMMM yyyy (HH:mm:ss)" />
										</h:outputText>
									</p:column>
									<p:column headerText="#{lang['bankAccNumber']}">
										<h:outputText value="#{rowVar.maskedBankAccNumber}" />
									</p:column>
									<p:column headerText="#{lang['branchCode']}">
										<h:outputText value="#{rowVar.branchCode}" />
									</p:column>
									<p:column headerText="#{lang['bankHolder']}">
										<h:outputText value="#{rowVar.bankHolder}" />
									</p:column>
									<p:column headerText="#{lang['status']}">
										<p:outputLabel value="#{rowVar.status.friendlyName}"></p:outputLabel>
									</p:column>
									<p:column headerText="Reject reasons">
										<p:outputLabel value="#{rowVar.rejectReasons}"></p:outputLabel>
									</p:column>
								</p:dataTable>
							</p:tab>

							<!--  Documents Tab -->
							<p:tab id="documents" title="#{lang['documents']}">
								<p:dataTable value="#{searchCompanyUI.company.docs}" var="rvcd" emptyMessage="#{lang['no.records.found']}" rowKey="#{rvcd.id}">
									<p:column headerText="#{lang['type']}" width="18%">#{rvcd.configDoc.name}</p:column>
									<p:column headerText="#{lang['original.file.name']}" priority="4">
										<p:outputLabel value="#{rvcd.originalFname}" styleClass="Fs12"></p:outputLabel>
									</p:column>
									<p:column headerText="#{lang['uploaded.by']}">#{rvcd.users.firstName} #{rvcd.users.lastName}</p:column>
									<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
										<h:outputText value="#{rvcd.createDate}">
											<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
										</h:outputText>
									</p:column>
									<p:column headerText="#{lang['version']}" width="10%" priority="4">
										<h:outputText value="#{rvcd.versionNo}">
										</h:outputText>
									</p:column>
									<p:column headerText="#{lang['approval.status']}" width="10%" priority="4">
										<h:outputText value="#{rvcd.approvalStatus.friendlyName}">
										</h:outputText>
									</p:column>
									<p:column width="180">
										<p:commandButton immediate="true" process="@this" ajax="false" icon="fa fa-download " action="#{uploadDocUI.download}" id="dlb" rendered="#{rvcd.id ne null}">
											<f:setPropertyActionListener value="#{rvcd}" target="#{uploadDocUI.doc}" />
											<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rvcd.id ne null}" />
										</p:commandButton>
										<p:spacer width="5" />
									</p:column>
								</p:dataTable>
							</p:tab>

							<!--  Linked Companies Tab -->
							<p:tab title="#{lang['linked.companies']}" id="linkedCompaniesTab">


								<p:dataTable var="rowVar" id="companyList" rowKey="#{rowVar.id}" value="#{searchCompanyUI.linkedCompanies}" emptyMessage="#{lang['no.records.found']}" reflow="true" rendered="#{searchCompanyUI.linkedCompanies.size() gt 0}">

									<p:column headerText="#{lang['companyName']}">
										<h:outputText value="#{rowVar.companyName}" />
									</p:column>
									<p:column headerText="#{lang['sdl.number']}">
										<h:outputText value="#{rowVar.levyNumber}" />
									</p:column>
									<p:column headerText="#{lang['telNumber']}">
										<h:outputText value="#{rowVar.telNumber}" />
									</p:column>
									<p:column headerText="#{lang['company.status']}">
										<h:outputText value="#{lang[rowVar.companyStatus.registrationName]}" />
									</p:column>

								</p:dataTable>

								<c:if test="#{searchCompanyUI.linkedCompanies.size() eq 0}">
									<h4>#{lang['no.other.companies.have.been.linked.to.the.company']}</h4>
								</c:if>

							</p:tab>

							<!--  Training Committee Tab -->
							<p:tab title="#{lang['training.comittee']}" id="trainingCommitteeTab">

								<p:dataTable var="rowVar" value="#{searchCompanyUI.trainingComittees}" rendered="#{searchCompanyUI.trainingComittees.size() gt 0}" id="trainingcomitteeList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" emptyMessage="#{lang['no.records.found']}"
									paginatorTemplate="#{lang['page']} {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true">
									<p:column headerText="#{lang['expand.row']}" width="45">
										<p:rowToggler></p:rowToggler>
									</p:column>
									<p:column headerText="#{lang['first.name']}">
										<h:outputText value="#{rowVar.firstName}" />
									</p:column>
									<p:column headerText="#{lang['last.name']}">
										<h:outputText value="#{rowVar.lastName}" />
									</p:column>
									<p:column headerText="#{lang['rsa.id.number']}">
										<h:outputText value="#{rowVar.rsaIDNumber}" />
									</p:column>
									<p:column headerText="#{lang['passport.number']}">
										<h:outputText value="#{rowVar.passportNumber}" />
									</p:column>
									<p:column headerText="#{lang['email']}">
										<h:outputText value="#{rowVar.email}" />
									</p:column>
									<p:column headerText="#{lang['union.name']}">
										<h:outputText value="#{rowVar.unionName}" />
									</p:column>

									<p:rowExpansion>
										<p:panelGrid columns="3" style="width:100%" id="s" layout="grid" styleClass="ui-panelgrid-blank form-group">
											<h:panelGroup>
												<h:outputText value="#{lang['title']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.title.description}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['gender']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.gender.genderName}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['equity']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.equity.description}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['tel.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.telNumber}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['cell.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.cellNumber}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="#{lang['fax.number']}" styleClass="Fs12 FontLight" />
												<br />
												<h:outputText value="#{rowVar.faxNumber}" />
											</h:panelGroup>
										</p:panelGrid>
									</p:rowExpansion>
								</p:dataTable>
								<c:if test="#{searchCompanyUI.trainingComittees.size() eq 0}">
									<h4>#{lang['no.training.committee.captured.for.company']}</h4>
								</c:if>


							</p:tab>

							<!--  Sites Tab -->
							<p:tab title="#{lang['sites']}" id="sitesTab">

								<p:dataTable value="#{searchCompanyUI.sites}" rendered="#{searchCompanyUI.sites.size() gt 0}" var="rv4" rowKey="#{rv4.id}" emptyMessage="#{lang['no.records.found']}" reflow="true">

									<p:column headerText="#{lang['site.name']}">
										<h:outputText value="#{rv4.companyName}" />
									</p:column>
									<p:column headerText="#{lang['numberOfEmployees']}">
										<h:outputText value="#{rv4.numberOfEmployees}" />
									</p:column>
									<p:column headerText="#{lang['telNumber']}">
										<h:outputText value="#{rv4.telNumber}" />
									</p:column>
									<p:column headerText="#{lang['faxNumber']}">
										<h:outputText value="#{rv4.faxNumber}" />
									</p:column>
									<p:column headerText="#{lang['status']}">
										<h:outputText value="#{rv4.siteStatus.friendlyName}" />
									</p:column>

								</p:dataTable>
								<c:if test="#{searchCompanyUI.sites.size() eq 0}">
									<h4>#{lang['no.sites.captured.for.company']}</h4>
								</c:if>

							</p:tab>
							<!-- Sites SMEs -->
							<p:tab id="siteSme" title="#{lang['site.sme']}">
								<p:dataTable var="rowVarSme" value="#{searchCompanyUI.allSmeDataModel}" rowKey="#{rowVarSme.id}" paginator="true" rows="5" paginatorPosition="bottom"
									paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
									<p:column style="width:7%" headerText="#{lang['expand.row']}">
										<p:rowToggler />
									</p:column>
									<p:column headerText="Date Added" sortBy="#{rowVarSme.createDate}">
										<p:outputLabel value="#{rowVarSme.createDate}">
											<f:convertDateTime pattern="dd MMMM yyyy" />
										</p:outputLabel>
									</p:column>
									<p:column headerText="Site Name" sortBy="#{rowVarSme.sites}">
										<p:outputLabel value="#{rowVarSme.sites.companyName}" rendered="#{rowVarSme.sites ne null}" />
										<p:outputLabel value="#{rowVarSme.company.companyName}" rendered="#{rowVarSme.sites eq null}" />
									</p:column>
									<p:column headerText="Address">
										<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine1}" rendered="#{rowVarSme.sites ne null}" />
										<p:outputLabel value="#{rowVarSme.residentialAddress.addressLine1}" rendered="#{rowVarSme.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine2}" rendered="#{rowVarSme.sites ne null}" />
										<p:outputLabel value="#{rowVarSme.residentialAddress.addressLine2}" rendered="#{rowVarSme.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rowVarSme.sites.registeredAddress.addressLine3}" rendered="#{rowVarSme.sites ne null}" />
										<p:outputLabel value="#{rowVarSme.residentialAddress.addressLine3}" rendered="#{rowVarSme.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rowVarSme.sites.registeredAddress.town.description}" rendered="#{rowVarSme.sites ne null}" />
										<p:outputLabel value="#{rowVarSme.residentialAddress.town.description}" rendered="#{rowVarSme.residentialAddress ne null}" />
										<br />
									</p:column>
									<p:column headerText="First Name" filterBy="#{rowVarSme.firstName}">
										<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.firstName}" />
									</p:column>
									<p:column headerText="Last Name" filterBy="#{rowVarSme.lastName}">
										<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.lastName}" />
									</p:column>
									<p:column headerText="Identity/Passport Number">
										<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.identityNumber}" />
										<p:outputLabel style="width:95%; opacity:1 !important;" value="#{rowVarSme.passportNumber}" />
									</p:column>
									<p:column headerText="Active" sortBy="#{rowVarSme.active}" rendered="false">
										<p:selectBooleanCheckbox value="#{rowVarSme.active}" disabled="true" />
									</p:column>
									<p:column headerText="Status" sortBy="{rowVarSme.status}">
										<p:outputLabel value="#{rowVarSme.status.friendlyName}" />
									</p:column>
									<p:rowExpansion>
										<p:outputPanel>
											<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
												<p:dataTable id="smeQualificationDt" value="#{rowVarSme.smeQualificationsList}" var="rvql" rowKey="#{rvql.id}" paginator="true" paginatorPosition="bottom" rows="5" reflow="true">
													<p:column headerText="SAQA ID" style="width:8%">
														<p:outputLabel value="#{rvql.qualification.code}" />
													</p:column>
													<p:column headerText="Qualification">
														<p:outputLabel value="#{rvql.qualification.description}" />
													</p:column>
												</p:dataTable>
											</p:panelGrid>
										</p:outputPanel>
									</p:rowExpansion>
								</p:dataTable>
							</p:tab>
							<!-- Workplace approval data -->
							<p:tab id="workplaceApprovalTab" title="Workplace Approval Data">
								<p:dataTable var="rvwpa" value="#{searchCompanyUI.allWorkPlaceApprovalDataModel}" rowKey="#{rvwpa.id}" paginator="true" rows="5" paginatorPosition="bottom"
									paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
									<p:column headerText="Status" sortBy="#{rvwpa.approvalEnum}">
										<p:outputLabel value="#{rvwpa.approvalEnum.friendlyName}" />
									</p:column>
									<p:column headerText="Site" sortBy="#{rvwpa.sites}">
										<p:outputLabel value="#{rvwpa.sites.companyName}" rendered="#{rvwpa.sites ne null}" />
										<p:outputLabel value="#{rvwpa.company.companyName}" rendered="#{rvwpa.sites eq null}" />
									</p:column>
									<p:column headerText="Company WPA Number">
										<p:outputLabel value="#{rvwpa.company.workplaceApprovalNumber}" />
									</p:column>
									<p:column headerText="Address">
										<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine1}" rendered="#{rvwpa.sites ne null}" />
										<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine1}" rendered="#{rvwpa.company.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine2}" rendered="#{rvwpa.sites ne null}" />
										<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine2}" rendered="#{rvwpa.company.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rvwpa.sites.registeredAddress.addressLine3}" rendered="#{rvwpa.sites ne null}" />
										<p:outputLabel value="#{rvwpa.company.residentialAddress.addressLine3}" rendered="#{rvwpa.company.residentialAddress ne null}" />
										<br />
										<p:outputLabel value="#{rvwpa.sites.registeredAddress.town.description}" rendered="#{rvwpa.sites ne null}" />
										<p:outputLabel value="#{rvwpa.company.residentialAddress.town.description}" rendered="#{rvwpa.company.residentialAddress ne null}" />
										<br />
									</p:column>
									<p:column headerText="Qualification/Trade">
										<p:outputLabel value="(#{rvwpa.qualification.code}) - #{rvwpa.qualification.description}" rendered="#{rvwpa.qualification ne null}" />
										<p:outputLabel value="(#{rvwpa.ofoCodes.ofoCodeParent}) - (#{rvwpa.ofoCodes.description})" rendered="#{rvwpa.ofoCodes ne null}" />
									</p:column>
									<p:column headerText="Trade" rendered="false">
										<p:outputLabel value="(#{rvwpa.ofoCodes.ofoCodeParent}) - (#{rvwpa.ofoCodes.description})" rendered="#{rvwpa.ofoCodes ne null}" />
									</p:column>

									<p:column headerText="Qualification/Trade WPA Number">
										<p:outputLabel value="#{rvwpa.workPlaceApprovalNumber}" />
									</p:column>

									<p:column width="80">
										<p:commandButton title="ETQ-TP-054" ajax="false" icon="fa fa-download " action="#{searchCompanyUI.downloadWorkPlaceApproval}" id="dlb" rendered="#{rvwpa.approvalEnum eq ApprovalEnum.Approved}" immediate="true">
											<f:setPropertyActionListener value="#{rvwpa}" target="#{searchCompanyUI.workPlaceApproval}" />
										</p:commandButton>

										<p:commandButton title="ETQ-TP-003" ajax="false" icon="fa fa-download " action="#{searchCompanyUI.downloadWorkPlaceApprovalLetter}" id="dlb11" rendered="#{rvwpa.approvalEnum eq ApprovalEnum.Approved}" immediate="true">
											<f:setPropertyActionListener value="#{rvwpa}" target="#{searchCompanyUI.workPlaceApproval}" />
										</p:commandButton>
									</p:column>
								</p:dataTable>
							</p:tab>
							<p:tab id="companyCommunicationTab" title="Company Communications">
								<p:outputPanel id="companyCommunicationTabPanel">
									<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank">

										<p:commandButton process="@this" value="New: Company Communication" icon="fa fa-plus" action="#{searchCompanyUI.prepNewCompanyCommunication}" update="companyCommunicationCreateUpdateForm" oncomplete="PF('companyCommunicationDlg').show()" rendered="#{sessionUI.employee}" />

										<ui:include src="/pages/includes/download_lazy.xhtml">
											<ui:param name="file_name" value="Company_Communications_List" />
											<ui:param name="target" value="companyCommunicationDT" />
										</ui:include>
										<ui:include src="/pages/includes/filterGuide.xhtml" />
										<p:dataTable id="companyCommunicationDT" var="rwcc" value="#{searchCompanyUI.companyCommunicationDataModel}" rowKey="#{rwcc.id}" paginator="true" rows="5" paginatorPosition="bottom"
											paginatorTemplate="Page {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">

											<p:column headerText="#{lang['expand.row']}" width="45" exportable="false">
												<p:rowToggler></p:rowToggler>
											</p:column>

											<p:column headerText="NSDMS Ref Number" sortBy="#{rwcc.id}" width="7%">
												<p:outputLabel value="#{rwcc.id}" />
											</p:column>

											<p:column headerText="Title" filterBy="#{rwcc.title}">
												<p:outputLabel value="#{rwcc.title}" />
											</p:column>

											<p:column headerText="Description" filterBy="#{rwcc.description}">
												<p:outputLabel value="#{rwcc.description}" />
											</p:column>

											<p:column headerText="Active" sortBy="#{rwcc.visible}">
												<p:outputLabel value="Active" rendered="#{rwcc.visible}" />
												<p:outputLabel value="In-Active" rendered="#{!rwcc.visible}" />
											</p:column>

											<p:column headerText="Documents Assigned" width="7%">
												<p:outputLabel value="Yes #{rwcc.docs.size()} - Document(s) Assgned" rendered="#{rwcc.docs.size() gt 0}" />
												<p:outputLabel value="No Documents Assgned" rendered="#{rwcc.docs.size() lt 1}" />
											</p:column>


											<p:column headerText="Actions" exportable="false" style="width:75px" rendered="#{sessionUI.employee}">
												<p:commandButton update=":conpanyInfoForm:mainTab:companyCommunicationTabPanel" title="Set To: Active" process="@this" id="setActive" action="#{searchCompanyUI.switchCompanyCommunicationActive}" styleClass="green-btn" icon="fa fa-check" rendered="#{!rwcc.visible}">
													<p:confirm header="Confirmation" message="Are you sure? This action will allow visibility of communication." icon="fa fa-exclamation-triangle" />
													<p:tooltip for="setActive" value="Set To: Active" position="" rendered="#{!rwcc.visible}" />
													<f:setPropertyActionListener value="#{rwcc}" target="#{searchCompanyUI.companyCommunication}" />
												</p:commandButton>
												<p:commandButton update=":conpanyInfoForm:mainTab:companyCommunicationTabPanel" title="Set To: In-Active" process="@this" id="setInActive" action="#{searchCompanyUI.switchCompanyCommunicationActive}" styleClass="red-btn" icon="fa fa-times" rendered="#{rwcc.visible}">
													<p:confirm header="Confirmation" message="Are you sure? This action will remove visibility of communication." icon="fa fa-exclamation-triangle" />
													<p:tooltip for="setInActive" value="Set To: In-Active" position="" rendered="#{rwcc.visible}" />
													<f:setPropertyActionListener value="#{rwcc}" target="#{searchCompanyUI.companyCommunication}" />
												</p:commandButton>
												<p:spacer width="5" />
												<p:commandButton process="@this" title="Update" update="companyCommunicationCreateUpdateForm" id="updateCompanyCommunicationDT" icon="fa fa-database" oncomplete="PF('companyCommunicationDlg').show()">
													<p:tooltip for="updateCompanyCommunicationDT" value="Update Communication" position="" />
													<f:setPropertyActionListener value="#{rwcc}" target="#{searchCompanyUI.companyCommunication}" />
												</p:commandButton>
											</p:column>

											<p:rowExpansion>
												<div class="EmptyBox10" />
												<p:panelGrid columns="2" style="width:95%" layout="grid" styleClass="ui-panelgrid-blank form-group" rendered="#{sessionUI.employee}">

													<h:panelGroup styleClass="md-inputfield" rendered="#{rwcc.createDate ne null}">
														<p:inputText value="#{rwcc.createDate}" style="width:95%" disabled="true">
															<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
														</p:inputText>
														<p:outputLabel value="Date Created:" />
													</h:panelGroup>

													<h:panelGroup styleClass="md-inputfield" rendered="#{rwcc.createUsers.id ne null}">
														<p:inputText value="#{rwcc.createUsers.firstName} #{rwcc.createUsers.lastName} (#{rwcc.createUsers.email})" style="width:95%" disabled="true" />
														<p:outputLabel value="Create User:" />
													</h:panelGroup>

													<h:panelGroup styleClass="md-inputfield" rendered="#{rwcc.lastUpdateDate ne null}">
														<p:inputText value="#{rwcc.lastUpdateDate}" style="width:95%" disabled="true">
															<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
														</p:inputText>
														<p:outputLabel value="Last Update Date:" />
													</h:panelGroup>

													<h:panelGroup styleClass="md-inputfield" rendered="#{rwcc.lastUpdateUser.id ne null}">
														<p:inputText value="#{rwcc.lastUpdateUser.firstName} #{rwcc.lastUpdateUser.lastName} (#{rwcc.lastUpdateUser.email})" style="width:95%" disabled="true" />
														<p:outputLabel value="Last Update User:" />
													</h:panelGroup>

												</p:panelGrid>
												<p:panelGrid id="companyComDocuments" columns="1" style="width:95%" layout="grid" styleClass="ui-panelgrid-blank form-group">

													<p:commandButton process="@this" rendered="#{sessionUI.employee}" icon="fa fa-upload" value="Upload Documents" update=":uploadCompanyCommunicationForm" action="#{searchCompanyUI.prepDocUploadCompanyCommunication}">
														<f:setPropertyActionListener value="#{rwcc}" target="#{searchCompanyUI.companyCommunication}" />
													</p:commandButton>

													<p:dataTable value="#{rwcc.docs}" var="rwccDoc" rowKey="#{rwccDoc.id}" emptyMessage="#{lang['no.records.found']}" reflow="true">
														<f:facet name="header">Documents</f:facet>
														<p:column headerText="#{lang['type']}" width="20%" rendered="false">#{rwccDoc.configDoc.name}</p:column>
														<p:column headerText="#{lang['uploaded.by']}">#{rwccDoc.users.firstName} #{rwccDoc.users.lastName}</p:column>
														<p:column headerText="#{lang['uploaded']}" width="15%">
															<h:outputText value="#{rwccDoc.createDate}">
																<f:convertDateTime pattern="dd MMM yyyy" />
															</h:outputText>
														</p:column>

														<p:column headerText="Orginal File Name" width="25%">
															<h:outputText value="#{rwccDoc.originalFname}">
															</h:outputText>
														</p:column>

														<p:column headerText="#{lang['document.is.required']}" width="150" rendered="false">
															<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.requiredDocument}" disabled="true" style="opacity: 1 !important" rendered="#{not rwccDoc.required}"></p:selectBooleanCheckbox>
															<p:selectBooleanCheckbox value="#{rwccDoc.required}" disabled="true" style="opacity: 1 !important" rendered="#{rwccDoc.required}"></p:selectBooleanCheckbox>
														</p:column>

														<p:column headerText="#{lang['original.required']}" width="150" rendered="false">
															<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.originalRequired}" disabled="true" style="opacity: 1 !important" rendered="#{not rwccDoc.configDoc.originalRequired}"></p:selectBooleanCheckbox>
															<p:selectBooleanCheckbox value="#{rwccDoc.configDoc.originalRequired}" disabled="true" style="opacity: 1 !important" rendered="#{rwccDoc.configDoc.originalRequired}"></p:selectBooleanCheckbox>
														</p:column>

														<p:column headerText="#{lang['version']}" width="15%">
															<h:outputText value="#{rwccDoc.versionNo}" />
														</p:column>

														<p:column width="180" headerText="#{lang['view.edit']}">
															<p:commandButton ajax="false" icon="fa fa-download" action="#{uploadDocUI.download}" id="dlbUserDocsCC" rendered="#{rwccDoc.id ne null}">
																<p:tooltip for="dlbUserDocsCC" value="#{lang['download.the.file']}" position="left" rendered="#{rwccDoc.id ne null}" />
																<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
															</p:commandButton>
															<p:spacer width="5" rendered="#{rwccDoc.id ne null}" />

															<p:commandButton icon="fa fa-bars " id="dhistUserDocsCC" action="#{uploadDocUI.showHistory}" oncomplete="PF('histDialog').show()" update=":documenttrackeForm:documenttrackeList" rendered="#{rwccDoc.id ne null}">
																<p:tooltip for="dhistUserDocsCC" value="#{lang['document.tracker']}" position="left" rendered="#{rwccDoc.id ne null}" />
																<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
															</p:commandButton>
															<p:spacer width="5" rendered="#{rwccDoc.id ne null}" />

															<p:commandButton rendered="#{sessionUI.employee}" icon="fa fa-upload" id="uploadUserDocsCC" styleClass="#{rwccDoc.originalFname eq null ? 'red-btn' : ''} flat" process="@this" oncomplete="PF('dlgUploadCompanyCommunication').show()" update=":uploadCompanyCommunicationForm">
																<p:tooltip for="uploadUserDocsCC" value="#{rwccDoc.originalFname eq null ? lang['click.to.upload'] : lang['re.upload']}" position="left" />
																<f:setPropertyActionListener value="#{rwccDoc}" target="#{searchCompanyUI.doc}" />
															</p:commandButton>
															<p:spacer width="5" rendered="#{sessionUI.employee}" />

															<h:panelGroup id="panelGroupThreeUserDocsCC" rendered="#{rwccDoc.note ne null and rwccDoc.note.length() gt 0}">
																<p:commandButton icon="fa fa-comment-o " id="dnoteUserDocsCC" oncomplete="PF('noteDialog').show()" update=":noteForm:notePanel">
																	<p:tooltip for="dnoteUserDocsCC" value="#{lang['view.note']}" position="left" />
																	<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																</p:commandButton>
																<p:spacer width="5" />
															</h:panelGroup>

															<h:panelGroup id="panelGroupFourUserDocsCC" rendered="#{rwccDoc.extension.toLowerCase() eq 'pdf' or rwccDoc.extension.toLowerCase() eq 'png' or rwccDoc.extension.toLowerCase() eq 'jpg' or rwccDoc.extension.toLowerCase() eq 'jpeg' or rwccDoc.extension.toLowerCase() eq 'gif'}">
																<p:commandButton icon="fa fa-eye " id="viewerButtonUserDocsCC" oncomplete="PF('viewDialog').show()" update=":viewForm:viewer" action="#{uploadDocUI.buildStreamContent}">
																	<p:tooltip for="viewerButtonUserDocsCC" value="#{lang['view.document']} " position="left" />
																	<f:setPropertyActionListener value="#{rwccDoc}" target="#{uploadDocUI.doc}" />
																</p:commandButton>
																<p:spacer width="5" />
															</h:panelGroup>
														</p:column>
													</p:dataTable>
												</p:panelGrid>
											</p:rowExpansion>
										</p:dataTable>
									</p:panelGrid>
								</p:outputPanel>
							</p:tab>
						</p:tabView>
					</h:form>
				</div>
			</div>
		</div>

		<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
			<h:form>
				<p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
				<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-times" />
			</h:form>
		</p:confirmDialog>

		<p:dialog position="top" header="Company Communication" widgetVar="companyCommunicationDlg" hideEffect="clip" showEffect="clip" id="companyCommunicationDialog" appendTo="@(body)" modal="true" closable="true" width="50%" height="60vh" responsive="true">
			<h:form id="companyCommunicationCreateUpdateForm">
				<p:panelGrid columns="1" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">

					<c:if test="#{searchCompanyUI.companyCommunication.id eq null}">
						<h3>New Company Communication For: #{searchCompanyUI.companyCommunication.company.companyName} (#{searchCompanyUI.companyCommunication.company.levyNumber})</h3>
					</c:if>
					<c:if test="#{searchCompanyUI.companyCommunication.id ne null}">
						<h3>Update Company Communication For: #{searchCompanyUI.companyCommunication.company.companyName} (#{searchCompanyUI.companyCommunication.company.levyNumber}).</h3>
					</c:if>

					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="titleEntry" value="#{searchCompanyUI.companyCommunication.title}" style="width:95%" required="true" requiredMessage="Provide: Title" />
						<p:outputLabel value="Title:" for="titleEntry" />
					</h:panelGroup>

					<h:panelGroup styleClass="md-inputfield">
						<p:inputText id="descriptionEntry" value="#{searchCompanyUI.companyCommunication.description}" style="width:95%" required="true" requiredMessage="Provide: Description" />
						<p:outputLabel value="Description:" for="descriptionEntry" />
					</h:panelGroup>

				</p:panelGrid>
				<p:panelGrid columns="2" style="width:100%" layout="grid" styleClass="ui-panelgrid-blank form-group">
					<p:commandButton update=":companyCommunicationCreateUpdateForm :conpanyInfoForm:mainTab:companyCommunicationTabPanel" process="companyCommunicationCreateUpdateForm" value="Create New Communication" action="#{searchCompanyUI.createUpdateCompanyCommunication}"
						rendered="#{searchCompanyUI.companyCommunication.id eq null}" styleClass="green-btn" icon="fa fa-plus">
						<p:confirm header="Confirmation" message="Are you sure?" icon="fa fa-exclamation-triangle" />
					</p:commandButton>
					<p:commandButton update=":companyCommunicationCreateUpdateForm :conpanyInfoForm:mainTab:companyCommunicationTabPanel" process="companyCommunicationCreateUpdateForm" value="Update Communication" action="#{searchCompanyUI.createUpdateCompanyCommunication}"
						rendered="#{searchCompanyUI.companyCommunication.id ne null}" styleClass="green-btn" icon="fa fa-database">
						<p:confirm header="Confirmation" message="Are you sure?" icon="fa fa-exclamation-triangle" />
					</p:commandButton>
					<p:commandButton process="@this" action="#{searchCompanyUI.cancelCreateUpdateCompanyCommunication}" value="Cancel" oncomplete="PF('companyCommunicationDlg').hide()" update="@form" icon="fa fa-times" />
				</p:panelGrid>
			</h:form>
		</p:dialog>

		<p:dialog id="sdfdocsDialog" widgetVar="sdfdocsDlg" modal="true" width="98%" responsive="true" header="SDF Registration Documents" showEffect="clip" height="clip" fitViewport="true" position="top">
			<h:form id="sdfDocForm">
				<p:dataTable value="#{searchCompanyUI.sdf.docs}" rendered="#{searchCompanyUI.displaySdfRegDocs}" var="rvsd" emptyMessage="#{lang['no.records.found']}" paginator="true" rows="2" paginatorPosition="bottom"
					paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="2" reflow="true" rowKey="#{rvsd.id}">
					<f:facet name="header">Registration Documents</f:facet>
					<p:column headerText="#{lang['type']}" width="18%">#{rvsd.configDoc.name}</p:column>
					<p:column headerText="#{lang['original.file.name']}" priority="4">
						<p:outputLabel value="#{rvsd.originalFname}" styleClass="Fs12"></p:outputLabel>
					</p:column>
					<p:column headerText="#{lang['uploaded.by']}">#{rvsd.users.firstName} #{rvsd.users.lastName}</p:column>
					<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
						<h:outputText value="#{rvsd.createDate}">
							<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
						</h:outputText>
					</p:column>
					<p:column headerText="#{lang['version']}" width="10%" priority="4">
						<h:outputText value="#{rvsd.versionNo}">
						</h:outputText>
					</p:column>
					<p:column headerText="#{lang['original.required']}">
						<center>
							<h:panelGroup rendered="#{rvsd.configDoc.originalRequired}" styleClass="green">
								<i class="fa fa-files-o fa-3x" aria-hidden="true"></i>
							</h:panelGroup>
							<h:panelGroup rendered="#{not rvsd.configDoc.originalRequired}" styleClass="red">
								<i class="fa fa-times fa-3x" aria-hidden="true"></i>
							</h:panelGroup>
						</center>
					</p:column>
					<p:column width="180">
						<p:commandButton ajax="false" icon="fa fa-download" update="@form" action="#{uploadDocUI.download}" id="dlb" rendered="#{rvsd.id ne null}">
							<f:setPropertyActionListener value="#{rvsd}" target="#{uploadDocUI.doc}" />
							<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rvsd.id ne null}" />
						</p:commandButton>
						<p:spacer width="5" rendered="#{rvsd.id ne null}" />
					</p:column>
				</p:dataTable>

				<div class="EmptyBox5" />
				<br />
				<p:dataTable value="#{searchCompanyUI.changeReasonDocs}" rendered="#{searchCompanyUI.displayChangeDocs}" var="rvcd" emptyMessage="#{lang['no.records.found']}" paginator="true" rows="2" paginatorPosition="bottom"
					paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="2" reflow="true" rowKey="#{rvcd.id}">
					<f:facet name="header">Change Reason Document</f:facet>
					<p:column headerText="#{lang['type']}" width="18%">Change Reason</p:column>
					<p:column headerText="#{lang['original.file.name']}" priority="4">
						<p:outputLabel value="#{rvcd.originalFname}" styleClass="Fs12"></p:outputLabel>
					</p:column>
					<p:column headerText="#{lang['uploaded.by']}">#{rvcd.users.firstName} #{rvcd.users.lastName}</p:column>
					<p:column headerText="#{lang['uploaded']}" width="15%" priority="3">
						<h:outputText value="#{rvcd.createDate}">
							<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
						</h:outputText>
					</p:column>
					<p:column headerText="#{lang['version']}" width="10%" priority="4">
						<h:outputText value="#{rvcd.versionNo}">
						</h:outputText>
					</p:column>
					<p:column width="180">
						<p:commandButton ajax="false" icon="fa fa-download" update="@form" action="#{uploadDocUI.download}" id="dlb" rendered="#{rvcd.id ne null}">
							<f:setPropertyActionListener value="#{rvcd}" target="#{uploadDocUI.doc}" />
							<p:tooltip for="dlb" value="#{lang['download.the.file']}" position="left" rendered="#{rvcd.id ne null}" />
						</p:commandButton>
						<p:spacer width="5" rendered="#{rvcd.id ne null}" />
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>

		<p:dialog widgetVar="mailLogDlg" modal="true" width="98%" responsive="true" header="Mail log" showEffect="clip" height="clip" fitViewport="true" position="top">
			<h:form id="mailForm">
				<p:dataTable value="#{searchCompanyUI.mailLogs}" var="rv" rowKey="#{rv.id}" paginator="true" rows="2" paginatorPosition="bottom" paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="2,5" reflow="true">
					<p:column headerText="Send to" width="20%">
						<h:outputText value="#{rv.user.firstName} #{rv.user.lastName}" />#{rv.id}
          </p:column>

					<p:column headerText="#{lang['email']}">
						<div style="overflow-y: scroll; height: 150px;">
							<h:outputText value="#{rv.subject}" styleClass="FontBold" />
							<br />
							<h:outputText value="#{rv.body}" escape="false" />
						</div>
					</p:column>
					<p:column headerText="Send date" sortBy="#{rv.createDate}" width="10%">
						<h:outputText value="#{rv.createDate}">
							<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
						</h:outputText>
					</p:column>
					<p:column width="30" headerText="#{lang['view.edit']}">
						<p:commandButton rendered="#{rv.doc ne null}" icon="ui-icon-cloud-download" id="dlAt" action="#{uploadDocUI.download}" ajax="false">
							<f:setPropertyActionListener value="#{rv.doc}" target="#{uploadDocUI.doc}" />
						</p:commandButton>

						<p:tooltip for="dlAt" value="Download email attachment" position="left" />
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>

		<p:dialog widgetVar="mailLogV2Dlg" modal="true" width="98%" responsive="true" header="Mail log" showEffect="clip" height="clip" fitViewport="true" position="top">
			<h:form id="mailFormV2">
				<p:dataTable value="#{searchCompanyUI.companyMailLogDataModel}" var="rv" rowKey="#{rv.id}" paginator="true" rows="2" paginatorPosition="bottom" paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="2,5" reflow="true" lazy="true">
					<p:column headerText="Send to" width="20%">
						<h:outputText value="#{rv.user.firstName} #{rv.user.lastName}" />#{rv.id}
          			</p:column>
					<p:column headerText="#{lang['email']}">
						<div style="overflow-y: scroll; height: 150px;">
							<h:outputText value="#{rv.subject}" styleClass="FontBold" />
							<br />
							<h:outputText value="#{rv.body}" escape="false" />
						</div>
					</p:column>
					<p:column headerText="Send date" sortBy="#{rv.createDate}" width="10%">
						<h:outputText value="#{rv.createDate}">
							<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
						</h:outputText>
					</p:column>
					<p:column width="30" headerText="#{lang['view.edit']}">
						<p:commandButton rendered="#{rv.doc ne null}" icon="ui-icon-cloud-download" id="dlAt" action="#{uploadDocUI.download}" ajax="false">
							<f:setPropertyActionListener value="#{rv.doc}" target="#{uploadDocUI.doc}" />
						</p:commandButton>

						<p:tooltip for="dlAt" value="Download email attachment" position="left" />
					</p:column>
				</p:dataTable>
			</h:form>
		</p:dialog>

		<ui:include src="/pages/includes/tasksFor.xhtml" />
		<ui:include src="/pages/upload/commonuploadDialogs.xhtml" />

		<p:dialog header="#{lang['upload.documents']}" position="top" widgetVar="dlgUploadCompanyCommunication" resizable="false" hideEffect="clip" showEffect="clip" id="dialogUploadCompanyCommunication" width="80%" responsive="true" modal="true" dynamic="true">
			<h:form id="uploadCompanyCommunicationForm">
				<h:panelGroup id="uploadGroup">
					<div class="ui-g">
						<div class="ui-g-12">
							<div class="card">
								<p:panel>
									<h:panelGrid columns="2" style="width: 100%">
										<p:outputLabel value="#{lang['notes']}:" for="note" />
										<p:inputTextarea id="note" value="#{searchCompanyUI.doc.note}" autoResize="false" rows="2" style="width: 90%">
											<p:ajax />
										</p:inputTextarea>
									</h:panelGrid>

									<div class="TexAlCenter">
										<span class="Fleft Fs12 softgray">#{lang['drag.and.drop.your.file.on.the.upload.image.below']}</span> <br />
									</div>
									<p:fileUpload onstart="uploadStart()" oncomplete="uploadDone()" fileUploadListener="#{searchCompanyUI.storeFileCompanyCommunication}" mode="advanced" dragDropSupport="true" showButtons="false" label="#{lang['select.file']}" fileLimitMessage="#{lang['file.to.big.to.upload']}"
										update=":uploadCompanyCommunicationForm  :conpanyInfoForm:mainTab:companyCommunicationTabPanel" multiple="false" fileLimit="1" immediate="false" auto="true" />
								</p:panel>
								<div class="EmptyBox10" />
							</div>
						</div>
					</div>
				</h:panelGroup>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>