<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core" template="/WEB-INF/template.xhtml">
	<ui:define name="content">
		<p:growl showDetail="false" sticky="false">
			<p:autoUpdate />
		</p:growl>
		<h:panelGroup id="laernerPG">
			<h:form id="mainForm">
				<div class="ui-g">
					<div class="ui-g-12">
						<div class="card card-w-title">
							
								<h1>Legacy Data: ARPL Section 28</h1>
		
								<p:outputLabel value="Data Source: SECT28.xlsx " />
								<br />
								<p:outputLabel value="Tab: SECT28 " />
								<div class="EmptyBox10" />
		
								<c:if test="#{legacySectionTwentyEightUI.displayDownload}">
									<ui:include src="/pages/includes/download_lazy.xhtml">
										<ui:param name="file_name" value="legacysecttwentyeightList_dataextract" />
										<ui:param name="target" value="legacysecttwentyeightList" />
									</ui:include>
								</c:if>
		
								<p:dataTable var="rowVar" value="#{legacySectionTwentyEightUI.dataModel}" filteredValue="#{legacySectionTwentyEightUI.legacySECTTwentyEightfilteredList}" id="legacysecttwentyeightList" rowKey="#{rowVar.id}" paginator="true" rows="6" paginatorPosition="bottom" paginatorTemplate="Page {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="5,10,15,20,25" reflow="true" lazy="true">
									<p:ajax event="rowToggle" listener="#{legacySectionTwentyEightUI.onRowToggleTwentyEightModel(rowVar)}" /> 
									<p:column style="width:5%" headerText="Expand">
										<p:rowToggler />
									</p:column>
									<p:column headerText="DATE TIME CREATED" rendered="false">
										<h:outputText value="#{rowVar.createDate}">
											<f:convertDateTime pattern="dd MMM yyyy (HH:mm)" />
										</h:outputText>
									</p:column>
									<p:column headerText="NSDMS REF ID" rendered="false">
										<h:outputText value="#{rowVar.id}" />
									</p:column>
									<p:column headerText="ApprenticeshipID">
										<h:outputText value="#{rowVar.apprenticeshipID}" />
									</p:column>
									<p:column headerText="IDNo" filterBy="#{rowVar.idNo}">
										<h:outputText value="#{rowVar.idNo}" />
									</p:column>
									<p:column headerText="AlternateIDNo" filterBy="#{rowVar.alternateIDNo}">
										<h:outputText value="#{rowVar.alternateIDNo}" />
									</p:column>
									<p:column headerText="Firstname" filterBy="#{rowVar.firstName}">
										<h:outputText value="#{rowVar.firstName}" />
									</p:column>
									<p:column headerText="Surname" filterBy="#{rowVar.surname}">
										<h:outputText value="#{rowVar.surname}" />
									</p:column>
									<p:column headerText="LearnerStatusEffectiveDate">
										<h:outputText value="#{rowVar.learnerStatusEffectiveDate}" />
									</p:column>
									<p:column headerText="ApprenticeshipStartDate" rendered="false">
										<h:outputText value="#{rowVar.apprenticeshipStartDate}" />
									</p:column>
									<p:column headerText="ApprenticeshipStatusEffectiveDate">
										<h:outputText value="#{rowVar.apprenticeshipStatusEffectiveDate}" />
									</p:column>
									<p:column headerText="ApprenticeshipEndDate">
										<h:outputText value="#{rowVar.apprenticeshipEndDate}" />
									</p:column>
									<p:column headerText="TradeDescription">
										<h:outputText value="#{rowVar.tradeDescription}" />
									</p:column>
									
									<p:column headerText="SAQA_Code">
										<h:outputText value="#{rowVar.saqaCode}" />
									</p:column>
									
									<p:column headerText="SDLNo">
										<h:outputText value="#{rowVar.sdlNo}" />
									</p:column>
									
									<p:column headerText="OrganisationNameLegal">
										<h:outputText value="#{rowVar.organisationNameLegal}" />
									</p:column>
									
									<p:column headerText="WASDL">
										<h:outputText value="#{rowVar.wasdl}" />
									</p:column>
									
									<p:column headerText="WALegalName">
										<h:outputText value="#{rowVar.waLegalName}" />
									</p:column>
									
									<p:column headerText="Contract Status" filterBy="#{rowVar.description}">
										<h:outputText value="#{rowVar.description}"/>
									</p:column>
											
									
									<p:column width="120" headerText="#{lang['view.edit']}" exportable="false">
										<p:commandButton icon="fa fa-plus" title="#{lang['add']}" update="@form" action="#{legacyLearnersEmployeesUI.redirectLegacySectTwentyEight}" rendered="#{(rowVar.description eq 'Registered' or rowVar.description eq 'Application' or rowVar.description eq 'Externally Loaded') and not rowVar.createdCompanyLearner}" process="@this">
											<f:setPropertyActionListener value="#{rowVar}" target="#{legacyLearnersEmployeesUI.legacysecttwentyeight}" />
										</p:commandButton>
									</p:column>
		
									<p:rowExpansion>
										<p:fieldset legend="NSDMS REF ID: #{rowVar.id}" style="margin-bottom:20px">
		
											<p:panelGrid columns="2" style="width : 100%" styleClass="ui-panelgrid-blank form-group" layout="grid">
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.description}" style="width:95%" disabled="true" />
													<p:outputLabel value="Description" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.currentPreviousEmp}" style="width:95%" disabled="true" />
													<p:outputLabel value="CurrentPreviousEmp" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.sdlNo}" style="width:95%" disabled="true" />
													<p:outputLabel value="SDLNo" />
												</h:panelGroup>
		
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.region}" style="width:95%" disabled="true" />
													<p:outputLabel value="Region" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.setaRegion}" style="width:95%" disabled="true" />
													<p:outputLabel value="SETARegion" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.magisterialDistrict}" style="width:95%" disabled="true" />
													<p:outputLabel value="MagisterialDistrict" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.chamberCode}" style="width:95%" disabled="true" />
													<p:outputLabel value="ChamberCode" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.nTwo}" style="width:95%" disabled="true" />
													<p:outputLabel value="N2" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.minTraining}" style="width:95%" disabled="true" />
													<p:outputLabel value="MinTraining" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.dateCreated}" style="width:95%" disabled="true" />
													<p:outputLabel value="DateCreated" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.dateLastChanged}" style="width:95%" disabled="true" />
													<p:outputLabel value="DateLastChanged" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.certificateNumber}" style="width:95%" disabled="true" />
													<p:outputLabel value="CertificateNumber" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.dateCertificateCreated}" style="width:95%" disabled="true" />
													<p:outputLabel value="DateCertificateCreated" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.dgTag}" style="width:95%" disabled="true" />
													<p:outputLabel value="DGTag" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.fundingStatus}" style="width:95%" disabled="true" />
													<p:outputLabel value="MagisterialDistrict" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.municipalityName}" style="width:95%" disabled="true" />
													<p:outputLabel value="MunicipalityName" />
												</h:panelGroup>
		
												<h:panelGroup styleClass="md-inputfield">
													<p:inputText value="#{rowVar.socioEcoStatusDesc}" style="width:95%" disabled="true" />
													<p:outputLabel value="SocioEcoStatusDesc" />
												</h:panelGroup>
		
											</p:panelGrid>
										</p:fieldset>
										
										<ui:include src="/pages/externalparty/wsp/includes/legacysectiontwentyeightassessment.xhtml">
											<ui:param name="rowVarValue" value="#{legacyLearnersEmployeesUI.legacysecttwentyeight.legacysectiontwentyeighttradetestList}" />
										</ui:include>
									</p:rowExpansion>
		
								</p:dataTable>
										
								<p:confirmDialog global="true" showEffect="fade" hideEffect="fade" width="250">
									<p:commandButton value="#{lang['yes']}" styleClass="ui-confirmdialog-yes GreenButton" icon="ui-icon-check" />
									<p:commandButton value="#{lang['no']}" type="button" styleClass="ui-confirmdialog-no RedButton" icon="ui-icon-close" />
								</p:confirmDialog>
						</div>
					</div>
				</div>
			</h:form>
		</h:panelGroup>
	</ui:define>
</ui:composition>
